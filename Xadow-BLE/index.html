<html><head><meta name="viewport" content="width=device-width, initial-scale=1"><link href=//fonts.googleapis.com/css?family=Raleway:400,300,600 rel=stylesheet type=text/css><link rel="stylesheet" type="text/css" href="../common/css/normalize.css"><link rel="stylesheet" type="text/css" href="../common/css/skeleton.css"><link rel="stylesheet" type="text/css" href="../common/css/wiki.css"><script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script><title>Xadow - BLE</title><meta charset="utf-8"/><script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-84386732-1', 'auto');
  ga('send', 'pageview');
</script>
</head>
<body><div class"container"><a href="../"><img src="../common/logo.png"/></a></div><div class="mw-content-ltr container" dir="ltr" id="mw-content-text" lang="en"><h1>Xadow - BLE</h1>
<div class="thumb tright"><div class="thumbinner" style="width:402px;"><img src="img/813004001xadow_ble.jpg" width="400"/> <div class="thumbcaption"></div></div></div>

<p>The Xadow - BLE is a Bluetooth Smart enabled Xadow form factor module based on HM-11 module. The Xadow - BLE can be used in hardware setups, where normally an Xadow module is used. Using a Xadow - BLE an Xadow enabled embedded system can communicate with desktop computers, smartphones, table computers and even other embedded systems providing Bluetooth Smart aka Bluetooth Low Energy (BLE).
</p><p>Prototype version:
</p><p><img src="img/Xadow-BLE.jpg" width="400"/>
</p>
<h2>   Features  </h2>
<ul><li>Compatible XBee shape 
</li><li>Bluetooth protocol: Bluetooth Specification V4.0 BLE
</li><li>Working frequency: 2.4 GHz ISM band
</li><li>Interface way: a serial port
</li><li>Open environment within 30 meters can realize communication between modules
</li><li>To send and receive no byte limit between modules
</li><li>Modulation method: GFSK (Gaussian Frequency Shift Keying)
</li><li>Transmission power: - DBM, 23-6 DBM, 0 DBM, 6 DBM, can be modified by the AT command
</li><li>use TI CC2540 chip, configuration space of 256 KB, support the AT command, the user can according to need to change the role (master, slave mode) and the serial port baud rate, name of equipment, matching parameters such as passwords, use agile.
</li><li>power supply: + 3.3 VDC 50 mA
</li><li>working temperature: - 5 ~ + 65 Centigrade
</li></ul>
<p><br/>
Note: BLE Bee 
</p>
<h2>   Specification  </h2>
<table>
<tr>
<th> Specification
</th>
<th> Value
</th></tr>
<tr>
<td width="400px"> Microprocessor
</td>
<td width="600px"> CC2540
</td></tr>
<tr>
<td> Resources
</td>
<td> Support the AT command, the user can according to need to change the role (master, slave mode) and the serial port baud rate, name of equipment,Matching parameters such as password, the use of flexible.
</td></tr>
<tr>
<td> PCB size
</td>
<td> 24.5mmx30.5mmx0.8mm
</td></tr>
<tr>
<td> Outline Dimension
</td>
<td> 24.5mmx30.5mmx9.77mm
</td></tr>
<tr>
<td> Power supply
</td>
<td> 3.3V
</td></tr>
<tr>
<td> Communication Protocol
</td>
<td> Uart(TTL)
</td></tr>
<tr>
<td> IO counts
</td>
<td> 2
</td></tr>
<tr>
<td> Key input IO
</td>
<td> 1
</td></tr>
<tr>
<td> LED Indicators IO
</td>
<td> 1
</td></tr>
<tr>
<td> Connectivity
</td>
<td> Socket compatible with Xadow
</td></tr></table>
<h2>   Electrical Characteristics </h2>
<table >
<tr>
<th> Specification
</th>
<th> Min
</th>
<th> Typ
</th>
<th> Max
</th>
<th> Unit
</th></tr>
<tr>
<td width="400px"> Max Input Voltage
</td>
<td width="150px"> -0.3
</td>
<td width="150px">
</td>
<td width="150px"> 3.6
</td>
<td width="150px"> V
</td></tr>
<tr>
<td> Working Input Voltage
</td>
<td> 2.0
</td>
<td> 3.3
</td>
<td> 3.6
</td>
<td> V
</td></tr>
<tr>
<td> Transmit Current
</td>
<td>
</td>
<td> 15
</td>
<td>
</td>
<td> mA
</td></tr>
<tr>
<td> Receive Current
</td>
<td>
</td>
<td> 8.5
</td>
<td>
</td>
<td> mA
</td></tr>
<tr>
<td> Deep Sleep Current
</td>
<td>
</td>
<td> 600
</td>
<td>
</td>
<td> uA
</td></tr>
<tr>
<td> Operating Temperature
</td>
<td> -40
</td>
<td>
</td>
<td> 125
</td>
<td> °C
</td></tr></table>
<h2>   Pin definition </h2>
<p><img src="img/Xadow_ble_pin.jpg" width="600"/>
</p><p><br/>
Note: Only important alternate functions are listed, may have more, please refer to datasheet.
</p>
<h2>   Usage </h2>
<h3>   AT commands &amp; Configuration </h3>
<p><b>1）	Query the native MAC address<br/></b>
Send: AT+ADDR? <br/>
Send after a successful return: OK + LADD: MAC address (address for 12 string)<br/>
</p><p><b>2）	Query the baud rate<br/></b>
Send: AT+BAUD? <br/>
Send after a successful return: OK + Get: [para1]<br/>
Scope of para1:0 ~ 8. The parameters corresponding to: 0 represents 9600, 1, 2, 9600, 38400, on behalf of the representative representative of 57600, 115200, 5, 4800, 6, 7 represents 1200, 1200 2400. The default baud rate to 9600.<br/>
</p><p><b>3）	Set the baud rate<br/></b>
Send: AT+BAUD[para1] <br/>
Send after a successful return: OK + Set:[para1] <br/>
Example: send: AT + BAUD1, return: OK + Set: 2.The baud rate is set to 19200. <br/>
Note: after the switch to the 1200, module will no longer support the configurations of the AT command, and press the PIO0 under standby, module can restore the factory Settings.Do not recommend using the baud rate.After setting the baud rate, modules should be on electricity, anew set parameters can take effect.<br/>
</p><p><b>4）	from the device connected to the bluetooth address specified<br/></b>
Send: AT+CON[para1] <br/>
Send after a successful return: OK + CONN[para2]<br/>
Para2 range is: A, E, F<br/>
Example: from the bluetooth address is: 0017EA0943AE, sending the AT + CON0017EA0943AE, module returns: OK + CONNA or OK + + CONNF CONNE or OK.<br/>
</p><p><b>5）	removal equipment matching information<br/></b>
Send: AT+CLEAR<br/>
Send after a successful return: OK + CLEAR<br/>
Clear success had connected device address code information. <br/>
</p><p><b>6）	query module working mode<br/></b>
Send: AT+MODE? <br/>
Send after a successful return: OK + Get: [para]<br/>
Para: the range of 0 ~ 2. 0 represents passthrough mode, on behalf of the PIO acquisition + remote control + 1 passthrough, 2 representative passthrough + remote control mode.The default is 0.<br/>
</p><p><b>7）	set module working mode: <br/></b>
Send: AT+MODE[para1]<br/>
Send after a successful return: OK + Set: [para]<br/>
</p><p><b>8）	query device name<br/></b>
Send: AT+NAME? <br/>
Send after a successful return: OK + NAME [para1]<br/>
</p><p><b>9）	set the device name<br/></b>
Send: AT+NAME[para1]<br/>
Send after a successful return: OK + Set: [para1]<br/>
Example: Set the device name to Seeed, sending the AT + NAMESeeed, return OK + Set: Seeed AT this time, the name of the bluetooth module has been changed to Seeed.
Note: after the instruction execution, required to electricity, set the parameters of the approval.<br/>
</p><p><b>10）	query matching password<br/></b>
Send: AT+PASS? <br/>
Send after a successful return: OK + PASS: [para1]<br/>
Para1 range is 000000 ~ 999999, the default is 000000.<br/>
</p><p><b>11）	pairing set password<br/></b>
Send: AT+PASS[para1]<br/>
Send after a successful return: OK + Set: [para1]<br/>
</p><p><b>12）	restore factory Settings<br/></b>
Send: AT+RENEW<br/>
Send after a successful return: OK + RENEW<br/>
Restore the default factory Settings module, the module Settings will be reset so, back to the factory with the status of the factory default, delay module 500 ms after the restart.If no need, please be careful.<br/>
</p><p><b>13）	module reset<br/></b>
Send: AT+RESET<br/>
Send after a successful return: OK + RESET<br/>
After the instruction execution module will delay 500 ms after the restart.<br/>
</p><p><b>14）	set the master-slave mode<br/></b>
Send: AT+ROLE[para1]<br/>
Send after a successful return: OK + Set: [para1]<br/>
</p>
<h3>  HelloWorld </h3>
<p>Note: when connect Xadow-BLE to Xadow Main Board, you should concern about the connection direction. The connection method is that the unfilled corner of one Xadow module need to connect to the right angle of another module(see four corners of each Xadow module). 
</p><p>//make Xadow BLE as a BLE Master device
</p>
<pre> 
 
#define SerialBaud   9600
#define Serial1Baud  9600

void setup()
{
    Serial.begin(SerialBaud);
    Serial1.begin(Serial1Baud);
    while(!Serial.available());
    // set master
    Serial1.print("AT+ROLE1");
    delay(1000);
}

void loop()
{
    while(Serial.available()){
      Serial1.write(Serial.read());
    }
    while(Serial1.available()){
      Serial.write(Serial1.read());
    }
}
</pre>
<p><br/>
</p><p><br/>
//make Xadow BLE as a BLE Slave device 
</p>
<pre> 
 
#define SerialBaud   9600
#define Serial1Baud  9600
void setup()
{
    Serial.begin(SerialBaud);
    Serial1.begin(Serial1Baud);
    while(!Serial.available());
    // set slave 
    Serial1.print("AT+ROLE0");
    delay(1000);
}

void loop()
{
    while(Serial.available()){
      Serial1.write(Serial.read());
    }
    while(Serial1.available()){
      Serial.write(Serial1.read());
    }
}
</pre>
<h2>  Android BLE Communication </h2>
<p>Here we show you how to make Xadow - BLE communicate with your Android mobile phone（Note: your android system version should be up than 4.3).<br/>
1. Download the android APP <a href="res/BLE_Example.zip">here </a>,and install it to your android mobile phone.<br/>
2. Connect your xadow BLE with Xadow mainboard, and then copy the Xadow BLE Slave device demo code above, compile and upload it to the Xadow MainBoard.<br/>
3. Open an Serial Tool(e.g. SSCOM32), and open the Serial Port of Xadow MainBoard.<br/>
4. Open the BLE Example APK that you installed in the first step, it will be as follow:<br/>
<img src="img/Ble_start.png" width="200"/><br/>
5. click the <b>start</b> button in the center of UI, it will start to scan for BLE slave devices.The Scan result will be shown in the dialog list.<br/>
<img src="img/Ble_scanResult.png" width="200"/><br/>
6. Select the <b>Seeed BLE</b>, it will try to connect the Xadow BLE automatically.<br/>
7. After you connect the ble slave device successfully,You will find that the UUID is null and you need to pick up one from the list of <b>Characteristics UUID List</b>, Here we choose the UUID:0000ffe1-0000-1000-8000-00805f9b34fb<br/>
<img src="img/Ble_UUIDSelected.png" width="200"/><br/>
8. OK, the exciting moment has come! Input the command(data) to the textbox, and then click the Send button, the message will be send to the specified ble devices. and the recv textbox will show the message from the slave devices, just as follow. Have fun!<br/>
<img src="img/Ble_sendData.png" width="200"/>
<img src="img/Ble_recvData.png" width="200"/><br/>
</p>
<h2> Resources</h2>
<p><a href="res/Xadow-BLE_v1.0_20131224.zip">Xadow-BLE_v1.0  Eagle File</a><br/>
<a href="res/HMBLEComAssistant.rar">BLE_apk_for_Android</a><br/>
<a href="res/Bluetooth4_en.pdf">DataSheet of BLE module</a><br/>
<a href="https://github.com/Seeed-Studio/BLE_Example">BLE Android Source Code On GitHub</a><br/>
<a href="res/HMSoft_ios6.zip">4.0 BLE IOS6 Source Code</a><br/>
<a href="res/HMSoft_ios7.zip">4.0 BLE IOS7 Source Code</a><br/>
<a href="res/BluetoothLeGatt.rar">4.0 BLE Android Source Code</a><br/>
<a href="http://www.huamaosoft.com/index_en.asp?page=2&amp;ID=1">More Documents URL</a><br/>
</p>
Copyright (c) 2008-2016 Seeed Development Limited (<a href="http://www.seeedstudio.com">www.seeedstudio.com</a> / <a href="http://www.seeed.cc">www.seeed.cc</a>)<h6>This static html page was created from http://www.seeedstudio.com/wiki</h6></div></body></html>