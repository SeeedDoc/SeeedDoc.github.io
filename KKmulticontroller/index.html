<html><head><meta name="viewport" content="width=device-width, initial-scale=1"><link href=//fonts.googleapis.com/css?family=Raleway:400,300,600 rel=stylesheet type=text/css><link rel="stylesheet" type="text/css" href="../common/css/normalize.css"><link rel="stylesheet" type="text/css" href="../common/css/skeleton.css"><link rel="stylesheet" type="text/css" href="../common/css/wiki.css"><script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script><title>KKmulticontroller</title><meta charset="utf-8"/></head><body><div class"container"><a href="../index.html"><img src="../common/logo.png"/></a></div><div class="mw-content-ltr container" dir="ltr" id="mw-content-text" lang="en"><h1>KKmulticontroller</h1>

<p>The KKmulticontroller is a flight control board for remote control multicopters with 2,3,4 and 6 rotors. Its purpose is to stablise the aircraft during flight. To do this it takes the signal from the three gyros on the board (roll, pitch and yaw) and feeds the information into the Integrated Circuit (Atmega IC). This then processes the information according the the KK software and sends out a control signal to the Electronic Speed Controllers (ESCs) which are plugged onto the board and also connected to the motors. Depending upon the signal from the IC the ESCs will either speed up or slow down the motors (and tilt the rear rotor with a servo in a Tricopter) in order to establish level flight.
</p><p>The board also takes a control signal from the Remote Control Receiver (RX) and feeds this into the IC via the aileron, elevator, throttle and rudder pins on the board. After processing this information, the IC will then send out a signal to the motors (Via the M1 to M6 pins on the board) to speed up or slow down to achieve controlled flight (up, down, backwards, forwards, left, right, yaw) on the command from the RC Pilot sent via his Transmitter (TX). In the case of a Tricopter, one of the pin connectors (M4) will control a servo to achieve yaw authority.
</p><p>The v.5.5 has an Atmega168 chip on board and an ISP header which gives users the option to tweak and upload their own controller code.
</p><p><b>Model: <a href="http://www.seeedstudio.com/depot/kkmulticontroller-smd-v55-blackboard-p-739.html?cPath=132_136">AVR101D2P</a></b>
</p><p><a href="http://www.seeedstudio.com/depot/images/product/kk01.jpg">http://www.seeedstudio.com/depot/images/product/kk01.jpg</a>
</p>
<h2>  Features  </h2>
<ul><li>feature1 
</li><li>feature2 
</li><li>feature3
</li></ul>
<h2>  Application Ideas  </h2>
<ul><li>Application1 
</li><li>Application2 
</li><li>Application3
</li></ul>
<h2>  Cautions  </h2>
<p><b>NOTES:</b> Do not use bigger propellers than you need. Light propellers gives faster response and
more stability.Try to get it to hover at about midstick (1/3 to 2/3 throttle). Use smaller/bigger
propeller, different motor Kv or more/less Battery cells to achieve that.
</p>
<h2>  Schematic  </h2>
<p>Click here to see the Schematic Diagram of KKmulticontroller:
</p>
<ul><li><a href="/images-e-e7-KKblock-diagram.JPG" title="KKblock-diagram.JPG">Design Schematics for the V5.5 SMD PCB</a>
</li></ul>
<ul><li><a href="/images-8-8f-KKsch.JPG" title="KKsch.JPG">Yaw Breakout Board Schematic</a>
</li></ul>
<h2>  Specification  </h2>
<p>May include key specification and other specifications.
</p>
<h2>  Pin definition and Rating  </h2>
<h2>  Mechanic Dimensions  </h2>
<h2>  Usage  </h2>
<h3>  Hardware Installation  </h3>
<p><b>1.Checking transmitter channels:</b>
</p>
<ul><li>Take off the propellers.
</li><li>Turn on transmitter and flight controller.
</li><li>Set throttle to about 1/4. Motors should start.
</li><li>Move pitch (elevator) stick forward. Back motor should speed up. If not, reverse pitch (elevator)
</li></ul>
<p>channel.
</p>
<ul><li>Move roll (aileron) stick to the left. Right motor should speed up. If not, reverse roll (aileron)
</li></ul>
<p>channel.
</p>
<ul><li>Move yaw (rudder) stick to the left. Front and back motor should speed up. If not, reverse yaw
</li></ul>
<p>(rudder) channel.
</p><p><b>2. Transmitter throttle adjustiment:</b>
</p>
<ul><li> Turn on transmitter and flight controller.
</li><li> If led does not turn on and stays on, lower your trim.
</li><li> If still no go, you may need to reverse the throttle channel.
</li><li> On Tri v1.5 and Quad v4.5 firmware and above, you need to Arm your board by putting the left
</li></ul>
<p>stick down and to the right for the LED to come on. If this does not happen, adjust your throttle and
yaw trim down and to the right on your transmitter. Make sure you do not have any mixing switches
on your Transmitter enabled.
</p><p><b>3. Initial transmitter ATV/servo range settings:</b>
</p>
<ul><li> Pitch (elevator): 50%
</li><li> Roll (aileron): 50%
</li><li> Yaw (rudder): 100%
</li></ul>
<p><b>4. ESC throttle range:</b>
</p>
<ul><li> Turn yaw pot to zero.
</li><li> Turn on transmitter.
</li><li> Throttle stick to full.
</li><li> Turn on flight controller.
</li><li> Wait until the ESCs beep twice after the initial beeps. (Plush and SS ESC's)
</li><li> Throttle stick to off. ESCs beep.
</li><li> Turn off flight controller.
</li><li> Restore the yaw pot.
</li></ul>
<p><b>5. Initial Gyro gain pot value is 50%.</b>
</p><p>Increase until it starts to oscillate rapidly, then back off until it is stable again. Fast forward flight needs lower gain.
Too low gain is recognized by the multicopter being hard to control and/or always wanting to tip
over.
</p><p><b>6. Checking gyro directions:</b>
</p>
<ul><li> Take off the propellers.
</li><li> Turn on transmitter and flight controller.
</li><li> Set throttle to about 1/4. Motors should start.
</li><li> Tilt multicopter forward. Forward motor should speed up. If not, reverse pitch gyro.
</li><li> Tilt multicopter to the left. Left motor should speed up. If not, reverse roll gyro.
</li><li> Turn multicopter CW. Front and back motor should speed up. If not, reverse yaw gyro.
</li></ul>
<p><b>7. Reversing gyros:</b>
</p>
<ul><li> Set roll gain pot to zero.
</li><li> Turn on flight controller.
</li><li> LED flashes rapidly 10 times.
</li><li> Move the stick for the gyro you want to reverse.
</li><li> LED will blink continually.
</li><li> Turn off flight controller.
</li><li> If there is more gyros to be reversed, goto step 2, else set roll gain pot back.
</li></ul>
<p><b>8.Final check:</b>
</p><p>Hold the multicopter firmly over our head and slowly advance to about 1/2 throttle. Hold it steady
when you start increasing the throttle, becouse the multicontroller calibrates its gyros when throttle
leaves zero, and then the gyros need to be at rest.
If the multicopter tries to twist away, check propeller and motor directions, gyro placement and trim
settings. A slight twist is OK.
</p><p>If not, try to twist the quad. It should resist your movements. More gyro gain gives more resistance.
If it starts to oscillate, reduce the gain. You should not need to reduce the gain below 40%.
</p><p>Note: the correct procedure for taking off from the ground is as following:
</p>
<ol><li> The quad and its propellers needs to be motionless.
</li><li> Increase the throttle (collective). Just as the throttle leaves zero, gyro calibration is performed.
</li><li> Enjoy! And remember to close the throttle if you lose control. Much less damage.
</li></ol>
<h3>  Mounting the KKmulticontroller in your multicopter </h3>
<p>The v.5.5 KKmutlicontroller uses Murata piezo gyros that are less sensitive to vibration than SMD type gyros, but it is still a good idea to mount the board on a vibration dampening material. The board must also be mounted with the white arrow facing the direction of forward flight.
</p><p>When connecting your Remote Control Receiver (RX) you must connect the white signal wire of the channels (CH1, CH2, CH3 and CH4) from your RX corresponding to the aileron, elevator, throttle and rudder to the inner pins on the board while the red (VCC) wires are connected to the center pins, and the black (GND) wires are connected to the pins on the outer edge of your board.
</p><p><img src="img/KKmounting.JPG" width="816"/>
</p><p>The pins marked M1 to M6 are connected to the 3 pin BEC plug from your ESCs. They follow the same convention as the RX pins with the white wires connected to the inner pins, the red wires to the center pins and the black wires to the outer pins. The ESCs and the connected motors are plugged onto the pins M1 to M6 in the following order depending on flight rotor configuration.
</p><p>Note also the direction of rotation for each motor. This is achieved by connecting the three ESC wires to the motors and swapping two of the wires to achieve rotation in the opposite direction.
</p>
<table border="0">
<tr>
<td width="400px"> <img src="img/Kkosprey.jpg" width="398"/>
</td>
<td width="400px"> <img src="img/KKtricopter.jpg" width="398"/>
</td></tr>
<tr>
<td>KKOsprey (Power Tower)
</td>
<td>KKTricopter
</td></tr>
<tr>
<td><img src="img/KKquad.jpg" width="250"/>
</td>
<td><img src="img/KKxcopter.jpg" width="250"/>
</td></tr>
<tr>
<td>KKQuadrocopter (+ Configuration)
</td>
<td>KKXcopter (x Configuration)
</td></tr>
<tr>
<td><img src="img/KKsexycopter.jpg" width="250"/>
</td>
<td><img src="img/KKY6copter.jpg" width="398"/>
</td></tr>
<tr>
<td>KKSexycopter (Hex)
</td>
<td>KKY6copter (Hex Y Configuration)
</td></tr></table>
<h3>  Programming  </h3>
<p>Includes important code snippet. 
Demo code like : 
</p>
<div class="mw-geshi mw-code mw-content-ltr container" dir="ltr"><div class="php source-php"><pre class="de1">Demo code
<span class="br0">{</span>
 
<span class="br0">}</span></pre></div></div>
<h3>  Example  </h3>
<h4>  Flight Configurations </h4>
<p>The KKmulticontroller can be used in several different flight configurations depending upon which firmware is loaded onto the chip.
These configurations are:
</p>
<ul><li> KKOsprey (2 Rotor)
</li><li> KKTricopter (3 Rotor 1 servo)
</li><li> KKQuadrocopter (4 Rotor + configuration)
</li><li> KKXcopter (4 Rotor x configuration)
</li><li> KKSexycopter (6 Rotor)
</li><li> KKYcopter (6 Rotor Y configuration)
</li></ul>
<h4> Updating the Firmware </h4>
<p>The v.5.5 Blackboard has an Atmega168 chip on board which allows users to tweak and load non standard firmware.
</p><p>Set IC Fuses &amp; Flash Flashing the Firmware
</p><p>Connect the AVRISP Mk2 (or similar) Programmer to the six pin ISP header on the Kkmulticontroller board.
</p><p>Connect your Programmer's 6 pin socket to the ISP header on the board. Pin 1 on the ISP header is
usually marked with a small triangle. Then connect the a 5V DC power source to the PCB pins.
</p>
<h2>  Bill of Materials (BOM) /parts list  </h2>
<p>All the components used to produce the product. 
</p>
<h2>  FAQ  </h2>
<p>Here is the <a href="/w/index.php?title=MicroControllers_FAQ&amp;action=edit&amp;redlink=1" title="MicroControllers FAQ (page does not exist)">MicroControllers FAQ</a>, people can go here to find questions and answers for this kind of products.
</p>
<h2>  Support  </h2>
<p>If you have questions or other better design ideas, you can go to our <a href="http://www.seeedstudio.com/forum">forum</a> or <a href="http://wish.seeedstudio.com">wish</a> to discuss.
</p>
<h2>  Version Tracker  </h2>
<table>
<tr>
<th> Revision
</th>
<th> Descriptions
</th>
<th> Release
</th></tr>
<tr>
<td width="300px"> v5.5
</td>
<td width="500px"> Revise version
</td>
<td width="200px"> Jan 3, 2011
</td></tr></table>
<h2>  Bug Tracker  </h2>
<p>Bug Tracker is the place you can publish any bugs you think you might have found during use. Please write down what you have to say, your answers will help us improve our products. 
</p>
<h2>  Additional Idea  </h2>
<p>The Additional Idea is the place to write your project ideas about this product, or other usages you've found. Or you can write them on Projects page. 
</p>
<h2>  Resources  </h2>
<ul><li><a href="res/KKmulticontroller_v5.5.pdf" title="File:KKmulticontroller v5.5.pdf">File:KKmulticontroller v5.5.pdf</a>
</li><li><a href="http://www.kkmulticopter.com/index.php?page=shop.product_details&amp;flypage=flypage_new.tpl&amp;product_id=19&amp;category_id=17&amp;option=com_virtuemart&amp;Itemid=75">Product introduction page</a>
</li><li><a href="http://www.kkmulticopter.com/index.php?option=com_content&amp;view=category&amp;id=58:firmware-downloads&amp;Itemid=65&amp;layout=default">the link for different firmware types available</a>
</li><li><a href="http://www.kkmulticopter.com/index.php?option=com_content&amp;view=category&amp;id=50:programming-the-ic&amp;Itemid=65&amp;layout=default">the link to uploading the firmware</a>
</li></ul>
<h2>  How to buy  </h2>
<p>Click here to buy:<a href="http://www.seeedstudio.com/depot/kkmulticontroller-smd-v55-blackboard-p-739.html?cPath=132_136">http://www.seeedstudio.com/depot/kkmulticontroller-smd-v55-blackboard-p-739.html?cPath=132_136</a>.
</p>
<h2>  See Also  </h2>
<p>Other related products and resources.
</p>
<h2>  Licensing  </h2>
<p>This documentation is licensed under the Creative Commons Attribution-Noncommercial-Share Alike License 3.0.Source code and libraries are licensed under <a href="/w/index.php?title=GPL/LGPL&amp;action=edit&amp;redlink=1" title="GPL/LGPL (page does not exist)">GPL/LGPL</a>, see source code files for details. 
</p>
<h2>  External Links  </h2>
<p>Links to external webpages which provide more application ideas, documents/datasheet or software libraries
</p>
Copyright (c) 2008-2016 Seeed Development Limited (<a href="http://www.seeedstudio.com">www.seeedstudio.com</a> / <a href="http://www.seeed.cc">www.seeed.cc</a>)<h6>This static html page was created from http://www.seeedstudio.com/wiki</h6></div></body></html>