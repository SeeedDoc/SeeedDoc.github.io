<html><head><meta name="viewport" content="width=device-width, initial-scale=1"><link href=//fonts.googleapis.com/css?family=Raleway:400,300,600 rel=stylesheet type=text/css><link rel="stylesheet" type="text/css" href="../common/css/normalize.css"><link rel="stylesheet" type="text/css" href="../common/css/skeleton.css"><link rel="stylesheet" type="text/css" href="../common/css/wiki.css"><script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script><title>Grove - 4-Digit Display</title><meta charset="utf-8"/></head><body><div class"container"><a href="../index.html"><img src="../common/logo.png"/></a></div><div class="mw-content-ltr container" dir="ltr" id="mw-content-text" lang="en"><h1>Grove - 4-Digit Display</h1><div class="thumb tright"><div class="thumbinner" style="width:502px;"><a href="http://www.seeedstudio.com/depot/grove-4digital-display-p-1198.html"><img src="img/Grove-4_digit_display.jpg" width="500"/></a> <div class="thumbcaption"></div></div></div>
<p>Grove - 4-Digit Display module is a 12-pin module. In this module, we utilise a TM1637 to scale down the number of controlling pins to 2. That is to say, it controls both the content and the luminance via only 2 digital pins of Arduino or Seeeduino. For projects that require alpha-numeric display, this can be a nice choice.
</p><p><a href="http://www.seeedstudio.com/depot/grove-4digital-display-p-1198.html"><img src="../common/Get_One_Now_Banner.png" width="300"/></a>
</p><p><br/>
</p>
<p><br/>
</p>
<h2> Features </h2>
<ul><li>4 digit red alpha-numeric display
</li><li>Grove compatible interface (3.3V/5V) 
</li><li>8 adjustable luminance levels
</li></ul>
<p><br/>
</p>
<h2> Application Ideas </h2>
<ul><li>Time display
</li><li>Stopwatch
</li><li>Sensors' input display
</li></ul>
<h2> Specifications </h2>
<table border="1" cellspacing="0" width="80%">
<tr>
<th scope="col"> Item
</th><th scope="col"> Min
</th><th scope="col"> Typical
</th><th scope="col"> Max
</th><th scope="col"> Unit
</th></tr>
<tr>
<th scope="row"> Voltage
</th><td>3.3
</td><td>5.0
</td><td>5.5
</td><td>VDC
</td></tr>
<tr>
<th scope="row"> Current
</th><td>0.2
</td><td>27
</td><td>80
</td><td>mA
</td></tr>
<tr>
<th scope="row"> Dimensions
</th><td colspan="3"> 42x24x14
</td><td>mm
</td></tr>
<tr>
<th scope="row"> Net Weight
</th><td colspan="3"> 7Â±1
</td><td>g
</td></tr></table>
<h2> Interface Function </h2>
<p><img src="img/4-digit_display_interface.jpg" width="554"/><br/> <b>Grove interface</b> - Can be connected to digital port on Grove - Base Shield.<br/>
</p><p><b>4 - digit display</b> - Common anode digital tube.<br/>
</p><p><b>Pin definition:</b> CLK DIO VCC GND<br/>
</p>
<h2> Getting Started</h2>
<h3> With <a href="/w/index.php?title=TI_LaunchPad&amp;action=edit&amp;redlink=1" title="TI LaunchPad (page does not exist)">TI LaunchPad</a></h3>
<p>Displaying the Numbers (4-Digital-Display)<br/>
</p>
<dl><dd>    This example demonstrates how to display some digital numbers using a Grove-4-Digital Display. 
</dd></dl>
<p><img src="img/4_digital_display.jpg" width="600"/>
</p>
<div class="mw-geshi mw-code mw-content-ltr container" dir="ltr"><div class="arduino source-arduino"><pre class="de1"><span class="coMULTI">/*
 * TM1637.cpp
 * A library for the 4 digit display
 */</span>
<span class="co2">#include "TM1637.h"</span>
<span class="co2">#define CLK 39 //pins definitions for TM1637 and can be changed to other ports</span>
<span class="co2">#define DIO 38</span>
TM1637 tm1637<span class="br0">(</span>CLK,DIO<span class="br0">)</span><span class="sy4">;</span>
<span class="kw4">void</span> <span class="kw2">setup</span><span class="br0">(</span><span class="br0">)</span>
<span class="br0">{</span>
    tm1637.<span class="kw3">init</span><span class="br0">(</span><span class="br0">)</span><span class="sy4">;</span>
    tm1637.<span class="me1">set</span><span class="br0">(</span>BRIGHT_TYPICAL<span class="br0">)</span><span class="sy4">;</span><span class="co1">//BRIGHT_TYPICAL = 2,BRIGHT_DARKEST = 0,BRIGHTEST = 7;</span>
<span class="br0">}</span>
<span class="kw4">void</span> <span class="kw2">loop</span><span class="br0">(</span><span class="br0">)</span>
<span class="br0">{</span>
    int8_t NumTab<span class="br0">[</span><span class="br0">]</span> <span class="sy1">=</span> <span class="br0">{</span><span class="nu0">0</span>,<span class="nu0">1</span>,<span class="nu0">2</span>,<span class="nu0">3</span>,<span class="nu0">4</span>,<span class="nu0">5</span>,<span class="nu0">6</span>,<span class="nu0">7</span>,<span class="nu0">8</span>,<span class="nu0">9</span>,<span class="nu0">10</span>,<span class="nu0">11</span>,<span class="nu0">12</span>,<span class="nu0">13</span>,<span class="nu0">14</span>,<span class="nu0">15</span><span class="br0">}</span><span class="sy4">;</span><span class="co1">//0~9,A,b,C,d,E,F</span>
    int8_t ListDisp<span class="br0">[</span><span class="nu0">4</span><span class="br0">]</span><span class="sy4">;</span>
    <span class="kw4">unsigned</span> <span class="kw4">char</span> i <span class="sy1">=</span> <span class="nu0">0</span><span class="sy4">;</span>
    <span class="kw4">unsigned</span> <span class="kw4">char</span> count <span class="sy1">=</span> <span class="nu0">0</span><span class="sy4">;</span>
    <span class="kw3">delay</span><span class="br0">(</span><span class="nu0">150</span><span class="br0">)</span><span class="sy4">;</span>
    <span class="kw1">while</span><span class="br0">(</span><span class="nu0">1</span><span class="br0">)</span>
    <span class="br0">{</span>
        i <span class="sy1">=</span> count<span class="sy4">;</span>
        count <span class="sy2">++</span><span class="sy4">;</span>
        <span class="kw1">if</span><span class="br0">(</span>count <span class="sy1">==</span> <span class="kw3">sizeof</span><span class="br0">(</span>NumTab<span class="br0">)</span><span class="br0">)</span> count <span class="sy1">=</span> <span class="nu0">0</span><span class="sy4">;</span>
        <span class="kw1">for</span><span class="br0">(</span><span class="kw4">unsigned</span> <span class="kw4">char</span> BitSelect <span class="sy1">=</span> <span class="nu0">0</span><span class="sy4">;</span>BitSelect <span class="sy1">&lt;</span> <span class="nu0">4</span><span class="sy4">;</span>BitSelect <span class="sy2">++</span><span class="br0">)</span>
        <span class="br0">{</span>
            ListDisp<span class="br0">[</span>BitSelect<span class="br0">]</span> <span class="sy1">=</span> NumTab<span class="br0">[</span>i<span class="br0">]</span><span class="sy4">;</span>
            i <span class="sy2">++</span><span class="sy4">;</span>
            <span class="kw1">if</span><span class="br0">(</span>i <span class="sy1">==</span> <span class="kw3">sizeof</span><span class="br0">(</span>NumTab<span class="br0">)</span><span class="br0">)</span> i <span class="sy1">=</span> <span class="nu0">0</span><span class="sy4">;</span>
        <span class="br0">}</span>
        tm1637.<span class="kw3">display</span><span class="br0">(</span><span class="nu0">0</span>,ListDisp<span class="br0">[</span><span class="nu0">0</span><span class="br0">]</span><span class="br0">)</span><span class="sy4">;</span>
        tm1637.<span class="kw3">display</span><span class="br0">(</span><span class="nu0">1</span>,ListDisp<span class="br0">[</span><span class="nu0">1</span><span class="br0">]</span><span class="br0">)</span><span class="sy4">;</span>
        tm1637.<span class="kw3">display</span><span class="br0">(</span><span class="nu0">2</span>,ListDisp<span class="br0">[</span><span class="nu0">2</span><span class="br0">]</span><span class="br0">)</span><span class="sy4">;</span>
        tm1637.<span class="kw3">display</span><span class="br0">(</span><span class="nu0">3</span>,ListDisp<span class="br0">[</span><span class="nu0">3</span><span class="br0">]</span><span class="br0">)</span><span class="sy4">;</span>
        <span class="kw3">delay</span><span class="br0">(</span><span class="nu0">300</span><span class="br0">)</span><span class="sy4">;</span>
    <span class="br0">}</span>
<span class="br0">}</span></pre></div></div>
<h3> With <a href="/w/index.php?title=Arduino&amp;action=edit&amp;redlink=1" title="Arduino (page does not exist)">Arduino</a></h3>
<p>The module uses an LED drive chip - TM1637 to control the contents and change the luminance. Here we drive it to display time.  <br/>
1. Connect the Grove socket marked "IN" on the LED Strip Driver and digital port 2 of the <a href="http://www.seeedstudio.com/depot/grove-base-shield-p-754.html?cPath=132_134">Grove - Base Shield</a> with a Grove cable. You can change to the digital port as you like. But don't forget to change the port number in the definition of the demo code at the same time.<br/>
2. Plug  onto Arduino/Seeeduino or plug <a href="http://www.seeedstudio.com/depot/grove-mega-shield-p-934.html?cPath=132_134">Grove - Mega Shield</a> onto Arduino Mega. <br/>
Seeeduino and Grove - 4-digit display:<br/><img src="img/Seeeduino_and_4-digit_display.jpg" width="500"/><br/>Arduino Mega and Grove - 4-digit display:<br/><img src="img/Arduino_Mega_and_4-digit_display.jpg" width="500"/><br/> 
3. Connect Arduino/Seeeduino to PC via a USB cable.<br/> 
4. Download <a href="res/DigitalTube.zip">the 4-Digit Display library</a> and <a href="https://code.google.com/p/arduino-timerone/downloads/detail?name=TimerOne-v9.zip&amp;can=2&amp;q=">TimerOne library</a>. Unzip and put them in the libraries file of Arduino IDE by the path: ..\arduino-1.0\libraries.<br/>
</p><p>5. Restart the Arduino IDE, open one demo code you like, for example ClockDisplay directly by the path:File -&gt; Example -&gt;DigitalTube-&gt;ClockDisplay.<br/><img src="img/Open_ClockDisplay.ino.jpg" width="500"/><br/> 6. Upload the demo code and the clock will be ticking in a few seconds. Please click <a href="/Upload_Code">here</a> if you do not know how to upload.<br/>
</p><p>You can see this: <br/><img src="img/Display_the_clock.jpg" width="500"/><br/>
</p>
<h3>  With <a href="/GrovePiPlus" title="GrovePi+">Raspberry Pi</a> </h3>
<p>1.You should have got a raspberry pi and a grovepi or grovepi+.<br/>
2.You should have completed configuring the development enviroment, otherwise follow <a href="/GrovePiPlus#Introducing_the_GrovePi.2B">here</a>.
<br/>
3.Connection
<br/>
</p>
<ul><li> Plug the sensor to grovepi socket D5 by using a grove cable.<br/>
</li></ul>
<p>4.Navigate to the demos' directory: <br/>
</p>
<pre>   cd yourpath/GrovePi/Software/Python/
</pre>
<ul><li> To see the code
</li></ul>
<pre>   nano grove_4_digit_display.py   # "Ctrl+x" to exit #
</pre>
<pre>
import time
import grovepi

# Connect the Grove 4 Digit Display to digital port D5
# CLK,DIO,VCC,GND
display = 5
grovepi.pinMode(display,"OUTPUT")

# If you have an analog sensor connect it to A0 so you can monitor it below
sensor = 0
grovepi.pinMode(sensor,"INPUT")

time.sleep(.5)

# 4 Digit Display methods
# grovepi.fourDigit_init(pin)
# grovepi.fourDigit_number(pin,value,leading_zero)
# grovepi.fourDigit_brightness(pin,brightness)
# grovepi.fourDigit_digit(pin,segment,value)
# grovepi.fourDigit_segment(pin,segment,leds)
# grovepi.fourDigit_score(pin,left,right)
# grovepi.fourDigit_monitor(pin,analog,duration)
# grovepi.fourDigit_on(pin)
# grovepi.fourDigit_off(pin)

while True:
    try:
        print "Test 1) Initialise"
        grovepi.fourDigit_init(display)
        time.sleep(.5)

        print "Test 2) Set brightness"
        for i in range(0,8):
            grovepi.fourDigit_brightness(display,i)
            time.sleep(.2)
        time.sleep(.3)

        # set to lowest brightness level
        grovepi.fourDigit_brightness(display,0)
        time.sleep(.5)

        print "Test 3) Set number without leading zeros"
        leading_zero = 0
        grovepi.fourDigit_number(display,1,leading_zero)
        time.sleep(.5)
        grovepi.fourDigit_number(display,12,leading_zero)
        time.sleep(.5)
        grovepi.fourDigit_number(display,123,leading_zero)
        time.sleep(.5)
        grovepi.fourDigit_number(display,1234,leading_zero)
        time.sleep(.5)

        print "Test 4) Set number with leading zeros"
        leading_zero = 1
        grovepi.fourDigit_number(display,5,leading_zero)
        time.sleep(.5)
        grovepi.fourDigit_number(display,56,leading_zero)
        time.sleep(.5)
        grovepi.fourDigit_number(display,567,leading_zero)
        time.sleep(.5)
        grovepi.fourDigit_number(display,5678,leading_zero)
        time.sleep(.5)

        print "Test 5) Set individual digit"
        grovepi.fourDigit_digit(display,0,2)
        grovepi.fourDigit_digit(display,1,6)
        grovepi.fourDigit_digit(display,2,9)
        grovepi.fourDigit_digit(display,3,15) # 15 = F
        time.sleep(.5)

        print "Test 6) Set individual segment"
        grovepi.fourDigit_segment(display,0,118) # 118 = H
        grovepi.fourDigit_segment(display,1,121) # 121 = E
        grovepi.fourDigit_segment(display,2,118) # 118 = H
        grovepi.fourDigit_segment(display,3,121) # 121 = E
        time.sleep(.5)

        grovepi.fourDigit_segment(display,0,57) # 57 = C
        grovepi.fourDigit_segment(display,1,63) # 63 = O
        grovepi.fourDigit_segment(display,2,63) # 63 = O
        grovepi.fourDigit_segment(display,3,56) # 56 = L
        time.sleep(.5)

        print "Test 7) Set score"
        grovepi.fourDigit_score(display,0,0)
        time.sleep(.2)
        grovepi.fourDigit_score(display,1,0)
        time.sleep(.2)
        grovepi.fourDigit_score(display,1,1)
        time.sleep(.2)
        grovepi.fourDigit_score(display,1,2)
        time.sleep(.2)
        grovepi.fourDigit_score(display,1,3)
        time.sleep(.2)
        grovepi.fourDigit_score(display,1,4)
        time.sleep(.2)
        grovepi.fourDigit_score(display,1,5)
        time.sleep(.5)

        print "Test 8) Set time"
        grovepi.fourDigit_score(display,12,59)
        time.sleep(.5)

        print "Test 9) Monitor analog pin"
        seconds = 10
        grovepi.fourDigit_monitor(display,sensor,seconds)
        time.sleep(.5)

        print "Test 10) Switch all on"
        grovepi.fourDigit_on(display)
        time.sleep(.5)

        print "Test 11) Switch all off"
        grovepi.fourDigit_off(display)
        time.sleep(.5)

    except KeyboardInterrupt:
        grovepi.fourDigit_off(display)
        break
    except IOError:
        print "Error"
</pre>
<p>5.Run the demo.<br/>
</p>
<pre>   sudo python grove_4_digit_display.py
</pre>
<p>6.This demo may not work if your grovepi dosen't have the newest firmware, update the firmware.
</p>
<pre>cd yourpath/GrovePi/Firmware
sudo ./firmware_update.sh
</pre>
<h2> Resources </h2>
<ul><li><a href="res/Grove-4-Digit_Display_V1.0_eagle_files.zip">Grove - 4-Digit Display V1.0 eagle files</a>
</li><li><a href="res/Grove_4-Digit_Display_V1.0.pdf">Schematic in PDF</a>
</li><li><a href="res/DigitalTube.zip">4-Digit Display library</a>
</li><li><a href="https://code.google.com/p/arduino-timerone/downloads/detail?name=TimerOne-v9.zip&amp;can=2&amp;q=">TimerOne library</a>
</li><li><a href="https://github.com/Seeed-Studio/Four_Digit_Display_Suli">Four-Digit Display Suli Library</a>
</li><li><a href="res/TM1637_datasheet.pdf">TM1637 datasheet</a>
</li><li>
</li></ul>
<h2> Related Projects </h2>
<p>If you want to make some awesome projects by 4-Digit Display, here's one project for reference.
</p>
<h3> Air Quality Box</h3>
<div class="thumb tright"><div class="thumbinner" style="width:302px;"><a href="http://www.seeedstudio.com/recipe/index.php?controller=recipe&amp;action=show&amp;recipe_id=266&amp;ref=product"><img src="img/556bcbf436c49.jpg" width="300"/></a> <div class="thumbcaption"></div></div></div>
<p>With this demo, we can see the air quality data on 4-Digit Display.
</p><p><a href="http://www.seeedstudio.com/recipe/index.php?controller=recipe&amp;action=show&amp;recipe_id=266&amp;ref=product"><img src="img/Wiki_makeitnow_logo.png" width="200"/></a>
</p><p><br/>
</p>
<h2> Help us to make it better </h2>
<p><iframe frameborder="0" height="500" src="https://www.surveymonkey.com/r/G29J3LX" width="500"></iframe>
</p>
Copyright (c) 2008-2016 Seeed Development Limited (<a href="http://www.seeedstudio.com">www.seeedstudio.com</a> / <a href="http://www.seeed.cc">www.seeed.cc</a>)<h6>This static html page was created from http://www.seeedstudio.com/wiki</h6></div></body></html>