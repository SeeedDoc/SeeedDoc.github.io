<html><head><meta name="viewport" content="width=device-width, initial-scale=1"><link href=//fonts.googleapis.com/css?family=Raleway:400,300,600 rel=stylesheet type=text/css><link rel="stylesheet" type="text/css" href="../common/css/normalize.css"><link rel="stylesheet" type="text/css" href="../common/css/skeleton.css"><link rel="stylesheet" type="text/css" href="../common/css/wiki.css"><script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script><title>Xadow - BLE Slave</title><meta charset="utf-8"/></head><body><div class"container"><a href="../index.html"><img src="../common/logo.png"/></a></div><div class="mw-content-ltr container" dir="ltr" id="mw-content-text" lang="en"><h1>Xadow - BLE Slave</h1>
<div class="thumb tright"><div class="thumbinner" style="width:302px;"><img src="img/Xadow_ble_01.jpg" width="300"/> <div class="thumbcaption"></div></div></div>

<p>This is a Bluetooth 4.0 module（Bluetooth 4.0 slave module）. Compared with Bluetooth version 2.0 and 3.0, it's more advanced for its lower power consumption. You can easily connect your own project to the primary device of Bluetooth 4.0 by using this module. For instance, it can transfer the detected data which is about the information of your body to phone for displaying or analyzing, then, help you better manage your physical condition. <br/>
</p>
<h2> Specification</h2>
<ul><li>Bluetooth 4.0 Module
</li><li>PIN:0000 
</li><li>Default Baudrate:38400
</li><li>Dimensions: 25.43mm x 20.35mm
</li></ul>
<h2> Demonstration </h2>
<p>The demo is going to show you how to connect bluetooth device with Xadow BLE Slave and communicate. 
You can use it to communicate with phone(with Bluetooth 4.0). Now let us have a test:
</p>
<ul><li>Connect the Xadow BLE Slave to Xadow Main Board and connect Main Board to PC with a USB cable. In normal mode, the blue LED will blink once a time. If the blue led is off, please click the "reset" button on Xadow Main Board .  <br/>
</li></ul>
<p><br/><img src="img/XadowBLE.jpg" width="600"/><br/>
Note: when connect XadowBLE Slave to Xadow Main Board, you should concern about the connection direction. The connection method is that the unfilled corner of one Xadow module need to connect to the right angle of another module(see four corners of each Xadow module).<br/>
</p>
<ul><li>Upload the test code to your Xadow Main Board. 
</li></ul>
<pre>int error=0;
int n;
void setup()
{
  Serial.begin(38400);
  delay(100);
  PORTB|=0x04;
  TESTIO();
  if(error==0)
  {
    DDRB|=0x81;
    for(n=0;n&lt;40;n++)
    {
      PORTB&amp;=~0x81;
      delay(50);
      PORTB|=0x81;
    }
  }
  
  Serial1.begin(38400);
}
void loop()
{
 boot();
}
void TESTIO(void)
{
  DDRB|=0x0e;
  PORTB&amp;=~0x0e;
  DDRF|=0x01;
  PORTF&amp;=~0x01;
  DDRD&amp;=~0x0f;

  PORTB|=0x04;
  PORTF|=0x01;
  delay(30);
  if(!(PIND&amp;0x01))
  {
    error=1;
  }
  if(PIND&amp;0x02)
  {
    error=1;
  }
  if(!(PIND&amp;0x04))
  {
    error=1;
  }
  if(PIND&amp;0x08)
  {
    error=1;
  }
  PORTB&amp;=~0x04;
  PORTB|=0x0a;
  PORTF&amp;=~0x01;
  delay(30);
  if(PIND&amp;0x01)
  {
    error=1;
  }
  if(!(PIND&amp;0x02))
  {
    error=1;
  }
  if(PIND&amp;0x04)
  {
    error=1;
  }
  if(!(PIND&amp;0x08))
  {
    error=1;
  }
  Serial.println(error);
}
void boot(void)
{
  for(;;)
  {
    if(Serial.available())
    {
      Serial1.write(Serial.read());
    }
    if(Serial1.available())
    {
      Serial.write(Serial1.read());
    }
   }
}</pre>
<ul><li>Select a serial tool to send and receive data. Here we use the <a href="res/Sscom32E.zip">Sscom32E</a>. BaudRate should be 38400.<br/>
</li></ul>
<p><img src="img/Open_serial_tool.jpg" width="300"/><br/>
</p>
<ul><li>Get your Phone device ready and install <a href="res/BlueSPP_V4.0.zip">“BlueSPP” APP</a> and launch the BlueSPP. Remember that your device should be Bluetooth 4.0.
</li></ul>
<p><img src="img/Open_Bluetooth.jpg" width="300"/>
</p>
<ul><li>Click "search" to find the devices. Find the <b>Xadow BLE Slave</b> device and press to start connecting Bluetooth device.<br/>
</li></ul>
<dl><dd> <font color="red">Tips: You should pair phone with BLE module first in the device manager of phone if the 'BlueSPP' can't find the BLE module. </font>
</dd></dl>
<pre><img src="img/Search_device.jpg" width="300"/><br/>
</pre>
<ul><li>After connecting, the screen on Device is as following. You could type texts and data will send. It will show on serial tool of your PC. Of course, you can send data to phone by serial tool of your PC.<br/>
</li></ul>
<p><img src="img/Send_and_Receive_Data.jpg" width="300"/><br/>
<img src="img/BLE_Slave_send_data.jpg" width="300"/><br/>
</p>
<h2> Resources</h2>
<p><a href="res/Xadow_BLE_Slave.zip">Xadow BLE Slave</a><br/>
<a href="res/BlueSPP_V4.0.zip">“BlueSPP” APP</a>
</p>
Copyright (c) 2008-2016 Seeed Development Limited (<a href="http://www.seeedstudio.com">www.seeedstudio.com</a> / <a href="http://www.seeed.cc">www.seeed.cc</a>)<h6>This static html page was created from http://www.seeedstudio.com/wiki</h6></div></body></html>