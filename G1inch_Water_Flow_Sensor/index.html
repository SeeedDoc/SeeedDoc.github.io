<html><head><meta name="viewport" content="width=device-width, initial-scale=1"><link href=//fonts.googleapis.com/css?family=Raleway:400,300,600 rel=stylesheet type=text/css><link rel="stylesheet" type="text/css" href="../common/css/normalize.css"><link rel="stylesheet" type="text/css" href="../common/css/skeleton.css"><link rel="stylesheet" type="text/css" href="../common/css/wiki.css"><script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script><title>G1&quot; Water Flow Sensor</title><meta charset="utf-8"/><script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-84386732-1', 'auto');
  ga('send', 'pageview');
</script>
</head>
<body><div class"container"><a href="../"><img src="../common/logo.png"/></a></div><div class="mw-content-ltr container" dir="ltr" id="mw-content-text" lang="en"><h1>G1&quot; Water Flow Sensor</h1>

<p>Water flow sensor consists of a plastic valve body, a water rotor, and a hall-effect sensor. When water flows through the rotor, rotor rolls. Its speed changes with different rate of flow. The hall-effect sensor outputs the corresponding pulse Signal.
</p><p><b>Model:<a href="http://www.seeedstudio.com/depot/g34-water-flow-sensor-p-1083.html?cPath=144_151">SEN02141B</a></b>
</p><p><img src="img/G1inch_Water_Flow_sensor.jpeg" width="700"/>
</p>
<h2>  Specification </h2>
<table >
<tr>
<td>Mini. Wokring Voltage
</td>
<td>DC 4.5V
</td></tr>
<tr>
<td>Max. Working Current
</td>
<td>15mA(DC 5V)
</td></tr>
<tr>
<td width="400px">Working Voltage
</td>
<td width="400px">5V～24V
</td></tr>
<tr>
<td>Flow Rate Range
</td>
<td>1～60L/min
</td></tr>
<tr>
<td>Load Capacity
</td>
<td>≤10mA(DC 5V)
</td></tr>
<tr>
<td>Operating Temperature
</td>
<td>≤80℃
</td></tr>
<tr>
<td>Liquid Temperature
</td>
<td>≤120℃
</td></tr>
<tr>
<td>Operating Humidity
</td>
<td>35%～90%RH
</td></tr>
<tr>
<td>Water Pressure
</td>
<td>≤1.75MPa(Max 2MPa)
</td></tr>
<tr>
<td>Storage Temperature
</td>
<td>-25℃～+80℃
</td></tr>
<tr>
<td>Storage Humidity
</td>
<td>25%～95%RH
</td></tr></table>
<h2>  Mechanic Dimensions  </h2>
<h3>  Sensor Components </h3>
<table >
<tr>
<th>No.
</th>
<th>Name
</th>
<th>Quantity
</th>
<th>Material
</th>
<th>Note
</th></tr>
<tr style="font-size: 90%">
<td width="200"> 1
</td>
<td width="150">  Valve body
</td>
<td width="150">  1
</td>
<td width="150">  PA66+33%glass fiber
</td>
<td width="150">
</td></tr>
<tr style="font-size: 90%">
<td width="200"> 2
</td>
<td width="150">  Stainless steel bead
</td>
<td width="150">  1
</td>
<td width="150">  Stainless steel SUS304
</td>
<td width="150">
</td></tr>
<tr style="font-size: 90%">
<td> 3
</td>
<td>  Axis
</td>
<td>  1
</td>
<td>  Stainless steel SUS304
</td>
<td>
</td></tr>
<tr style="font-size: 90%">
<td> 4
</td>
<td>  Impeller
</td>
<td>  1
</td>
<td>  POM
</td>
<td>
</td></tr>
<tr style="font-size: 90%">
<td> 5
</td>
<td>  Ring magnet
</td>
<td>  1
</td>
<td>  Ferrite
</td>
<td>
</td></tr>
<tr style="font-size: 90%">
<td> 6
</td>
<td>  Middle ring
</td>
<td>  1
</td>
<td>  PA66+33%glass fiber
</td>
<td>
</td></tr>
<tr style="font-size: 90%">
<td> 7
</td>
<td>  O-seal ring
</td>
<td>  1
</td>
<td>  Rubber
</td>
<td>
</td></tr>
<tr style="font-size: 90%">
<td> 8
</td>
<td>  Electronic seal ring
</td>
<td>  1
</td>
<td>  Rubber
</td>
<td>
</td></tr>
<tr style="font-size: 90%">
<td> 9
</td>
<td>  Cover
</td>
<td>  1
</td>
<td>  PA66+33%glass fiber
</td>
<td>
</td></tr>
<tr style="font-size: 90%">
<td> 10
</td>
<td>  Screw
</td>
<td>  4
</td>
<td>  Stainless steel SUS304
</td>
<td>
</td></tr>
<tr style="font-size: 90%">
<td> 11
</td>
<td>  Cable
</td>
<td>  1
</td>
<td>  1007 24AWG
</td>
<td>
</td></tr></table>
<h2> Usage Example</h2>
<p><font>Note: This example is abstracted from the forum, which was done by Charles Gantt. Thanks for his contribution.Let's see how it works.</font><br/>
</p>
<h3>  Reading Water Flow rate with Water Flow Sensor </h3>
<p>This is part of a project I have been working on and I thought I would share it here since there have been a few threads on how to read water flow rate in liters per hour using the Water Flow Sensor found in the Seeed Studio Depo. It uses a simple rotating wheel that pulses a hall effect sensor. By reading these pulses and implementing a little math, we can read the liquids flow rate accurate to within 3%. The threads are simple G1 so finding barbed ends will not be that hard.
</p>
<h4>  Hardware Installation  </h4>
<p>You will need  Seeeduino / Arduino ,Water Flow Sensor,10K resistor,a breadboard and some jumper wires.
</p><p>Wiring up the Water Flow Sensor is pretty simple. There are 3 wires: Black, Red, and Yellow. 
Black to the Seeeduino's ground pin
Red to Seeeduino's 5v pin
The yellow wire will need to be connected to a 10k pull up resistor.and then to pin 2 on the Seeeduino.
</p><p>Here is a fritzing diagram I made to show you how to wire it all up. <br/>
<img src="img/Reading_liquid_flow_rate_with_an_Arduino.jpg" width="712"/><br/>
Once you have it wired up you will need to upload the following code to your Seeeduino. Once it is uploaded and you have some fluid flowing through the Water Flow Sensor, you can open the serial monitor and it will display the flow rate, refreshing every second.
</p>
<h4>  Programming  </h4>
<div class="mw-geshi mw-code mw-content-ltr container" dir="ltr"><div class="arduino source-arduino"><pre class="de1"><span class="co1">// reading liquid flow rate using Seeeduino and Water Flow Sensor from Seeedstudio.com</span>
<span class="co1">// Code adapted by Charles Gantt from PC Fan RPM code written by Crenn @thebestcasescenario.com</span>
<span class="co1">// http:/themakersworkbench.com http://thebestcasescenario.com http://seeedstudio.com</span>
 
<span class="kw4">volatile</span> <span class="kw4">int</span> NbTopsFan<span class="sy4">;</span> <span class="co1">//measuring the rising edges of the signal</span>
<span class="kw4">int</span> Calc<span class="sy4">;</span>                               
<span class="kw4">int</span> hallsensor <span class="sy1">=</span> <span class="nu0">2</span><span class="sy4">;</span>    <span class="co1">//The pin location of the sensor</span>
 
<span class="kw4">void</span> rpm <span class="br0">(</span><span class="br0">)</span>     <span class="co1">//This is the function that the interupt calls </span>
<span class="br0">{</span> 
  NbTopsFan<span class="sy2">++</span><span class="sy4">;</span>  <span class="co1">//This function measures the rising and falling edge of the </span>
 
hall effect sensors <span class="kw4">signal</span>
<span class="br0">}</span> 
<span class="co1">// The setup() method runs once, when the sketch starts</span>
<span class="kw4">void</span> <span class="kw2">setup</span><span class="br0">(</span><span class="br0">)</span> <span class="co1">//</span>
<span class="br0">{</span> 
  <span class="kw3">pinMode</span><span class="br0">(</span>hallsensor, <span class="kw2">INPUT</span><span class="br0">)</span><span class="sy4">;</span> <span class="co1">//initializes digital pin 2 as an input</span>
  <span class="kw2">Serial</span>.<span class="kw3">begin</span><span class="br0">(</span><span class="nu0">9600</span><span class="br0">)</span><span class="sy4">;</span> <span class="co1">//This is the setup function where the serial port is </span>
 
initialised,
  <span class="kw3">attachInterrupt</span><span class="br0">(</span><span class="nu0">0</span>, rpm, <span class="kw2">RISING</span><span class="br0">)</span><span class="sy4">;</span> <span class="co1">//and the interrupt is attached</span>
<span class="br0">}</span> 
<span class="co1">// the loop() method runs over and over again,</span>
<span class="co1">// as long as the Arduino has power</span>
<span class="kw4">void</span> <span class="kw2">loop</span> <span class="br0">(</span><span class="br0">)</span>    
<span class="br0">{</span>
  NbTopsFan <span class="sy1">=</span> <span class="nu0">0</span><span class="sy4">;</span>   <span class="co1">//Set NbTops to 0 ready for calculations</span>
  sei<span class="br0">(</span><span class="br0">)</span><span class="sy4">;</span>      <span class="co1">//Enables interrupts</span>
  <span class="kw3">delay</span> <span class="br0">(</span><span class="nu0">1000</span><span class="br0">)</span><span class="sy4">;</span>   <span class="co1">//Wait 1 second</span>
  cli<span class="br0">(</span><span class="br0">)</span><span class="sy4">;</span>      <span class="co1">//Disable interrupts</span>
  Calc <span class="sy1">=</span> <span class="br0">(</span>NbTopsFan <span class="sy2">*</span> <span class="nu0">60</span><span class="br0">)</span><span class="sy4">;</span> <span class="co1">//(Pulse frequency x 60) / Q, = flow rate </span>
 
in L<span class="sy2">/</span>hour 
  <span class="kw2">Serial</span>.<span class="kw3">print</span> <span class="br0">(</span>Calc, <span class="kw2">DEC</span><span class="br0">)</span><span class="sy4">;</span> <span class="co1">//Prints the number calculated above</span>
  <span class="kw2">Serial</span>.<span class="kw3">print</span> <span class="br0">(</span><span class="st0">" L/hour<span class="es1">\r</span><span class="es1">\n</span>"</span><span class="br0">)</span><span class="sy4">;</span> <span class="co1">//Prints "L/hour" and returns a  new line</span>
<span class="br0">}</span></pre></div></div>
<p>You can refer our forum for more details about <a href="http://www.seeedstudio.com/forum/viewtopic.php?f=4&amp;t=989&amp;p=3632#p3632">Reading Water Flow rate with Water Flow Sensor</a>.
</p>
<h2>  Wiring Diagram </h2>
<p>The external diameter of thread the connections use is 1.4mm.
</p><p><img src="img/Wfs-wiring.jpg" width="355"/>
</p>
<h2>  Output Table </h2>
<p>Pulse frequency (Hz) in Horizontal Test= 1*Q, Q is flow rate in L/min. (Results in +/- 3% range)
</p>
<table >
<tr>
<td width="400px">Output pulse high level
</td>
<td width="400px">Signal voltage &gt;4.5 V( input DC 5 V)
</td></tr>
<tr>
<td>Output pulse low level
</td>
<td>Signal voltage &lt;0.5V( input DC 5V)
</td></tr>
<tr>
<td>Precision
</td>
<td>3% (Flow rate from 1L/min to 10L/min)
</td></tr>
<tr>
<td>Output signal duty cycle
</td>
<td>40%～60%
</td></tr></table>
<p><br/>
</p>
<h2>  FAQ  </h2>
<p>Here is the <a href="/w/index.php?title=Sensors_FAQ&amp;action=edit&amp;redlink=1" title="Sensors FAQ (page does not exist)">Sensors FAQ</a>, people can go here to find questions and answers for this kind of products.
</p><p><b>What materials is water flow sensor made of?</b><br/>
Nylon with fiber, avoiding strong acid and strong base.
</p><p><b>Is the water flow sensor safe for drinking water?</b><br/>
Yes, it's usage is safe for human consumption. It is frequently used on drinking machines.
</p>
<h2>  Support  </h2>
<p>If you have questions or other better design ideas, you can go to our <a href="http://www.seeedstudio.com/forum">forum</a> or <a href="http://wish.seeedstudio.com">wish</a> to discuss.
</p>
<h2>  Version Tracker  </h2>
<table>
<tr>
<th> Revision
</th>
<th> Descriptions
</th>
<th> Release
</th></tr>
<tr style="font-size: 90%">
<td width="300px"> v1.0
</td>
<td width="500px"> Initial public release
</td>
<td width="200px"> Feb 14, 2012
</td></tr></table>
<h2>  Resource </h2>
<ul><li><a href="http://www.seeedstudio.com/forum/viewtopic.php?f=4&amp;t=989&amp;p=3632#p3632">Reading Water Flow rate with Water Flow Sensor</a>
</li><li><a href="http://www.practicalarduino.com/projects/water-flow-gauge">Water Flow rate display on LCD</a>
</li><li><a href="http://garden.seeedstudio.com/images/4/4e/YEE70G30HSLNC..pdf">datasheet for the material</a>
</li></ul>
<h2>  See Also  </h2>
<p>Other related products and resources.
</p>
<h2>  Licensing  </h2>
<p>This documentation is licensed under the Creative Commons <a href="http://creativecommons.org/licenses/by-sa/3.0/">Attribution-ShareAlike License 3.0</a> Source code and libraries are licensed under <a href="http://www.gnu.org/licenses/gpl.html">GPL/LGPL</a>, see source code files for details.
</p>
<h2>  External Links  </h2>
<p>Links to external webpages which provide more application ideas, documents/datasheet or software libraries.
</p>
Copyright (c) 2008-2016 Seeed Development Limited (<a href="http://www.seeedstudio.com">www.seeedstudio.com</a> / <a href="http://www.seeed.cc">www.seeed.cc</a>)<h6>This static html page was created from http://www.seeedstudio.com/wiki</h6></div></body></html>