<html><head><meta name="viewport" content="width=device-width, initial-scale=1"><link href=//fonts.googleapis.com/css?family=Raleway:400,300,600 rel=stylesheet type=text/css><link rel="stylesheet" type="text/css" href="../common/css/normalize.css"><link rel="stylesheet" type="text/css" href="../common/css/skeleton.css"><link rel="stylesheet" type="text/css" href="../common/css/wiki.css"><script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script><title>LinkIt ONE Tutorial - Analog Interface</title><meta charset="utf-8"/></head><body><div class"container"><a href="../"><img src="../common/logo.png"/></a></div><div class="mw-content-ltr container" dir="ltr" id="mw-content-text" lang="en"><h1>LinkIt ONE Tutorial - Analog Interface</h1><p><b>What We're Doing</b>
</p><p>In the previous sections, we learned how to control the circuit's input and output using digital interface. In this section, we will learn how to vary the output using an analog device called a potentiometer (also known as a variable resistor). A potentiometer is used to vary the voltage in the range of 0 ~ 5V. The MPU reads the voltage value in the range of 0-1023.This can be used to control the brightness of the LED (PWM simulation output interface). If the potentiometer is turned clockwise, the LED brightens gradually. If it is rotated anticlockwise, the luminosity fades.
</p><p><br/>
<br/>
<b>Things you need</b>
</p>
<ul><li> LinkIt One x 1
</li><li> Break board x 1
</li><li> Resistors 330Ω,10kΩ,1kΩ x 1
</li><li> 5mm LED x 1
</li><li> Slide Potentiometer 10kΩ x 1
</li><li> Transistor（2N3904） x 1
</li></ul>
<p><br/>
</p><p><br/>
<br/>
<b>Schematic</b>
</p><p><img src="img/LinkItONE_Kit_6_1.jpg" width="400"/>
</p><p><br/>
<br/>
<b>Connection</b>
</p><p><img src="img/LinkItONE_Kit_6_2.jpg" width="600"/>
</p><p><br/>
<br/>
<b>Code</b>
</p><p>Please click on the button below to download the code for the kit:
</p><p><br/>
<a href="https://github.com/Seeed-Studio/Sidekick_Basic_Kit_for_LinkIt"><img src="img/Code_sidekick_linkit.png" width="300"/></a>
</p><p><br/>
You can unzip the file to the <b>Examples</b> folder of your Arduino IDE.
</p><p>To access the demo code open:
</p><p><i>File -&gt; Examples -&gt; Starter Kit for LinkIt -&gt; Basic -&gt; L6_Analog_Ctrl_LED</i>
</p>
<div class="mw-geshi mw-code mw-content-ltr container" dir="ltr"><div class="arduino source-arduino"><pre class="de1"><span class="kw4">const</span> <span class="kw4">int</span> led <span class="sy1">=</span> <span class="nu0">3</span><span class="sy4">;</span>
<span class="kw4">const</span> <span class="kw4">int</span> pot <span class="sy1">=</span> A0<span class="sy4">;</span>
 
<span class="kw4">void</span> <span class="kw2">setup</span><span class="br0">(</span><span class="br0">)</span>
<span class="br0">{</span>
    <span class="co1">// nothing to initialize</span>
<span class="br0">}</span>
 
<span class="kw4">void</span> <span class="kw2">loop</span><span class="br0">(</span><span class="br0">)</span>
<span class="br0">{</span>
    <span class="kw4">int</span> val <span class="sy1">=</span> <span class="kw3">analogRead</span><span class="br0">(</span>pot<span class="br0">)</span><span class="sy4">;</span>              <span class="co1">// get value from potentiometer</span>
    val <span class="sy1">=</span> <span class="kw3">map</span><span class="br0">(</span>val, <span class="nu0">0</span>, <span class="nu0">1023</span>, <span class="nu0">0</span>, <span class="nu0">255</span><span class="br0">)</span><span class="sy4">;</span>        <span class="co1">// make the value to 0~255</span>
    <span class="kw3">analogWrite</span><span class="br0">(</span>led, val<span class="br0">)</span><span class="sy4">;</span>                  <span class="co1">// set the pwm of led</span>
    <span class="kw3">delay</span><span class="br0">(</span><span class="nu0">10</span><span class="br0">)</span><span class="sy4">;</span>
<span class="br0">}</span></pre></div></div>
<p><br/>
<b>Troubleshooting</b>
</p>
<ul><li>Pin Interfacing problem？
<ul><li>If you have connected the input to digital pin instead of analog pin the circuit might not work properly.
</li></ul>
</li><li>Not Working？
<ul><li>Potentiometer has three pins in it . Check whether you have connected the middle pin to the analog interface or else the circuit might not work properly.
</li></ul>
</li></ul>
<p><br/>
</p><p><br/>
<b>Making it better</b>
</p><p>To control flickering frequency of the LED with a potentiometer upload the following code 
To Open the demo code:
</p><p>To open the demo code：
</p><p><i>File -&gt; Examples -&gt; Starter Kit for LinkIt -&gt; Extend_Lesson –&gt; L6_Flashing_LED</i>
</p><p><br/>
<br/>
<b>More ideas</b>
</p><p>What else can do with the Potentiometer of the return value?
</p><p><br/>
<br/>
<b>Reference</b>
</p>
<ul><li> <a href="/LinkIt_ONE_Tutorial-The_Basics">The Basics</a>
</li><li> <a href="/LinkIt_ONE_Tutorial-Hello_World">Hello World</a>
</li><li> <a href="/LinkIt_ONE_Tutorial-Push_Button">Push Button</a>
</li><li> <a href="/LinkIt_ONE_Tutorial-Marquee">Marquee</a>
</li><li> <a href="/LinkIt_ONE_Tutorial-Colorful_World">Colorful World</a>
</li><li> <a href="/LinkIt_ONE_Tutorial-Analog_Interface">Analog Interface</a>
</li><li> <a href="/LinkIt_ONE_Tutorial-Mini_Servo">Mini Servo</a>
</li><li> <a href="/LinkIt_ONE_Tutorial-Light_Sensor">Light Sensor</a>
</li><li> <a href="/LinkIt_ONE_Tutorial-SMS_control_the_LED">SMS Control the LED</a>
</li><li> <a href="/LinkIt_ONE_Tutorial-Get_temperature_with_Webpage">Get Temperature with Webpage</a>
</li></ul>
Copyright (c) 2008-2016 Seeed Development Limited (<a href="http://www.seeedstudio.com">www.seeedstudio.com</a> / <a href="http://www.seeed.cc">www.seeed.cc</a>)<h6>This static html page was created from http://www.seeedstudio.com/wiki</h6></div></body></html>