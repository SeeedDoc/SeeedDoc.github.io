<html><head><meta name="viewport" content="width=device-width, initial-scale=1"><link href=//fonts.googleapis.com/css?family=Raleway:400,300,600 rel=stylesheet type=text/css><link rel="stylesheet" type="text/css" href="../common/css/normalize.css"><link rel="stylesheet" type="text/css" href="../common/css/skeleton.css"><link rel="stylesheet" type="text/css" href="../common/css/wiki.css"><script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script><title>Motor Shield V2.0</title><meta charset="utf-8"/></head><body><div class"container"><a href="../index.html"><img src="../common/logo.png"/></a></div><div class="mw-content-ltr container" dir="ltr" id="mw-content-text" lang="en"><h1>Motor Shield V2.0</h1><div class="thumb tright"><div class="thumbinner" style="width:502px;"><a href="http://www.seeedstudio.com/depot/motor-shield-v20-p-1377.html"><img src="img/Motorshield_01.jpg" width="500"/></a> <div class="thumbcaption"></div></div></div>
<p>The Motor Shield is a driver module for motors that allows you to use Arduino to control the working speed and direction of the motor. Based on the Dual Full-Bridge Drive Chip L298, it is able to drive two DC motors or a step motor. The Motor Shield can either be powered directly by Arduino or by an external 6V~15V power supply via the terminal input. This module can be used for the development of micro robots and intelligent vehicles, etc
</p><p><br/>
<a href="http://www.seeedstudio.com/depot/motor-shield-v20-p-1377.html"><img src="../common/Get_One_Now_Banner.png" width="300"/></a>
</p><p><br/>
</p>
<p><br/>
</p>
<h2> Features </h2>
<ul><li> Standard Arduino UNO Shield pin out
</li><li> Based on L298 full bridge IC
</li><li> Drive 2 DC Motor or 1 Stepper
</li><li> External power input available
</li><li> Led indicator
</li><li> Heat sink for better performance
</li><li> Arduino library
</li></ul>
<p><br/>
</p>
<h2> Specifications </h2>
<table>
<tr>
<th> Spec </th>
<th> Value
</th></tr>
<tr>
<td> Operating Voltage </td>
<td> 5V
</td></tr>
<tr>
<td> External Power </td>
<td> 6-15V
</td></tr>
<tr>
<td> Output Current </td>
<td> 2.0A Max @ Each Channel
</td></tr>
<tr>
<td> PWM Range </td>
<td> 0-100%
</td></tr>
<tr>
<td> Output  </td>
<td> 2 Channels, 4 Ports
</td></tr></table>
<p><br/>
</p>
<h2> Hardware Overivew </h2>
<p><img src="img/MotorShieldHardware.png" width="700"/>
</p><p>1. Channel 1 indicator, include 3 leds
</p>
<dl><dd><ul><li> <i>EB</i> - channel 1 enable, high active
</li><li> <i>IN3</i> - status of OUT3
</li><li> <i>IN4</i> - status of OUT4
</li></ul>
</dd></dl>
<p>2. Channel 1 Sense - Please connect the left 2 pins together for normal usage. 
</p>
<dl><dd> <b>Note</b> that it's a high level application for sense the current, please refer to datasheet and schematic for more information.
</dd></dl>
<p>3. OUTPUT - There're 2 channels, each channel has 2 output
</p>
<dl><dd><ul><li> <i>Channel 0</i> - OUT1, OUT2
</li><li> <i>Channel 1</i> - OUT3, OUT4
</li></ul>
</dd></dl>
<p>4. Channel 0 Sense
</p><p>5. Channel 0 indicator, include 3 leds
</p>
<dl><dd><ul><li> <i>EB</i> - channel 0 enable, high active
</li><li> <i>IN1</i> - status of OUT1
</li><li> <i>IN2</i> - status of OUT2
</li></ul>
</dd></dl>
<p>6. External Power Input, range 6-15V
</p><p>7. Reset indicator - turn red when Reset button is pressed
</p><p>8. Reset button - pressed to reset the shield and Arduino
</p><p>9. Power indicator - turn green when power in, either internal or external
</p><p>A. Power switch
</p>
<dl><dd><ul><li> <i>Connect</i> - Get power from Arduino
</li><li> <i>Disconnect</i> - Get power from External sources
</li></ul>
</dd></dl>
<p>B. Standard Arduino shield pin out
</p><p><br/>
</p>
<h3> Digital Pin Used</h3>
<table>
<tr>
<th> Arduino Pin </th>
<th> Function
</th></tr>
<tr>
<td> D0 </td>
<td> Not Used
</td></tr>
<tr>
<td> D1 </td>
<td> Not Used
</td></tr>
<tr>
<td> D2 </td>
<td> Not Used
</td></tr>
<tr>
<td> D3 </td>
<td> Not Used
</td></tr>
<tr>
<td> D4 </td>
<td> Not Used
</td></tr>
<tr>
<td> D5 </td>
<td> Not Used
</td></tr>
<tr>
<td> D6 </td>
<td> Not Used
</td></tr>
<tr>
<td> D7 </td>
<td> Not Used
</td></tr>
<tr>
<td> D8 </td>
<td> <b>OUT1</b>
</td></tr>
<tr>
<td> D9 </td>
<td> <b>Enable of Channel0</b>
</td></tr>
<tr>
<td> D10 </td>
<td> <b>Enable of Chennel1</b>
</td></tr>
<tr>
<td> D11 </td>
<td> <b>OUT2</b>
</td></tr>
<tr>
<td> D12 </td>
<td> <b>OUT3</b>
</td></tr>
<tr>
<td> D13 </td>
<td> <b>OUT4</b>
</td></tr></table>
<p><b>Note</b> that D8~D13 was used by Motor Shield. Please don't use those pins to avoid conflict.
</p>
<h3> Analog Pin Used</h3>
<table>
<tr>
<th> Arduino Pin </th>
<th> Function
</th></tr>
<tr>
<td> A0 </td>
<td> Not Used
</td></tr>
<tr>
<td> A1 </td>
<td> Not Used
</td></tr>
<tr>
<td> A2 </td>
<td> Not Used
</td></tr>
<tr>
<td> A3 </td>
<td> Not Used
</td></tr>
<tr>
<td> A4 </td>
<td> Not Used
</td></tr>
<tr>
<td> A5 </td>
<td> Not Used
</td></tr></table>
<p><b>Note</b> that <i>Not Used</i> means you can use those pins freely. 
<br/>
</p>
<h2> Getting Started</h2>
<p>Here we will show you how to drive a dc motor and a stepper with this shield.
</p><p>We need a <a href="/Seeeduino_v4.2" title="Seeeduino v4.2">Seeeduino V4</a> as the controller, Seeeduino V4 is an Arduino compatible board, and you can use an Arduino as well. 
</p><p>And you need a dc motor or a stepper for testing.
</p>
<h3>  Download the library </h3>
<p>Click the below button to download the library. If the library you had download include "<b>-master</b>", please remove it.
</p><p><br/>
<a href="https://github.com/Seeed-Studio/SeeedMotorShieldV2"><img src="img/Motor_shield_v2_library.png" width="400"/></a>
</p>
<h3>  Drive a DC Motor </h3>
<p>You can drive 2 DC motor with this shield. Here I will show you how to drive a DC motor. 
</p><p><img src="img/Electric_motor_cycle_2.png" width="400"/>
</p><p>You need to do some preparing first:
</p>
<ul><li> Set <b>SEN_A</b> and <b>SEN_B</b>, connect the left 2 pins together with a jumper. 
</li><li> Connect <b>MB_EN</b> together with a jumper, as we are no going use an external power.
</li><li> Connect your DC motor to Chanel 0 (OUT1 and OUT2).
</li></ul>
<p>Then open <b>motor_dc</b> example in the library. Upload the code to Seeeduino V4.2.
</p>
<div class="mw-geshi mw-code mw-content-ltr container" dir="ltr"><div class="arduino source-arduino"><pre class="de1"><span class="co1">//  Demo function:The application method to drive the DC motor.</span>
<span class="co1">//  Author:Loovee (luweicong@seeed.cc)</span>
<span class="co1">//  2016-3-11</span>
 
<span class="co2">#include "MotorDriver.h"</span>
 
MotorDriver motor<span class="sy4">;</span>
 
<span class="kw4">void</span> <span class="kw2">setup</span><span class="br0">(</span><span class="br0">)</span>
<span class="br0">{</span>
    <span class="co1">// initialize</span>
    motor.<span class="kw3">begin</span><span class="br0">(</span><span class="br0">)</span><span class="sy4">;</span>
<span class="br0">}</span>
 
<span class="kw4">void</span> <span class="kw2">loop</span><span class="br0">(</span><span class="br0">)</span>
<span class="br0">{</span>
    motor.<span class="kw3">speed</span><span class="br0">(</span><span class="nu0">0</span>, <span class="nu0">100</span><span class="br0">)</span><span class="sy4">;</span>            <span class="co1">// set motor0 to speed 100</span>
    <span class="kw3">delay</span><span class="br0">(</span><span class="nu0">1000</span><span class="br0">)</span><span class="sy4">;</span>
    motor.<span class="me1">brake</span><span class="br0">(</span><span class="nu0">0</span><span class="br0">)</span><span class="sy4">;</span>                 <span class="co1">// brake</span>
    <span class="kw3">delay</span><span class="br0">(</span><span class="nu0">1000</span><span class="br0">)</span><span class="sy4">;</span>
    motor.<span class="kw3">speed</span><span class="br0">(</span><span class="nu0">0</span>, <span class="sy2">-</span><span class="nu0">100</span><span class="br0">)</span><span class="sy4">;</span>           <span class="co1">// set motor0 to speed -100</span>
    <span class="kw3">delay</span><span class="br0">(</span><span class="nu0">1000</span><span class="br0">)</span><span class="sy4">;</span>
    motor.<span class="kw3">stop</span><span class="br0">(</span><span class="nu0">0</span><span class="br0">)</span><span class="sy4">;</span>                  <span class="co1">// stop</span>
    <span class="kw3">delay</span><span class="br0">(</span><span class="nu0">1000</span><span class="br0">)</span><span class="sy4">;</span>
<span class="br0">}</span>
<span class="co1">// END FILE</span></pre></div></div>
<p>Then you will find your motor move (1s), stop (1s), move back (1s), stop (1s), and loop.
</p><p>If there's nothing happen, please make sure:
</p>
<ul><li> You had uploaded the code successfully
</li><li> Your motor connect right
</li><li> The led indicators blink right
</li></ul>
<p><br/>
</p>
<h3>  Drive a Stepper </h3>
<p>You can drive a <b>4-wire stepper</b> with this shield. Here I will show you how to drive a <a href="https://en.wikipedia.org/wiki/Stepper_motor">stepper</a>. 
</p><p><img src="img/StepperMotor.gif" width="400"/>
</p><p>You need to do some preparing first:
</p>
<ul><li> Set <b>SEN_A</b> and <b>SEN_B</b>, connect the left 2 pins together with a jumper. 
</li><li> Connect <b>MB_EN</b> together with a jumper, as we are no going to use an external power.
</li></ul>
<p>Find the pin definitions of you stepper, and connect it to the OUTPUT of the shield. As below:
</p>
<table>
<tr>
<th> Stepper </th>
<th> Motor Shield
</th></tr>
<tr>
<td> A+ </td>
<td> OUT1
</td></tr>
<tr>
<td> A- </td>
<td> OUT2
</td></tr>
<tr>
<td> B+ </td>
<td> OUT3
</td></tr>
<tr>
<td> B- </td>
<td> OUT4
</td></tr></table>
<p>Then open <b>stepper_test</b> example in the library, upload it to Seeeduino V4, then you will find your stepper move.
</p>
<div class="mw-geshi mw-code mw-content-ltr container" dir="ltr"><div class="arduino source-arduino"><pre class="de1"><span class="coMULTI">/*
 * Stepper test for Seeed Motor Shield V2
 * loovee @ 15 Mar, 2016
 */</span>
 
<span class="co2">#include &lt;Stepper.h&gt;</span>
 
<span class="co1">// change this to the number of steps on your motor</span>
<span class="co2">#define STEPS 200</span>
 
<span class="co1">// create an instance of the stepper class, specifying</span>
<span class="co1">// the number of steps of the motor and the pins it's</span>
<span class="co1">// attached to</span>
<span class="kw2">Stepper</span> stepper<span class="br0">(</span>STEPS, <span class="nu0">8</span>, <span class="nu0">11</span>, <span class="nu0">12</span>, <span class="nu0">13</span><span class="br0">)</span><span class="sy4">;</span>
 
<span class="co1">// the previous reading from the analog input</span>
<span class="kw4">int</span> previous <span class="sy1">=</span> <span class="nu0">0</span><span class="sy4">;</span>
 
<span class="kw4">void</span> <span class="kw3">step</span><span class="br0">(</span><span class="kw4">int</span> steps<span class="br0">)</span>
<span class="br0">{</span>
    <span class="kw3">digitalWrite</span><span class="br0">(</span><span class="nu0">9</span>, <span class="kw2">HIGH</span><span class="br0">)</span><span class="sy4">;</span>
    <span class="kw3">digitalWrite</span><span class="br0">(</span><span class="nu0">10</span>, <span class="kw2">HIGH</span><span class="br0">)</span><span class="sy4">;</span>
    stepper.<span class="kw3">step</span><span class="br0">(</span>steps<span class="br0">)</span><span class="sy4">;</span>
    <span class="kw3">digitalWrite</span><span class="br0">(</span><span class="nu0">9</span>, <span class="kw2">LOW</span><span class="br0">)</span><span class="sy4">;</span>
    <span class="kw3">digitalWrite</span><span class="br0">(</span><span class="nu0">10</span>, <span class="kw2">LOW</span><span class="br0">)</span><span class="sy4">;</span>
<span class="br0">}</span>
 
<span class="kw4">void</span> <span class="kw2">setup</span><span class="br0">(</span><span class="br0">)</span>
<span class="br0">{</span>
    <span class="co1">// set the speed of the motor to 30 RPMs</span>
    <span class="kw3">pinMode</span><span class="br0">(</span><span class="nu0">9</span>, <span class="kw2">OUTPUT</span><span class="br0">)</span><span class="sy4">;</span>
    <span class="kw3">pinMode</span><span class="br0">(</span><span class="nu0">10</span>, <span class="kw2">OUTPUT</span><span class="br0">)</span><span class="sy4">;</span>
    <span class="kw3">digitalWrite</span><span class="br0">(</span><span class="nu0">9</span>, <span class="kw2">LOW</span><span class="br0">)</span><span class="sy4">;</span>
    <span class="kw3">digitalWrite</span><span class="br0">(</span><span class="nu0">10</span>, <span class="kw2">LOW</span><span class="br0">)</span><span class="sy4">;</span>
    stepper.<span class="kw3">setSpeed</span><span class="br0">(</span><span class="nu0">30</span><span class="br0">)</span><span class="sy4">;</span>
<span class="br0">}</span>
 
<span class="kw4">void</span> <span class="kw2">loop</span><span class="br0">(</span><span class="br0">)</span>
<span class="br0">{</span>
    <span class="kw3">step</span><span class="br0">(</span><span class="nu0">1000</span><span class="br0">)</span><span class="sy4">;</span>
    <span class="kw3">step</span><span class="br0">(</span><span class="sy2">-</span><span class="nu0">1000</span><span class="br0">)</span><span class="sy4">;</span>
<span class="br0">}</span>
 
<span class="co1">// END FILE</span></pre></div></div>
<p>If there's nothing happen, please double check if you had connected the wire right. 
</p><p><br/>
</p>
<h2> Library APIs </h2>
<h3> begin</h3>
<p><b>Description</b>
</p><p>Initialize the IOs, should be called at the very beginning of the code(maybe Setup()). 
</p>
<div class="mw-geshi mw-code mw-content-ltr container" dir="ltr"><div class="arduino source-arduino"><pre class="de1"><span class="kw4">void</span> <span class="kw3">begin</span><span class="br0">(</span><span class="br0">)</span><span class="sy4">;</span></pre></div></div>
<h3> speed</h3>
<p><b>Description</b>
</p><p>Set speed, control by PWM.
</p>
<div class="mw-geshi mw-code mw-content-ltr container" dir="ltr"><div class="arduino source-arduino"><pre class="de1"><span class="kw4">void</span> move<span class="br0">(</span><span class="kw4">int</span> motor_id, <span class="kw4">int</span> <span class="kw3">speed</span><span class="br0">)</span><span class="sy4">;</span></pre></div></div>
<ul><li> motor_id
</li></ul>
<dl><dd><ul><li> 0 - Chanel 0
</li><li> 1 - Chanel 1
</li></ul>
</dd></dl>
<ul><li> speed: -100~100, the larger the faster, 0 for stop
</li></ul>
<h3>  stop </h3>
<div class="mw-geshi mw-code mw-content-ltr container" dir="ltr"><div class="arduino source-arduino"><pre class="de1"><span class="kw4">void</span> <span class="kw3">stop</span><span class="br0">(</span><span class="kw4">unsigned</span> <span class="kw4">char</span> motor_id<span class="br0">)</span><span class="sy4">;</span></pre></div></div>
<h3>  brake </h3>
<div class="mw-geshi mw-code mw-content-ltr container" dir="ltr"><div class="arduino source-arduino"><pre class="de1"><span class="kw4">void</span> brake<span class="br0">(</span><span class="kw4">unsigned</span> <span class="kw4">char</span> motor_id<span class="br0">)</span><span class="sy4">;</span></pre></div></div>
<h3>  Stepper </h3>
<p><b>Note</b> that we use the library provided by Arduino IDE to drive a stepper.
</p><p>There's something need to be modified, please refer the examples. 
</p><p><br/>
</p>
<h2> Resources </h2>
<ul><li> <a href="res/Motor_Shield_Eagle_File.zip">Motor Shield V2.0 Eagle File</a>
</li><li> <a href="res/Motor_shield_2.1.rar">Motor shield V2.1 Eagle File</a>
</li><li> <a href="res/Motor_shield_2.0.pdf">Motor Shield 2.0 schematics</a>
</li><li> <a href="res/Motor_shield_2.1.pdf">Motor Shield 2.1 schematics</a>
</li><li> <a href="res/Motor_Shield_V2.2.zip">Motor Shield 2.2 schematics</a>
</li><li> <a href="https://github.com/Seeed-Studio/SeeedMotorShieldV2">Motor Shield Library</a>
</li><li> <a href="res/L298.pdf">L298 Datasheet</a>
</li><li> <a href="res/78M05_datasheet.pdf">78M05 Datasheet</a>
</li></ul>
<p><br/>
</p><p><br/>
</p>
<h2> Help us to make it better </h2>
<p><iframe frameborder="0" height="500" src="https://www.surveymonkey.com/r/GVX6F6V" width="500"></iframe>
</p>
Copyright (c) 2008-2016 Seeed Development Limited (<a href="http://www.seeedstudio.com">www.seeedstudio.com</a> / <a href="http://www.seeed.cc">www.seeed.cc</a>)<h6>This static html page was created from http://www.seeedstudio.com/wiki</h6></div></body></html>