<html><head><meta name="viewport" content="width=device-width, initial-scale=1"><link href=//fonts.googleapis.com/css?family=Raleway:400,300,600 rel=stylesheet type=text/css><link rel="stylesheet" type="text/css" href="../common/css/normalize.css"><link rel="stylesheet" type="text/css" href="../common/css/skeleton.css"><link rel="stylesheet" type="text/css" href="../common/css/wiki.css"><script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script><title>Grove - Gas Sensor(O₂)</title><meta charset="utf-8"/></head><body><div class"container"><a href="../"><img src="../common/logo.png"/></a></div><div class="mw-content-ltr container" dir="ltr" id="mw-content-text" lang="en"><h1>Grove - Gas Sensor(O₂)</h1><div class="thumb tright"><div class="thumbinner" style="width:502px;"><img src="img/Grove_Gas_Sensor_Oxygen.jpg" width="500"/> <div class="thumbcaption"></div></div></div>
<p>Grove-Gas Sensor (O₂) is a kind of sensor to test the oxygen concentration in air, which is based on the principle of the electrochemical cell to the original work. You can know clearly the current oxygen concentration when you output voltage values proportional to the concentration of oxygen and refer to the oxygen concentration linear characteristic graph. It's very suitable for detecting oxygen concentration in the environment protection. <font color="Blue">Grove - Gas Sensor(O₂) is an organic reaction module, it can provide a little current while putting it in the air, we don't need to provide an external power to it, and output voltage will change as time current changes. </font>
<br/>
</p><p><span style="color: red"><b>Note</b> that The sensor value only reflects the approximated trend of gas concentration in a permissible error range, it DOES NOT represent the exact gas concentration. The detection of certain components in the air usually requires a more precise and costly instrument, which cannot be done with a single gas sensor. If your project is aimed at obtaining the gas concentration at a very precise level, then we do not recommend this gas sensor.</span>
</p><p><br/>
<a href="http://www.seeedstudio.com/depot/grove-gas-sensoro2-p-1541.html"><img src="../common/Get_One_Now_Banner.png" width="300"/></a>
</p><p><br/>
</p>
<p><br/>
</p>
<h2> Feature</h2>
<ul><li>High-precision
</li><li>High sensitivity
</li><li>Wide linearity range
</li><li>Strong anti-interference ability
</li><li>Extraordinary reliability
</li></ul>
<h2> Specification</h2>
<table>
<tr>
<td> <b>Items</b>
</td>
<td> <b>Parameter</b>
</td></tr>
<tr>
<td> Measurement Range
</td>
<td> 0-25%vol
</td></tr>
<tr>
<td> Detect Life
</td>
<td> two years
</td></tr>
<tr>
<td> Sensitivity
</td>
<td>  0.05～0.15 mA(in air)
</td></tr>
<tr>
<td> Temperature Range
</td>
<td>  ﹣20℃～50℃
</td></tr>
<tr>
<td> Pressure range
</td>
<td> QNE±10﹪
</td></tr>
<tr>
<td> Response Time
</td>
<td>  ≤15S
</td></tr>
<tr>
<td> Humidity range
</td>
<td> 0～99﹪RH Non-condensing
</td></tr>
<tr>
<td> Stability
</td>
<td>  &lt;2%
</td></tr></table>
<h2> Usage</h2>
<p>This O2 sensor is an analog output sensor. An example application to get the volume of O2 in air demonstrated below:
</p><p><font color="Red">Notice: Please power the Gas Sensor(O2) for more than 48 hrs (warm up time) before reading data for actual calculation. </font>
</p><p>Here is an example of O2 concentration controlled Buzzer. When Oxygen concentration gets lower than the minimum safe concentration, the Buzzer will ring.
</p><p>1. Connect the module to the Analog port 0 of <a href="/Grove-Base_Shield">Grove - Basic Shield</a> using the 4-pin grove cable. Connect Buzzer to Pin 3. <br/>
2. Plug the Grove - Basic Shield into Arduino. And connect Arduino to PC by using a USB cable. <br/>
3. Copy and paste the code below to a new Arduino sketch. Please read <a href="/Upload_Code">this</a> if you do not know how to upload. <br/>
</p>
<div class="mw-geshi mw-code mw-content-ltr container" dir="ltr"><div class="arduino source-arduino"><pre class="de1"><span class="co1">// test Grove - Gas Sensor(O2)</span>
<span class="kw4">float</span> VoutArray<span class="br0">[</span><span class="br0">]</span> <span class="sy1">=</span>  <span class="br0">{</span> <span class="nu16">0.30769</span> ,<span class="nu16">20.00000</span>, <span class="nu16">40.00000</span> ,<span class="nu16">60.00000</span> ,<span class="nu16">120.61538</span> ,<span class="nu16">186.76923</span><span class="br0">}</span><span class="sy4">;</span>
<span class="kw4">float</span>  O2ConArray<span class="br0">[</span><span class="br0">]</span> <span class="sy1">=</span>  <span class="br0">{</span> <span class="nu16">0.00018</span>, <span class="nu16">2.66129</span>, <span class="nu16">5.32258</span>, <span class="nu16">8.05300</span>, <span class="nu16">16.19851</span>, <span class="nu16">25.15367</span><span class="br0">}</span><span class="sy4">;</span>
 
<span class="kw4">void</span> <span class="kw2">setup</span><span class="br0">(</span><span class="br0">)</span> <span class="br0">{</span>
  <span class="co1">// put your setup code here, to run once:</span>
  <span class="kw2">Serial</span>.<span class="kw3">begin</span><span class="br0">(</span><span class="nu0">9600</span><span class="br0">)</span><span class="sy4">;</span>
 
<span class="br0">}</span>
 
<span class="kw4">void</span> <span class="kw2">loop</span><span class="br0">(</span><span class="br0">)</span> <span class="br0">{</span>
  <span class="co1">// put your main code here, to run repeatedly:</span>
 
  <span class="kw2">Serial</span>.<span class="kw3">print</span><span class="br0">(</span><span class="st0">"Vout ="</span><span class="br0">)</span><span class="sy4">;</span>
  <span class="kw2">Serial</span>.<span class="kw3">print</span><span class="br0">(</span>readO2Vout<span class="br0">(</span>A0<span class="br0">)</span><span class="br0">)</span><span class="sy4">;</span>
  <span class="kw2">Serial</span>.<span class="kw3">print</span><span class="br0">(</span><span class="st0">" V, Concentration of O2 is "</span><span class="br0">)</span><span class="sy4">;</span>
  <span class="kw2">Serial</span>.<span class="kw3">println</span><span class="br0">(</span>readConcentration<span class="br0">(</span>A0<span class="br0">)</span><span class="br0">)</span><span class="sy4">;</span>
 
  <span class="kw3">delay</span><span class="br0">(</span><span class="nu0">500</span><span class="br0">)</span><span class="sy4">;</span>
 
<span class="br0">}</span>
 
<span class="kw4">float</span> readO2Vout<span class="br0">(</span>uint8_t analogpin<span class="br0">)</span>
<span class="br0">{</span>
 
    <span class="co1">// Vout samples are with reference to 3.3V </span>
    <span class="kw4">float</span> MeasuredVout <span class="sy1">=</span> <span class="kw3">analogRead</span><span class="br0">(</span>A0<span class="br0">)</span> <span class="sy2">*</span> <span class="br0">(</span><span class="nu16">3.3</span> <span class="sy2">/</span> <span class="nu16">1023.0</span><span class="br0">)</span><span class="sy4">;</span>
    <span class="kw1">return</span> MeasuredVout<span class="sy4">;</span>
 
<span class="br0">}</span>
 
<span class="kw4">float</span> readConcentration<span class="br0">(</span>uint8_t analogpin<span class="br0">)</span>
<span class="br0">{</span>
 
 
    <span class="co1">// Vout samples are with reference to 3.3V </span>
    <span class="kw4">float</span> MeasuredVout <span class="sy1">=</span> <span class="kw3">analogRead</span><span class="br0">(</span>A0<span class="br0">)</span> <span class="sy2">*</span> <span class="br0">(</span><span class="nu16">3.3</span> <span class="sy2">/</span> <span class="nu16">1023.0</span><span class="br0">)</span><span class="sy4">;</span>   
    <span class="kw4">float</span> Concentration <span class="sy1">=</span> FmultiMap<span class="br0">(</span>MeasuredVout, VoutArray,O2ConArray, <span class="nu0">6</span><span class="br0">)</span><span class="sy4">;</span>
    <span class="kw4">float</span> Concentration_Percentage<span class="sy1">=</span>Concentration<span class="sy2">*</span><span class="nu0">100</span><span class="sy4">;</span>
 
    <span class="coMULTI">/**************************************************************************
 
    The O2 Concentration in percentage is calculated based on wiki page Graph 
 
 
    The data from the graph is extracted using WebPlotDigitizer 
    http://arohatgi.info/WebPlotDigitizer/app/
 
    VoutArray[] and O2ConArray[] are these extracted data. Using MultiMap, the data
    is interpolated to get the O2 Concentration in percentage.
 
    This implementation uses floating point arithmetic and hence will consume 
    more flash, RAM and time.
 
    The O2 Concentration in percentage is an approximation and depends on the accuracy of
    Graph used.
 
    ***************************************************************************/</span>
 
    <span class="kw1">return</span> Concentration_Percentage<span class="sy4">;</span>
<span class="br0">}</span>
 
 
<span class="co1">//This code uses MultiMap implementation from http://playground.arduino.cc/Main/MultiMap</span>
 
<span class="kw4">float</span> FmultiMap<span class="br0">(</span><span class="kw4">float</span> val, <span class="kw4">float</span> <span class="sy2">*</span> _in, <span class="kw4">float</span> <span class="sy2">*</span> _out, uint8_t size<span class="br0">)</span>
<span class="br0">{</span>
  <span class="co1">// take care the value is within range</span>
  <span class="co1">// val = constrain(val, _in[0], _in[size-1]);</span>
  <span class="kw1">if</span> <span class="br0">(</span>val <span class="sy1">&lt;=</span> _in<span class="br0">[</span><span class="nu0">0</span><span class="br0">]</span><span class="br0">)</span> <span class="kw1">return</span> _out<span class="br0">[</span><span class="nu0">0</span><span class="br0">]</span><span class="sy4">;</span>
  <span class="kw1">if</span> <span class="br0">(</span>val <span class="sy1">&gt;=</span> _in<span class="br0">[</span>size<span class="sy2">-</span><span class="nu0">1</span><span class="br0">]</span><span class="br0">)</span> <span class="kw1">return</span> _out<span class="br0">[</span>size<span class="sy2">-</span><span class="nu0">1</span><span class="br0">]</span><span class="sy4">;</span>
 
  <span class="co1">// search right interval</span>
  uint8_t pos <span class="sy1">=</span> <span class="nu0">1</span><span class="sy4">;</span>  <span class="co1">// _in[0] allready tested</span>
  <span class="kw1">while</span><span class="br0">(</span>val <span class="sy1">&gt;</span> _in<span class="br0">[</span>pos<span class="br0">]</span><span class="br0">)</span> pos<span class="sy2">++</span><span class="sy4">;</span>
 
  <span class="co1">// this will handle all exact "points" in the _in array</span>
  <span class="kw1">if</span> <span class="br0">(</span>val <span class="sy1">==</span> _in<span class="br0">[</span>pos<span class="br0">]</span><span class="br0">)</span> <span class="kw1">return</span> _out<span class="br0">[</span>pos<span class="br0">]</span><span class="sy4">;</span>
 
  <span class="co1">// interpolate in the right segment for the rest</span>
  <span class="kw1">return</span> <span class="br0">(</span>val <span class="sy2">-</span> _in<span class="br0">[</span>pos<span class="sy2">-</span><span class="nu0">1</span><span class="br0">]</span><span class="br0">)</span> <span class="sy2">*</span> <span class="br0">(</span>_out<span class="br0">[</span>pos<span class="br0">]</span> <span class="sy2">-</span> _out<span class="br0">[</span>pos<span class="sy2">-</span><span class="nu0">1</span><span class="br0">]</span><span class="br0">)</span> <span class="sy2">/</span> <span class="br0">(</span>_in<span class="br0">[</span>pos<span class="br0">]</span> <span class="sy2">-</span> _in<span class="br0">[</span>pos<span class="sy2">-</span><span class="nu0">1</span><span class="br0">]</span><span class="br0">)</span> <span class="sy2">+</span> _out<span class="br0">[</span>pos<span class="sy2">-</span><span class="nu0">1</span><span class="br0">]</span><span class="sy4">;</span>
<span class="br0">}</span></pre></div></div>
<p><br/>
4. When the sensor is in room air, the buzzer will be silent. Blow the sensor. At this time, if Oxygen concentration is lower than set threshold, the Buzzer will ring. You can check the output voltage (amplify 201) after opening the Serial Monitor.
<br/>
<br/><img src="img/Gas_Sensor_O2.png" width="500"/><br/>
<br/>
We tested it inside office, so the concentration of O2 is about 20.5%. <br/>
<font color="Red">Notice: We have adjusted the figure in a clear air. We have updated it in the program, please refer to the program instead of datasheet. </font><br/>
<br/>
<img src="img/O2_figure.png" width="600"/>
<br/>
</p>
<h2> Resources</h2>
<p><a href="res/Grove-Gas_Sensor-O2-v1.0_Schematic_Files.zip">Grove - Gas Sensor(O2) v1.0 Eagle File</a><br/>
<a href="res/Grove-Gas_Sensor-O2-v1.1_Shematic_Files.zip">Grove - Gas Sensor(O2) v1.1 Eagle File</a><br/>
</p><p><br/>
</p>
Copyright (c) 2008-2016 Seeed Development Limited (<a href="http://www.seeedstudio.com">www.seeedstudio.com</a> / <a href="http://www.seeed.cc">www.seeed.cc</a>)<h6>This static html page was created from http://www.seeedstudio.com/wiki</h6></div></body></html>