<html><head><meta name="viewport" content="width=device-width, initial-scale=1"><link href=//fonts.googleapis.com/css?family=Raleway:400,300,600 rel=stylesheet type=text/css><link rel="stylesheet" type="text/css" href="../common/css/normalize.css"><link rel="stylesheet" type="text/css" href="../common/css/skeleton.css"><link rel="stylesheet" type="text/css" href="../common/css/wiki.css"><script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script><title>Xadow - Compass</title><meta charset="utf-8"/></head><body><div class"container"><a href="../index.html"><img src="../common/logo.png"/></a></div><div class="mw-content-ltr container" dir="ltr" id="mw-content-text" lang="en"><h1>Xadow - Compass</h1>
<div class="thumb tright"><div class="thumbinner" style="width:302px;"><img src="img/X_compass_01.jpg" width="300"/> <div class="thumbcaption"></div></div></div>

<p>Xadow Compass is a 3-Axis Digital Compass which is a member of Xadow family. The module is based on a low field magnetic sensor HMC5883.
It features 1° to 2° compass heading accuracy, and it is using I2C serial bus to communicate with your microcontroller. Xadow Compass is a useful tool for helping you to get the direction information.
</p>
<h2> Specification</h2>
<ul><li> Working voltage: 3.3V
</li><li> Linearity: 0.1(Max) ±% FS
</li><li> Resolution: 10 milli-gauss
</li><li> Mag Dynamic Range: ±1 ~ ±8 gauss
</li><li> IIC Address: 
</li></ul>
<dl><dd><dl><dd>7-bit address: 0x1E
</dd><dd>8-bit read address: 0x3D
</dd><dd>8-bit write address: 0x3C
</dd></dl>
</dd></dl>
<ul><li> Operating Temperature: -30 ~ +85 °C
</li><li> Dimensions: 25.43mm x 20.35mm
</li></ul>
<h2> Demonstration </h2>
<p>This demo is going to show you how to read raw data, how to calibrate the data with your local magnetic declination angle and how to get heading angle. 
</p>
<h3> Get the local magnetic declination </h3>
<p>First off, before any action you are going to take, you need to prepare a parameter you are going to use in your demo. That's your local magnetic declination. 
</p>
<ul><li>You can find it out in degree via <a href="http://www.magnetic-declination.com/">the magnetic declination webpage</a>. For example, mine is -2°37’, which is -2.617 degree. 
</li></ul>
<ul><li>Then transfer it from degree to radians, and there you get the "declinationAngle". For example, in my case, declinationAngle = -2.617 / （2*π）= -0.0456752665 rad. Three significant figures are enough. So I would shorten it into -0.0456 rad. And this is the parameter you are going to replace the value of "declinationAngle" in the demo code with. 
</li></ul>
<h3> Download code</h3>
<ul><li>Complete the hardware installation:
</li></ul>
<p><b>Note</b>: when connect Xadow Compass to Xadow Main Board, you should concern about the connection direction. The connection method is that the unfilled corner of one Xadow module need to connect to the right angle of another module (see four corners of each Xadow module).
</p>
<ul><li>Download the library file: <a href="https://github.com/Seeed-Studio/Grove_3Axis_Digital_Compass">Digital Compass Library</a>, and install it to your Arduino Library. See <a href="/How_to_install_Arduino_Library" title="How to install Arduino Library">How to install Arduino Library</a> to learn the install method.
</li><li>Open the demo by the path:File -&gt; Example -&gt; Digital Compass -&gt; HMC5883L_Example. Replace the value of variable "declinationAngle" with the one you've figured out already.
</li></ul>
<p><img src="img/Xadow_Compass_Code.jpg" width="487"/>
</p>
<ul><li>Upload the Code. Check the output result by opening the serial monitor.
</li></ul>
<p><img src="img/Digital_Compass2.jpg" width="600"/>
</p>
<h2> Resources</h2>
<ul><li><a href="res/HMC5883.pdf">3-Axis Digital Compass HMC5883 Datasheet</a><br/>
</li><li><a href="res/Xadow_Compass_Eagle_File.zip">Xadow Compass Eagle File</a>
</li><li><a href="https://github.com/Seeed-Studio/Grove_3Axis_Digital_Compass">Xadow Compass Library File</a>
</li></ul>
Copyright (c) 2008-2016 Seeed Development Limited (<a href="http://www.seeedstudio.com">www.seeedstudio.com</a> / <a href="http://www.seeed.cc">www.seeed.cc</a>)<h6>This static html page was created from http://www.seeedstudio.com/wiki</h6></div></body></html>