<html><head><meta name="viewport" content="width=device-width, initial-scale=1"><link href=//fonts.googleapis.com/css?family=Raleway:400,300,600 rel=stylesheet type=text/css><link rel="stylesheet" type="text/css" href="../common/css/normalize.css"><link rel="stylesheet" type="text/css" href="../common/css/skeleton.css"><link rel="stylesheet" type="text/css" href="../common/css/wiki.css"><script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script><title>Grove - Infrared Receiver</title><meta charset="utf-8"/></head><body><div class"container"><a href="../index.html"><img src="../common/logo.png"/></a></div><div class="mw-content-ltr container" dir="ltr" id="mw-content-text" lang="en"><h1>Grove - Infrared Receiver</h1><div class="thumb tright"><div class="thumbinner" style="width:402px;"><img src="img/Grove-Infrared_Receiver.jpg" width="400"/> <div class="thumbcaption"></div></div></div>


<p>The Infrared Receiver is used to receive infrared signals and also used for remote control detection. There is an IR detector on the Infrared Receiver which is used to get the infrared light emitted by the Infrared Emitter. The IR detector have a demodulator inside that looks for modulated IR at 38 KHz. The Infrared Receiver can receive signals well within 10 meters. If more than 10 meters , the receiver may not get the signals. We often use the two Groves-the Infrared Receiver and the <a href="/Grove-Infrared_Emitter" title="Grove - Infrared Emitter">Grove - Infrared Emitter</a> to work together.
</p><p><b>Model: <a href="http://www.seeedstudio.com/depot/grove-infrared-receiver-p-994.html?cPath=139_204">WLS12136P</a></b>
</p><p><br/>
</p>
<h2>  Specification </h2>
<ul><li>Voltage: 3.3-5V
</li><li>Distance: 10m
</li></ul>
<p><br/>
</p>
<h2>  Demonstration </h2>
<p>We will use Grove-Infrared Receiver and Grove - Infrared Emitter in this demonstration. The Infrared Receiver will receive the data that the Grove - Infrared Emitter sends.  
</p>
<ul><li>Connect the Grove - Infrared Emitter to D3;
</li><li>Connect the Grove - Infrared Receiver to D2;
</li></ul>
<p><br/>
</p>
<pre><img src="img/IR_SendRev.jpg" width="600"/>
</pre>
<p><br/>
</p>
<h2> With Arduino/Seeeduino</h2>
<h3>  Suggest Reading for Starter </h3>
<dl><dd> <a href="/Download_Arduino_and_install_Arduino_driver">Download Arduino and install Arduino driver</a><br/>
</dd><dd> <a href="/Getting_Started_with_Seeeduino">Getting Started with Seeeduino/Arduino</a><br/>
</dd></dl>
<h3>  IRSendRev Library </h3>
<p>We have created a library to help you start playing quickly with the Seeeduino/Arduino, in this section we'll show you how to set up the library.
</p>
<h4>  Setup </h4>
<ol><li> <i><a href="https://github.com/Seeed-Studio/IRSendRev">Download the library code as a zip file from the IRSendRev github page.</a></i>
</li><li> <i>Unzip the downloaded file into your …/arduino/libraries.</i>
</li><li> <i>Rename the unzipped folder "IRSendRev"</i>
</li><li> <i>Start the Arduino IDE (or restart if it is open).</i>
</li></ol>
<h3> Infrared Receiver Examples/Applications</h3>
<p>These example are going to show you how to use features of Grove - Infrared Receiver. You can use Infrared Receiver combination with  <a href="/Grove-Infrared_Emitter">Infrared Emitter Grove</a>. Connect the IR receiver pins to D2 for this demo.<br/>
</p>
<h4> Receiver</h4>
<ul><li> Open File-&gt;Examples-&gt;IRSendRev-&gt;example-&gt;recv sketch for a complete example, or copy and paste code below to a new Arduino sketch. <br/>
</li></ul>
<p><b>Description</b>: This example connect the IR receiver pins to D2 for this demo. You can see the remote control's infrared data that received through a serial port terminal, then write the received infrared data into send.ino and upload to the board with Infrared Emitter Grove, so you can send the same data with remote control's button.<br/>
<b>Application</b>: You can note the remote control's infrared data down through Infrared Receiver, then send the same data through Infrared Emitter in some cases, such as open the fan switch when indoor temperature is greater than 26 degrees.
</p>
<div class="mw-geshi mw-code mw-content-ltr container" dir="ltr"><div class="arduino source-arduino"><pre class="de1"><span class="co2">#include &lt;IRSendRev.h&gt;</span>
 
<span class="co2">#define BIT_LEN         0</span>
<span class="co2">#define BIT_START_H     1</span>
<span class="co2">#define BIT_START_L     2</span>
<span class="co2">#define BIT_DATA_H      3</span>
<span class="co2">#define BIT_DATA_L      4</span>
<span class="co2">#define BIT_DATA_LEN    5</span>
<span class="co2">#define BIT_DATA        6</span>
 
<span class="kw4">const</span> <span class="kw4">int</span> pinRecv <span class="sy1">=</span> <span class="nu0">2</span><span class="sy4">;</span>              <span class="co1">// ir receiver connect to D2</span>
 
<span class="kw4">void</span> <span class="kw2">setup</span><span class="br0">(</span><span class="br0">)</span>
<span class="br0">{</span>
    <span class="kw2">Serial</span>.<span class="kw3">begin</span><span class="br0">(</span><span class="nu0">115200</span><span class="br0">)</span><span class="sy4">;</span>
    IR.<span class="me1">Init</span><span class="br0">(</span>pinRecv<span class="br0">)</span><span class="sy4">;</span>
    <span class="kw2">Serial</span>.<span class="kw3">println</span><span class="br0">(</span><span class="st0">"init over"</span><span class="br0">)</span><span class="sy4">;</span>
<span class="br0">}</span>
 
<span class="kw4">unsigned</span> <span class="kw4">char</span> dta<span class="br0">[</span><span class="nu0">20</span><span class="br0">]</span><span class="sy4">;</span>
 
<span class="kw4">void</span> <span class="kw2">loop</span><span class="br0">(</span><span class="br0">)</span>
<span class="br0">{</span>
    <span class="kw1">if</span><span class="br0">(</span>IR.<span class="me1">IsDta</span><span class="br0">(</span><span class="br0">)</span><span class="br0">)</span>                  <span class="co1">// get IR data</span>
    <span class="br0">{</span>
        IR.<span class="me1">Recv</span><span class="br0">(</span>dta<span class="br0">)</span><span class="sy4">;</span>               <span class="co1">// receive data to dta</span>
 
        <span class="kw2">Serial</span>.<span class="kw3">println</span><span class="br0">(</span><span class="st0">"+------------------------------------------------------+"</span><span class="br0">)</span><span class="sy4">;</span>
		<span class="kw2">Serial</span>.<span class="kw3">print</span><span class="br0">(</span><span class="st0">"LEN = "</span><span class="br0">)</span><span class="sy4">;</span>
        <span class="kw2">Serial</span>.<span class="kw3">println</span><span class="br0">(</span>dta<span class="br0">[</span>BIT_LEN<span class="br0">]</span><span class="br0">)</span><span class="sy4">;</span>
        <span class="kw2">Serial</span>.<span class="kw3">print</span><span class="br0">(</span><span class="st0">"START_H: "</span><span class="br0">)</span><span class="sy4">;</span>
        <span class="kw2">Serial</span>.<span class="kw3">print</span><span class="br0">(</span>dta<span class="br0">[</span>BIT_START_H<span class="br0">]</span><span class="br0">)</span><span class="sy4">;</span>
        <span class="kw2">Serial</span>.<span class="kw3">print</span><span class="br0">(</span><span class="st0">"<span class="es1">\t</span>START_L: "</span><span class="br0">)</span><span class="sy4">;</span>
        <span class="kw2">Serial</span>.<span class="kw3">println</span><span class="br0">(</span>dta<span class="br0">[</span>BIT_START_L<span class="br0">]</span><span class="br0">)</span><span class="sy4">;</span>
 
        <span class="kw2">Serial</span>.<span class="kw3">print</span><span class="br0">(</span><span class="st0">"DATA_H: "</span><span class="br0">)</span><span class="sy4">;</span>
        <span class="kw2">Serial</span>.<span class="kw3">print</span><span class="br0">(</span>dta<span class="br0">[</span>BIT_DATA_H<span class="br0">]</span><span class="br0">)</span><span class="sy4">;</span>
        <span class="kw2">Serial</span>.<span class="kw3">print</span><span class="br0">(</span><span class="st0">"<span class="es1">\t</span>DATA_L: "</span><span class="br0">)</span><span class="sy4">;</span>
        <span class="kw2">Serial</span>.<span class="kw3">println</span><span class="br0">(</span>dta<span class="br0">[</span>BIT_DATA_L<span class="br0">]</span><span class="br0">)</span><span class="sy4">;</span>
 
        <span class="kw2">Serial</span>.<span class="kw3">print</span><span class="br0">(</span><span class="st0">"<span class="es1">\r</span><span class="es1">\n</span>DATA_LEN = "</span><span class="br0">)</span><span class="sy4">;</span>
        <span class="kw2">Serial</span>.<span class="kw3">println</span><span class="br0">(</span>dta<span class="br0">[</span>BIT_DATA_LEN<span class="br0">]</span><span class="br0">)</span><span class="sy4">;</span>
 
		<span class="kw2">Serial</span>.<span class="kw3">print</span><span class="br0">(</span><span class="st0">"DATA: "</span><span class="br0">)</span><span class="sy4">;</span>
        <span class="kw1">for</span><span class="br0">(</span><span class="kw4">int</span> i<span class="sy1">=</span><span class="nu0">0</span><span class="sy4">;</span> i<span class="sy1">&lt;</span>dta<span class="br0">[</span>BIT_DATA_LEN<span class="br0">]</span><span class="sy4">;</span> i<span class="sy2">++</span><span class="br0">)</span>
        <span class="br0">{</span>
            <span class="kw2">Serial</span>.<span class="kw3">print</span><span class="br0">(</span><span class="st0">"0x"</span><span class="br0">)</span><span class="sy4">;</span>
            <span class="kw2">Serial</span>.<span class="kw3">print</span><span class="br0">(</span>dta<span class="br0">[</span>i<span class="sy2">+</span>BIT_DATA<span class="br0">]</span>, <span class="kw2">HEX</span><span class="br0">)</span><span class="sy4">;</span>
            <span class="kw2">Serial</span>.<span class="kw3">print</span><span class="br0">(</span><span class="st0">"<span class="es1">\t</span>"</span><span class="br0">)</span><span class="sy4">;</span>
        <span class="br0">}</span>
        <span class="kw2">Serial</span>.<span class="kw3">println</span><span class="br0">(</span><span class="br0">)</span><span class="sy4">;</span>
 
		<span class="kw2">Serial</span>.<span class="kw3">print</span><span class="br0">(</span><span class="st0">"DATA: "</span><span class="br0">)</span><span class="sy4">;</span>
        <span class="kw1">for</span><span class="br0">(</span><span class="kw4">int</span> i<span class="sy1">=</span><span class="nu0">0</span><span class="sy4">;</span> i<span class="sy1">&lt;</span>dta<span class="br0">[</span>BIT_DATA_LEN<span class="br0">]</span><span class="sy4">;</span> i<span class="sy2">++</span><span class="br0">)</span>
        <span class="br0">{</span>
            <span class="kw2">Serial</span>.<span class="kw3">print</span><span class="br0">(</span>dta<span class="br0">[</span>i<span class="sy2">+</span>BIT_DATA<span class="br0">]</span>, <span class="kw2">DEC</span><span class="br0">)</span><span class="sy4">;</span>
            <span class="kw2">Serial</span>.<span class="kw3">print</span><span class="br0">(</span><span class="st0">"<span class="es1">\t</span>"</span><span class="br0">)</span><span class="sy4">;</span>
        <span class="br0">}</span>
        <span class="kw2">Serial</span>.<span class="kw3">println</span><span class="br0">(</span><span class="br0">)</span><span class="sy4">;</span>
        <span class="kw2">Serial</span>.<span class="kw3">println</span><span class="br0">(</span><span class="st0">"+------------------------------------------------------+<span class="es1">\r</span><span class="es1">\n</span><span class="es1">\r</span><span class="es1">\n</span>"</span><span class="br0">)</span><span class="sy4">;</span>
    <span class="br0">}</span>
<span class="br0">}</span></pre></div></div>
<ul><li>Upload the code to the development board.<br/>
</li><li>Open the serial monitor window and wait for the input.<br/>
</li><li>Using IR remote control sending data<font color="Blue">(This example use MIDEA Company's IR remote control of fans, and press the open/close key.)</font>.<br/>
</li><li>You can see the information below.
</li></ul>
<p><img src="img/Data：IR_remote_control_of_fans.jpg" width="465"/>
</p><p><br/>
</p>
<h4> Emitter</h4>
<ul><li> Open File-&gt;Examples-&gt;IRSendRev-&gt;example-&gt;send sketch for a complete example, or copy and paste code below to a new Arduino sketch. <br/>
</li></ul>
<p><b>Description</b>: Connect the IR send pins to D3 for this demo. You can see the remote control's infrared data that received through Infrared Receiver, such as the example above. Then write the received infrared data into this example and upload to the board with <a href="/Grove-Infrared_Emitter">Infrared Emitter Grove</a>, so you can send the same data with remote control's button.<br/>
<b>Application</b>: You can note the remote control's infrared data down through Infrared Receiver, then send the same data through Infrared Emitter in some cases, such as open the fan switch when indoor temperature is greater than 26 degrees.<br/>
<font color="Blue"><b>Notice</b>: Must connect the IR send pins to D3 for this demo.</font>
</p>
<div class="mw-geshi mw-code mw-content-ltr container" dir="ltr"><div class="arduino source-arduino"><pre class="de1"><span class="co2">#include &lt;IRSendRev.h&gt;</span>
 
<span class="co2">#define BIT_LEN         0</span>
<span class="co2">#define BIT_START_H     1</span>
<span class="co2">#define BIT_START_L     2</span>
<span class="co2">#define BIT_DATA_H      3</span>
<span class="co2">#define BIT_DATA_L      4</span>
<span class="co2">#define BIT_DATA_LEN    5</span>
<span class="co2">#define BIT_DATA        6</span>
 
<span class="kw4">const</span> <span class="kw4">int</span> ir_freq <span class="sy1">=</span> <span class="nu0">38</span><span class="sy4">;</span>                 <span class="co1">// 38k</span>
 
<span class="kw4">unsigned</span> <span class="kw4">char</span> dtaSend<span class="br0">[</span><span class="nu0">20</span><span class="br0">]</span><span class="sy4">;</span>
 
<span class="kw4">void</span> dtaInit<span class="br0">(</span><span class="br0">)</span>
<span class="br0">{</span>
    dtaSend<span class="br0">[</span>BIT_LEN<span class="br0">]</span>        <span class="sy1">=</span> <span class="nu0">11</span><span class="sy4">;</span>			<span class="co1">// all data that needs to be sent</span>
    dtaSend<span class="br0">[</span>BIT_START_H<span class="br0">]</span>    <span class="sy1">=</span> <span class="nu0">180</span><span class="sy4">;</span>			<span class="co1">// the logic high duration of "Start"</span>
    dtaSend<span class="br0">[</span>BIT_START_L<span class="br0">]</span>    <span class="sy1">=</span> <span class="nu0">91</span><span class="sy4">;</span>			<span class="co1">// the logic low duration of "Start"</span>
    dtaSend<span class="br0">[</span>BIT_DATA_H<span class="br0">]</span>     <span class="sy1">=</span> <span class="nu0">11</span><span class="sy4">;</span>			<span class="co1">// the logic "long" duration in the communication</span>
    dtaSend<span class="br0">[</span>BIT_DATA_L<span class="br0">]</span>     <span class="sy1">=</span> <span class="nu0">33</span><span class="sy4">;</span>			<span class="co1">// the logic "short" duration in the communication</span>
 
    dtaSend<span class="br0">[</span>BIT_DATA_LEN<span class="br0">]</span>   <span class="sy1">=</span> <span class="nu0">6</span><span class="sy4">;</span>			<span class="co1">// Number of data which will sent. If the number is other, you should increase or reduce dtaSend[BIT_DATA+x].</span>
 
    dtaSend<span class="br0">[</span>BIT_DATA<span class="sy2">+</span><span class="nu0">0</span><span class="br0">]</span>     <span class="sy1">=</span> <span class="nu0">128</span><span class="sy4">;</span>			<span class="co1">// data that will sent</span>
    dtaSend<span class="br0">[</span>BIT_DATA<span class="sy2">+</span><span class="nu0">1</span><span class="br0">]</span>     <span class="sy1">=</span> <span class="nu0">127</span><span class="sy4">;</span>
    dtaSend<span class="br0">[</span>BIT_DATA<span class="sy2">+</span><span class="nu0">2</span><span class="br0">]</span>     <span class="sy1">=</span> <span class="nu0">192</span><span class="sy4">;</span>
    dtaSend<span class="br0">[</span>BIT_DATA<span class="sy2">+</span><span class="nu0">3</span><span class="br0">]</span>     <span class="sy1">=</span> <span class="nu0">63</span><span class="sy4">;</span>
	dtaSend<span class="br0">[</span>BIT_DATA<span class="sy2">+</span><span class="nu0">4</span><span class="br0">]</span>     <span class="sy1">=</span> <span class="nu0">192</span><span class="sy4">;</span>
    dtaSend<span class="br0">[</span>BIT_DATA<span class="sy2">+</span><span class="nu0">5</span><span class="br0">]</span>     <span class="sy1">=</span> <span class="nu0">63</span><span class="sy4">;</span>
<span class="br0">}</span>
 
<span class="kw4">void</span> <span class="kw2">setup</span><span class="br0">(</span><span class="br0">)</span>
<span class="br0">{</span>
    dtaInit<span class="br0">(</span><span class="br0">)</span><span class="sy4">;</span>
<span class="br0">}</span>
 
<span class="kw4">void</span> <span class="kw2">loop</span><span class="br0">(</span><span class="br0">)</span>
<span class="br0">{</span>
    IR.<span class="me1">Send</span><span class="br0">(</span>dtaSend, <span class="nu0">38</span><span class="br0">)</span><span class="sy4">;</span>
 
    <span class="kw3">delay</span><span class="br0">(</span><span class="nu0">2000</span><span class="br0">)</span><span class="sy4">;</span>
<span class="br0">}</span></pre></div></div>
<h2>  Resources </h2>
<ul><li> <a href="res/Grove-Infrared_Receiver_eagle_files.zip">Grove - Infrared Receiver eagle files</a>
</li><li> <a href="https://github.com/Seeed-Studio/IRSendRev">IR Send and Receiver Library</a>
</li><li> <a href="https://github.com/Seeed-Studio/IR_Recv_LinkIt_ONE">IR Receive Library for LinkIt ONE</a>
</li><li> <a href="http://www.vishay.com/docs/82491/tsop382.pdf">TSOP282 Datasheet</a>
</li><li>
</li></ul>
Copyright (c) 2008-2016 Seeed Development Limited (<a href="http://www.seeedstudio.com">www.seeedstudio.com</a> / <a href="http://www.seeed.cc">www.seeed.cc</a>)<h6>This static html page was created from http://www.seeedstudio.com/wiki</h6></div></body></html>