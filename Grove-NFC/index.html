<html><head><meta name="viewport" content="width=device-width, initial-scale=1"><link href=//fonts.googleapis.com/css?family=Raleway:400,300,600 rel=stylesheet type=text/css><link rel="stylesheet" type="text/css" href="../common/css/normalize.css"><link rel="stylesheet" type="text/css" href="../common/css/skeleton.css"><link rel="stylesheet" type="text/css" href="../common/css/wiki.css"><script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script><title>Grove - NFC</title><meta charset="utf-8"/></head><body><div class"container"><a href="../"><img src="../common/logo.png"/></a></div><div class="mw-content-ltr container" dir="ltr" id="mw-content-text" lang="en"><h1>Grove - NFC</h1>

<p>Near Field Communication (NFC) is a set of short-range wireless technologies. It's behind daily applications such as access control system and mobile payment system. <br/>
Grove NFC features a highly integrated transceiver module PN532 which handles contactless communication at 13.56MHz. You can read and write a 13.56MHz tag with this module or implement point to point data exchange with two NFCs.  Grove NFC is designed to use I2C or UART communication protocols, and UART is the default mode. In addition, we assign an independent PCB antenna which can easily stretch out of any enclosure you use, leaving more room for you to design the exterior of your project.
</p>
<h2> Specification</h2>
<ul><li> Working Voltage: 3.3V
</li><li> Working Current: 
</li></ul>
<dl><dd><dl><dd>Static Mode: 73mA
</dd><dd>Write/Read Mode: 83mA
</dd></dl>
</dd></dl>
<ul><li> Support host interface: I2C, UART(default).  
</li><li> Serve for contactless communication at 13.56MHz.
</li><li> Support ISO14443 Type A and Type B protocols.
</li><li> Max operating distance for detecting NFC tags is 28mm depending on current antenna size. 
</li><li> Support P2P communication.
</li><li> Dimensions: 25.43mm x 20.35mm
</li></ul>
<h2>  Get Started </h2>
<ol><li> Download <a href="https://github.com/Seeed-Studio/PN532">PN532 library</a> and put 4 folders(PN532, PN532_SPI, PN532_I2C and PN532_HSU) into Arduino's libraries.
</li><li> Download <a href="https://github.com/Seeed-Studio/Grove-NFC-libraries-Part">[1]</a>, put it into Arduino's library and rename it to NDEF.
</li><li> Open Arduino IDE. If Arduino IDE is already opened, restart it.
</li><li> In Arduino IDE, click menus: File -&gt; Example -&gt; NDEF -&gt; ReadTag
</li><li> <font color="Green">We used I2C interface in the libraries of NDEF, so please cut off the connection between P1 and UART via a little knife, and solder P1 and I2C together. </font>
</li></ol>
<p><br/>
</p>
<div class="center"><div class="floatnone"><img src="img/NFC_cutAndsolder.jpg" width="740"/></div></div>
<p><br/>
<font color="Red">Debug for Grove - NFC v1.0 : There's a bug while using I2C communication, please use jumper wires to follow those connection</font>
</p>
<table>
<tr>
<th> Arduino/Arduino Mega </th>
<th> Grove - NFC
</th></tr>
<tr>
<td> SCL </td>
<td> RX
</td></tr>
<tr>
<td> SDA </td>
<td> TX
</td></tr>
<tr>
<td> GND </td>
<td> GND
</td></tr>
<tr>
<td> 5V </td>
<td> VCC
</td></tr></table>
<p><br/>
<br/>
You can still use UART interface without cutting any connection, Seeeduino Mega(Arduino Mega) or Seeeduino lite(Arduino Leonardo) are preferred. Following are the modified program. 
</p>
<div class="mw-geshi mw-code mw-content-ltr container" dir="ltr"><div class="arduino source-arduino"><pre class="de1"><span class="co2">#include "PN532_HSU.h"</span>
<span class="co2">#include "PN532.h"</span>
<span class="co2">#include "NfcAdapter.h"</span>
 
PN532_HSU interface<span class="br0">(</span><span class="kw2">Serial1</span><span class="br0">)</span><span class="sy4">;</span>
NfcAdapter nfc <span class="sy1">=</span> NfcAdapter<span class="br0">(</span>interface<span class="br0">)</span><span class="sy4">;</span>
 
<span class="kw4">void</span> <span class="kw2">setup</span><span class="br0">(</span><span class="kw4">void</span><span class="br0">)</span> <span class="br0">{</span>
    <span class="kw2">Serial</span>.<span class="kw3">begin</span><span class="br0">(</span><span class="nu0">115200</span><span class="br0">)</span><span class="sy4">;</span>
    <span class="kw2">Serial</span>.<span class="kw3">println</span><span class="br0">(</span><span class="st0">"NDEF Reader"</span><span class="br0">)</span><span class="sy4">;</span>
    nfc.<span class="kw3">begin</span><span class="br0">(</span><span class="br0">)</span><span class="sy4">;</span>
<span class="br0">}</span>
 
<span class="kw4">void</span> <span class="kw2">loop</span><span class="br0">(</span><span class="kw4">void</span><span class="br0">)</span> <span class="br0">{</span>
    <span class="kw2">Serial</span>.<span class="kw3">println</span><span class="br0">(</span><span class="st0">"<span class="es1">\n</span>Scan a NFC tag<span class="es1">\n</span>"</span><span class="br0">)</span><span class="sy4">;</span>
    <span class="kw1">if</span> <span class="br0">(</span>nfc.<span class="me1">tagPresent</span><span class="br0">(</span><span class="br0">)</span><span class="br0">)</span>
    <span class="br0">{</span>
        NfcTag tag <span class="sy1">=</span> nfc.<span class="kw3">read</span><span class="br0">(</span><span class="br0">)</span><span class="sy4">;</span>
        tag.<span class="kw3">print</span><span class="br0">(</span><span class="br0">)</span><span class="sy4">;</span>
    <span class="br0">}</span>
    <span class="kw3">delay</span><span class="br0">(</span><span class="nu0">5000</span><span class="br0">)</span><span class="sy4">;</span>
<span class="br0">}</span></pre></div></div>
<p><b>Note</b> that if using it with Seeeduino or Arduino UNO, the only way to get the return message is setting it to I<sup>2</sup>C interface bus. While using it with Mega or Leonardo, you can use UART interface bus. Ensure PN532 library and Don's NDEF libraries are downloaded for Arduino library. And you might test the example <b>ReadTag.ino</b> under folder <b>example</b>. Delete code Line 1 to Line 10 (line <b>#else ......</b> and the above lines to top).
</p>
<dl><dd> Cut following connections:
<ul><li>TP1  to  UART
</li><li>TP2  to  RX
</li><li>TP3  to  TX
</li></ul>
</dd></dl>
<dl><dd> Solder following connections:
<ul><li>TP1 to I2C
</li><li>TP2 to SCL
</li><li>TP3 to SDA
</li></ul>
</dd></dl>
<h2>  Related Reading </h2>
<ul><li><a href="/Talk-Grove_－_NFC">FAQ of Grove - NFC</a>. 
</li></ul>
<p>Also, you can enter the FAQ page by clicking the "FAQ" button which in the right side of product's wiki page.
</p>
<h2> Resource</h2>
<p><a href="res/Grove-NFC.zip">Grove - NFC v1.0  EAGLE (schematic and board) files</a><br/>
<a href="res/Grove-NFC_v1.1.zip">Grove - NFC v1.1  EAGLE (schematic and board) files</a><br/>
<a href="res/PN532.pdf">PN532 Datasheet PDF</a><br/>
</p><p>
</p>
Copyright (c) 2008-2016 Seeed Development Limited (<a href="http://www.seeedstudio.com">www.seeedstudio.com</a> / <a href="http://www.seeed.cc">www.seeed.cc</a>)<h6>This static html page was created from http://www.seeedstudio.com/wiki</h6></div></body></html>