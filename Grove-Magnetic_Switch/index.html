<html><head><meta name="viewport" content="width=device-width, initial-scale=1"><link href=//fonts.googleapis.com/css?family=Raleway:400,300,600 rel=stylesheet type=text/css><link rel="stylesheet" type="text/css" href="../common/css/normalize.css"><link rel="stylesheet" type="text/css" href="../common/css/skeleton.css"><link rel="stylesheet" type="text/css" href="../common/css/wiki.css"><script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script><title>Grove - Magnetic Switch</title><meta charset="utf-8"/><script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-84386732-1', 'auto');
  ga('send', 'pageview');
</script>
</head>
<body><div class"container"><a href="../"><img src="../common/logo.png"/></a></div><div class="mw-content-ltr container" dir="ltr" id="mw-content-text" lang="en"><h1>Grove - Magnetic Switch</h1>

<p>This is a Grove interface compatible Magnetic switch module. It is based on encapsulated dry reed switch CT10. CT10 is single-pole, single throw (SPST) type, having normally open ruthenium contacts. The sensor is a double-ended type and may be actuated with an  electromagnet, a permanent magnet or a combination of both. The magnetic switch is a wonderful tool for designers who would like to turn a circuit on and off based on proximity.
</p><p>Model:<a href="http://www.seeedstudio.com/depot/grove-magnetic-switch-p-744.html?cPath=156_160">COM11335P</a>
</p><p><img src="img/Magnetic_Switch.jpg" width="400"/>
</p>
<h2>  Features  </h2>
<ul><li>Grove compatible interface 
</li><li>2.0cm x 2.0cm Grove module 
</li><li>Minimum external parts 
</li><li>10W rating 
</li><li>Rugged encapsulation
</li></ul>
<h2>  Application Ideas  </h2>
<ul><li>Proximity Sensor
</li><li>Security Alarm Sensor
</li><li>Level Sensor
</li><li>Flow Sensor
</li><li>Pulse Counter<br/>
</li></ul>
<p><br/>
</p>
<h2>  Specification  </h2>
<table >
<tr>
<td width="300"> <b>Items</b>
</td>
<td width="100"> <b>Min</b>
</td>
<td width="100"> <b>Norm</b>
</td>
<td width="100"> <b>Max</b>
</td>
<td width="100"> <b>Unit</b>
</td></tr>
<tr>
<td> Working Voltage
</td>
<td> 4.75
</td>
<td> 5.0
</td>
<td> 5.25
</td>
<td> V
</td></tr>
<tr>
<td> Switched Power
</td>
<td colspan="3"> 10
</td>
<td> W
</td></tr>
<tr>
<td> Switched Voltage AC,RMS value(max)
</td>
<td colspan="3"> &lt; 140
</td>
<td> V
</td></tr>
<tr>
<td> Switched Current DC
</td>
<td colspan="3"> &lt; 500
</td>
<td> mA
</td></tr>
<tr>
<td> Carry Current DC
</td>
<td colspan="3"> &lt; 0.5
</td>
<td> A
</td></tr>
<tr>
<td> Contact Resistance
</td>
<td colspan="3"> &lt;200
</td>
<td> mΩ
</td></tr>
<tr>
<td> Insulation Resistance
</td>
<td colspan="3"> &gt;10<sup>6</sup>
</td>
<td> MΩ
</td></tr>
<tr>
<td> Operating Temperature
</td>
<td> -40
</td>
<td> -
</td>
<td> 125
</td>
<td> ℃
</td></tr>
<tr>
<td> Operate Range
</td>
<td> 10
</td>
<td> -
</td>
<td> 40
</td>
<td> AT
</td></tr></table>
<h2>  Usage  </h2>
<h3> With <a href="/w/index.php?title=Arduino&amp;action=edit&amp;redlink=1" title="Arduino (page does not exist)">Arduino</a></h3>
<p>The SIG pin of the module output LOW normally. When a magnet approaches the switch, the magnetic switch close and the SIG pin output HIGH.
</p><p>The following sketch demonstrates a simple application of using the Magnetic switch to control the led. When you put a magnet that has enough magnetic power close to the module, the switch is closed .Then the SIG pin out put a high voltage. You can use this to control the led.
</p><p>As the picture on the below indicates, the Magnetic switch is connected to digital port 9 of the <a href="/Grove-Base_Shield">Grove - Basic Shield</a> and the LED is connected to digital port 13. When there is Magnetic approaches the switch, the SIG pin output a High voltage. Then the LED light. The hardware installation is as follows: 
</p><p><img src="img/Grove-Magnetic_Switch.jpg" width="700"/>
</p>
<ul><li>Copy and paste code below to a new Arduino sketch.
</li></ul>
<pre>
/*******************************************************************************/

/*macro definitions of magnetic pin and LED pin*/
#define MAGNECTIC_SWITCH 9
#define LED	13//the on board LED of the Arduino or Seeeduino

void setup()
{
 	pinsInit();
}
 
void loop() 
{
	if(isNearMagnet())//if the magnetic switch is near the magnet?
	{
		turnOnLED();
	}
	else
	{
		turnOffLED();
	}
}
void pinsInit()
{
	pinMode(MAGNECTIC_SWITCH, INPUT);
	pinMode(LED,OUTPUT);
}

/*If the magnetic switch is near the magnet, it will return ture, */
/*otherwise it will return false								*/
boolean isNearMagnet()
{
	int sensorValue = digitalRead(MAGNECTIC_SWITCH);
	if(sensorValue == HIGH)//if the sensor value is HIGH?
	{
		return true;//yes,return ture
	}
	else
	{
		return false;//no,return false
	}
}
void turnOnLED()
{
	digitalWrite(LED,HIGH);
}
void turnOffLED()
{
	digitalWrite(LED,LOW);
}

</pre>
<ul><li>Upload the code, Please click <a href="/Upload_Code">here</a> if you do not know how to upload.
</li><li>Then the LED light when there is Magnetic approaches the switch. Have a try!
</li></ul>
<h3>  With <a href="/GrovePiPlus" title="GrovePi+">Raspberry Pi</a> </h3>
<p>1.You should have got a raspberry pi and a grovepi or grovepi+.
</p><p>2.You should have completed configuring the development enviroment, otherwise follow <a href="/GrovePiPlus#Introducing_the_GrovePi.2B">here</a>.
</p><p>3.Connection
</p>
<ul><li> Plug the Magnet Switch to grovepi socket D3 by using a grove cable.
</li></ul>
<p>4.Navigate to the demos' directory:
</p>
<pre>   cd yourpath/GrovePi/Software/Python/
</pre>
<ul><li> To see the code (this demo has the same usage with tilt switch)
</li></ul>
<pre>   nano grovepi_tilt_switch.py   # "Ctrl+x" to exit #
</pre>
<pre>
import time
import grovepi

# Connect the Grove Tilt Switch to digital port D3
# SIG,NC,VCC,GND
tilt_switch = 3

grovepi.pinMode(tilt_switch,"INPUT")

while True:
    try:
        print grovepi.digitalRead(tilt_switch)
        time.sleep(.5)

    except IOError:
        print "Error"
</pre>
<p>5.Run the demo.
</p>
<pre>   sudo python grove_tilt_switch.py
</pre>
<p>6.Result
</p><p>Put a magnet upon the sensor, the SIG pin will output HIGH.
<img src="img/Grovepi_tilt_Switch_00.png" width="600"/>
</p>
<h2>  Version Tracker  </h2>
<table>
<tr>
<th> Revision
</th>
<th> Descriptions
</th>
<th> Release
</th></tr>
<tr>
<td width="300"> Grove - Magnetic Switch v1.0
</td>
<td width="500"> Initial public release designed for Grove module
</td>
<td width="200"> Jan 12, 2011
</td></tr></table>
<h2>  Resources  </h2>
<ul><li><a href="http://garden.seeedstudio.com/images/d/dd/Magnetic_Switch.zip">Grove-Magnetic Switch v1.9 Eagle File</a>
</li><li><a href="http://garden.seeedstudio.com/images/2/29/CT10.pdf">CT10 datasheet</a>
</li><li><a href="res/Grove-Magnetic_Switch_v1.3_Eagle_File.zip">Grove-Magnetic Switch v1.3 Eagle File</a>
</li><li><a href="res/Grove-Magnetic_Switch_v1.3_PDF_File.pdf">Grove-Magnetic Switch v1.3 PDF File</a>
</li><li>
</li></ul>
<h2>  Support  </h2>
<p>If you have questions or other better design ideas, you can go to our <a href="http://www.seeedstudio.com/forum">forum</a> or <a href="http://wish.seeedstudio.com">wish</a> to discuss.
</p>
Copyright (c) 2008-2016 Seeed Development Limited (<a href="http://www.seeedstudio.com">www.seeedstudio.com</a> / <a href="http://www.seeed.cc">www.seeed.cc</a>)<h6>This static html page was created from http://www.seeedstudio.com/wiki</h6></div></body></html>