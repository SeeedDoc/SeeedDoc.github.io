<html><head><meta name="viewport" content="width=device-width, initial-scale=1"><link href=//fonts.googleapis.com/css?family=Raleway:400,300,600 rel=stylesheet type=text/css><link rel="stylesheet" type="text/css" href="../common/css/normalize.css"><link rel="stylesheet" type="text/css" href="../common/css/skeleton.css"><link rel="stylesheet" type="text/css" href="../common/css/wiki.css"><script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script><title>Grove - I2C Motor Driver V1.3</title><meta charset="utf-8"/></head><body><div class"container"><a href="../"><img src="../common/logo.png"/></a></div><div class="mw-content-ltr container" dir="ltr" id="mw-content-text" lang="en"><h1>Grove - I2C Motor Driver V1.3</h1>

<p>The Grove - I2C Motor Driver V1.3 (latest version) can directly control Stepper Motor or DC Motor. Its heart is a dual channel H-bridge driver chip（L298N）that can handle current up to 2A per channel, controlled by an Atmel ATmega8L which handles the I2C communication with for example an Arduino. Both motors can be driven simultaneously while set to a different speed and direction. It can power two brushed DC motors or one 4-wire two-phase stepper motor. It requires a 6V to 15V power supply to power the motor and has an onboard 5V voltage regulator which can power the I2C bus and the Arduino(selectable by jumper). All driver lines are protected by diodes from back-EMF.
</p><p>Contrast to the <a href="/Grove-I2C_Motor_Driver_V1.2">Grove - I2C motor driver V1.2</a>, the V1.3 enables users to control the stepper more easily. You do not need to control the steppers all the time anymore, simply send a command to I2C motor driver V1.3 to drive a stepper, and it will act as your command, which would save your Arduino resource and simplify your code.
</p><p><br/>
<b>Model: <a href="http://www.seeedstudio.com/depot/twig-i2c-motor-driver-p-907.html">ROB72212P</a></b>
</p><p><img src="img/I2CMotorDriver-2.jpg" width="500"/>
</p>
<h2>  Features </h2>
<ul><li>Grove Compatible
</li><li>I2C Interface
</li><li>Adjustable motor speed and rotation direction
</li><li>Changeable slave address by hardware
</li></ul>
<h2>  Specifications </h2>
<table  cellspacing="0" width="80%">
<tr>
<th scope="col"> Item
</th>
<th scope="col"> Min
</th>
<th scope="col"> Typical
</th>
<th scope="col"> Max
</th>
<th scope="col"> Unit
</th></tr>
<tr>
<th scope="row"> Working Voltage
</th>
<td> 6
</td>
<td> -
</td>
<td> 15
</td>
<td> VDC
</td></tr>
<tr>
<th scope="row"> Max Output Current per channel
</th>
<td colspan="3"> 0.5
</td>
<td> A
</td></tr>
<tr>
<th scope="row"> Maximum Total current
</th>
<td colspan="3"> 1.0
</td>
<td> A
</td></tr>
<tr>
<th scope="row"> Input/output voltage on I2C bus
</th>
<td colspan="3"> 5
</td>
<td> V
</td></tr>
<tr>
<th scope="row"> Communication protocol
</th>
<td colspan="3"> I2C
</td>
<td> /
</td></tr></table>
<h2>  Interface Function </h2>
<p><img src="img/I2CMotorDriver-1.jpg" width="800"/><br/> <b>78M05 IC:</b> 5v voltage regulator<br/> <b>L298 IC:</b> dual full bridge driver<br/> <b>Atmega8 IC:</b> Control Motor Rotate. <br/> <b>NOTE:</b> Input voltage on screw terminals is regulated to 5v and connected to I2C +5v via a jumper (J4). Remove jumper if both external power via the screw terminals and power via the I2C header are used. Use jumper if 5v should be supplied to the I2C bus.
</p>
<h2>  Application Ideas </h2>
<ul><li>Robots
</li><li>Homebuilt RC cars
</li><li>Case fans
</li><li>High power LED illumination
</li></ul>
<p><br/>
</p>
<h2> Cautions </h2>
<ul><li>The board will be very hot while operating over 1Amps. Do keep off your hands!
</li></ul>
<h2>  Usage </h2>
<p>The I2C Motor Driver can control motor which is based on the chip L298. The L298 isn’t just a dual motor driver, it is a dual H-bridge. An h-bridge is basically a specific setup of transistors that allow you to switch direction of current. Hooking up to a motor means you can have it spin in both directions; and with PWM input, you can use your Arduino to make them spin at any speed. Because the L298 has 2 H-bridges, you can make a robot turn around by spinning each wheel in different directions, and of course go forwards and backwards.<br/>
</p><p>Now, let's use the I2C Motor Driver to control two DC motors or a stepper rotating clockwise and anticlockwise.
</p>
<h3> Set the address of the I2C Motor Driver</h3>
<ul><li>Set the address by dial switch is a new function added to the new I2C Motor Driver.
</li></ul>
<p><img src="img/I2CMotorDriver-9.jpg" width="400"/><br/>
</p>
<ul><li>Then keep the address setup in the program the same as the address setup on the I2C motor driver. The default address setup in the program is 0x0f.
</li></ul>
<pre>#define I2CMotorDriverAdd         0x0f   // Set the address of the I2CMotorDriver
</pre>
<h3> How to drive 2 DC motors  </h3>
<p><img src="img/I2CMotorDriver-4.jpg" width="400"/><br/>
<span style="color:red"><b>Note:</b> <br/>
</span></p>
<dl><dd>The first thing to notice however, is that you need an external power source for your DC motors. The 5v pin on the Arduino cannot provide enough power to drive 2 motors, you may damage your Arduino if you do so.<br/>
</dd></dl>
<p>And then program your Arduino as below:
</p>
<div class="mw-geshi mw-code mw-content-ltr container" dir="ltr"><div class="arduino source-arduino"><pre class="de1"><span class="co2">#include &lt;Wire.h&gt;</span>
     .......
     .......
    <span class="sy1">&lt;</span> Driver functions <span class="sy1">&gt;</span>
     .......
     .......
<span class="kw4">void</span> <span class="kw2">setup</span><span class="br0">(</span><span class="br0">)</span>  <span class="br0">{</span>
  <span class="kw2">Wire</span>.<span class="kw3">begin</span><span class="br0">(</span><span class="br0">)</span><span class="sy4">;</span> <span class="co1">// join i2c bus (address optional for master)</span>
  <span class="kw3">delayMicroseconds</span><span class="br0">(</span><span class="nu0">10000</span><span class="br0">)</span><span class="sy4">;</span> <span class="co1">//wait for motor driver to initialization</span>
<span class="br0">}</span>
 
<span class="kw4">void</span> <span class="kw2">loop</span><span class="br0">(</span><span class="br0">)</span>  <span class="br0">{</span>
  <span class="kw1">while</span><span class="br0">(</span><span class="nu0">1</span><span class="br0">)</span>  <span class="br0">{</span>
    MotorSpeedSetAB<span class="br0">(</span><span class="nu0">100</span>,<span class="nu0">20</span><span class="br0">)</span><span class="sy4">;</span>
    <span class="kw3">delay</span><span class="br0">(</span><span class="nu0">10</span><span class="br0">)</span><span class="sy4">;</span> <span class="co1">//this delay needed</span>
    MotorDirectionSet<span class="br0">(</span><span class="nu6">0b1010</span><span class="br0">)</span><span class="sy4">;</span>  <span class="co1">//0b1010  Rotating in the positive direction </span>
    <span class="kw3">delay</span><span class="br0">(</span><span class="nu0">1000</span><span class="br0">)</span><span class="sy4">;</span> 
    MotorDirectionSet<span class="br0">(</span><span class="nu6">0b0101</span><span class="br0">)</span><span class="sy4">;</span>  <span class="co1">//0b0101  Rotating in the opposite direction</span>
    <span class="kw3">delay</span><span class="br0">(</span><span class="nu0">500</span><span class="br0">)</span><span class="sy4">;</span>
  <span class="br0">}</span>
<span class="br0">}</span></pre></div></div>
<p>In this program, Arduino first set the speed of the 2 DC motors with the <i>MotorSpeedSetAB()</i>command, and then set the DC motors work directions with <i>MotorDirectionSet()</i> command. please refer to the <a href="/Grove-I2C_Motor_Driver_V1.2#Function_Reference">Function Reference</a> for details, you can download all the demo code in the <a href="/Grove-I2C_Motor_Driver_V1.2#Resources">Resource</a>.
</p>
<h3> How to driver a stepper using I2C motor driver V1.3</h3>
<p>As the upgraded version of <a href="/Grove-I2C_Motor_Driver_V1.2">I2C motor DriverV1.2</a>, You can drive stepper via 2 methods for I2C motor driver V1.3.<br/>
</p><p><b>1. Control the stepper directly by Arduino</b><br/>
The I2C motor Driver can also be used to drive a 4-wire stepper. Connect your stepper to the output pins of I2C motor driver, and then connect motor driver to your Arduino/Seeeduino with I2C bus. Program your Arduino as below:<br/>
</p>
<div class="mw-geshi mw-code mw-content-ltr container" dir="ltr"><div class="arduino source-arduino"><pre class="de1"><span class="co2">#include &lt;Wire.h&gt;</span>
     .......
     .......
    <span class="sy1">&lt;</span> Driver functions <span class="sy1">&gt;</span>
     .......
     .......
<span class="kw4">void</span> <span class="kw2">setup</span><span class="br0">(</span><span class="br0">)</span>  <span class="br0">{</span>
  <span class="kw2">Wire</span>.<span class="kw3">begin</span><span class="br0">(</span><span class="br0">)</span><span class="sy4">;</span> <span class="co1">// join i2c bus (address optional for master)</span>
  <span class="kw3">delayMicroseconds</span><span class="br0">(</span><span class="nu0">10000</span><span class="br0">)</span><span class="sy4">;</span> <span class="co1">//wait for motor driver to initialization</span>
<span class="br0">}</span>
 
<span class="kw4">void</span> <span class="kw2">loop</span><span class="br0">(</span><span class="br0">)</span>  <span class="br0">{</span>
 <span class="kw1">while</span><span class="br0">(</span><span class="nu0">1</span><span class="br0">)</span>  <span class="br0">{</span>
    MotorSpeedSetAB<span class="br0">(</span><span class="nu0">100</span>,<span class="nu0">100</span><span class="br0">)</span><span class="sy4">;</span><span class="co1">//when driving a stepper, the speed should be set to 100;</span>
    <span class="kw3">delay</span><span class="br0">(</span><span class="nu0">10</span><span class="br0">)</span><span class="sy4">;</span>
    MotorDirectionSet<span class="br0">(</span><span class="nu6">0b0001</span><span class="br0">)</span><span class="sy4">;</span>
    <span class="kw3">delay</span><span class="br0">(</span><span class="nu0">4</span><span class="br0">)</span><span class="sy4">;</span>
      MotorDirectionSet<span class="br0">(</span><span class="nu6">0b0011</span><span class="br0">)</span><span class="sy4">;</span>
    <span class="kw3">delay</span><span class="br0">(</span><span class="nu0">4</span><span class="br0">)</span><span class="sy4">;</span>  
    MotorDirectionSet<span class="br0">(</span><span class="nu6">0b0010</span><span class="br0">)</span><span class="sy4">;</span>
    <span class="kw3">delay</span><span class="br0">(</span><span class="nu0">4</span><span class="br0">)</span><span class="sy4">;</span>
      MotorDirectionSet<span class="br0">(</span><span class="nu6">0b0110</span><span class="br0">)</span><span class="sy4">;</span>
    <span class="kw3">delay</span><span class="br0">(</span><span class="nu0">4</span><span class="br0">)</span><span class="sy4">;</span>  
    MotorDirectionSet<span class="br0">(</span><span class="nu6">0b0100</span><span class="br0">)</span><span class="sy4">;</span>
    <span class="kw3">delay</span><span class="br0">(</span><span class="nu0">4</span><span class="br0">)</span><span class="sy4">;</span>  
    MotorDirectionSet<span class="br0">(</span><span class="nu6">0b1100</span><span class="br0">)</span><span class="sy4">;</span>
    <span class="kw3">delay</span><span class="br0">(</span><span class="nu0">4</span><span class="br0">)</span><span class="sy4">;</span>
      MotorDirectionSet<span class="br0">(</span><span class="nu6">0b1000</span><span class="br0">)</span><span class="sy4">;</span>
    <span class="kw3">delay</span><span class="br0">(</span><span class="nu0">4</span><span class="br0">)</span><span class="sy4">;</span>
      MotorDirectionSet<span class="br0">(</span><span class="nu6">0b1001</span><span class="br0">)</span><span class="sy4">;</span>
    <span class="kw3">delay</span><span class="br0">(</span><span class="nu0">4</span><span class="br0">)</span><span class="sy4">;</span>
  <span class="br0">}</span>
<span class="br0">}</span></pre></div></div>
<p>This connected 4-wire stepper will rotate; you can adjust the rotation speed or step number in your Arduino program. You can also use some other stepper libraries to control it. For all the demo code please refer to <a href="/Grove-I2C_Motor_Driver_V1.2#Resources">Resource</a>.<br/>
<img src="img/2.gif" width="192"/>
</p><p><b>2.Control the Stepper using the I2C motor Driver V1.3 on-chip Atmega8L.<br/></b>
Take <a href="http://www.seeedstudio.com/depot/high-quality-stepper-motor-12v-p-335.html?cPath=170_171">24BYJ48</a> as an example, The hardware installation as show below:<br/>
<img src="img/I2C_Motor_Driver_control_a_Stepper_Motor.jpg" width="500"/><br/>
<span style="color:red"><b>Note:</b> </span><br/>
The connection between 24BYJ48 Stepper Motor and I2C Motor Driver is shown as blow:    
<br/>
<img src="img/I2C_Motor_Driver_Connector.jpg" width="400"/><br/>
Download the <a href="/Grove-I2C_Motor_Driver_V1.3#Resources">Grove-I2C motor driver V1.3 demo code</a>, and open the <i>StepperControlMode2.ino</i>:<br/>
</p>
<div class="mw-geshi mw-code mw-content-ltr container" dir="ltr"><div class="arduino source-arduino"><pre class="de1"><span class="co2">#include &lt;Wire.h&gt;</span>
<span class="co2">#define MotorSpeedSet             0x82</span>
<span class="co2">#define PWMFrequenceSet           0x84</span>
<span class="co2">#define DirectionSet              0xaa</span>
<span class="co2">#define MotorSetA                 0xa1</span>
<span class="co2">#define MotorSetB                 0xa5</span>
<span class="co2">#define Nothing                   0x01</span>
<span class="co2">#define EnableStepper             0x1a</span>
<span class="co2">#define UnenableStepper           0x1b</span>
<span class="co2">#define Stepernu                  0x1c</span>
<span class="co2">#define I2CMotorDriverAdd         0x0f   // Set the address of the I2CMotorDriver</span>
<span class="co1">// set the steps you want, if 255, the stepper will rotate continuously;</span>
<span class="kw4">void</span> SteperStepset<span class="br0">(</span><span class="kw4">unsigned</span> <span class="kw4">char</span> stepnu<span class="br0">)</span>
<span class="br0">{</span>
  <span class="kw2">Wire</span>.<span class="kw3">beginTransmission</span><span class="br0">(</span>I2CMotorDriverAdd<span class="br0">)</span><span class="sy4">;</span> <span class="co1">// transmit to device I2CMotorDriverAdd</span>
  <span class="kw2">Wire</span>.<span class="kw3">write</span><span class="br0">(</span>Stepernu<span class="br0">)</span><span class="sy4">;</span>          <span class="co1">// Send the stepernu command </span>
  <span class="kw2">Wire</span>.<span class="kw3">write</span><span class="br0">(</span>stepnu<span class="br0">)</span><span class="sy4">;</span>            <span class="co1">// send the steps</span>
  <span class="kw2">Wire</span>.<span class="kw3">write</span><span class="br0">(</span>Nothing<span class="br0">)</span><span class="sy4">;</span>           <span class="co1">// send nothing   </span>
  <span class="kw2">Wire</span>.<span class="kw3">endTransmission</span><span class="br0">(</span><span class="br0">)</span><span class="sy4">;</span>        <span class="co1">// stop transmitting </span>
<span class="br0">}</span>
     .......
     .......
     .......
     .......
<span class="kw4">void</span> stepperrun<span class="br0">(</span><span class="br0">)</span>
<span class="br0">{</span>
 <span class="kw2">Serial</span>.<span class="kw3">println</span><span class="br0">(</span><span class="st0">"sent command to + direction, very fast"</span><span class="br0">)</span><span class="sy4">;</span>
 SteperStepset<span class="br0">(</span><span class="nu0">255</span><span class="br0">)</span><span class="sy4">;</span>
 StepperMotorEnable<span class="br0">(</span><span class="nu0">1</span>, <span class="nu0">1</span><span class="br0">)</span><span class="sy4">;</span><span class="co1">// ennable the i2c motor driver a stepper. </span>
  <span class="kw3">delay</span><span class="br0">(</span><span class="nu0">5000</span><span class="br0">)</span><span class="sy4">;</span>
  <span class="kw2">Serial</span>.<span class="kw3">println</span><span class="br0">(</span><span class="st0">"sent command to - direction, slow"</span><span class="br0">)</span><span class="sy4">;</span>
  SteperStepset<span class="br0">(</span><span class="nu0">255</span><span class="br0">)</span><span class="sy4">;</span>
  StepperMotorEnable<span class="br0">(</span><span class="nu0">0</span>, <span class="nu0">20</span><span class="br0">)</span><span class="sy4">;</span>
  <span class="kw3">delay</span><span class="br0">(</span><span class="nu0">5000</span><span class="br0">)</span><span class="sy4">;</span>
   <span class="kw2">Serial</span>.<span class="kw3">println</span><span class="br0">(</span><span class="st0">"sent command to - direction, fast"</span><span class="br0">)</span><span class="sy4">;</span>
  StepperMotorEnable<span class="br0">(</span><span class="nu0">0</span>, <span class="nu0">2</span><span class="br0">)</span><span class="sy4">;</span><span class="co1">// ennable the i2c motor driver a stepper. </span>
  <span class="kw3">delay</span><span class="br0">(</span><span class="nu0">5000</span><span class="br0">)</span><span class="sy4">;</span>
 <span class="kw2">Serial</span>.<span class="kw3">println</span><span class="br0">(</span><span class="st0">"sent command to + direction,100 steps, fast"</span><span class="br0">)</span><span class="sy4">;</span>
 SteperStepset<span class="br0">(</span><span class="nu0">100</span><span class="br0">)</span><span class="sy4">;</span>
  StepperMotorEnable<span class="br0">(</span><span class="nu0">1</span>,<span class="nu0">5</span><span class="br0">)</span><span class="sy4">;</span>
 <span class="kw3">delay</span><span class="br0">(</span><span class="nu0">3000</span><span class="br0">)</span><span class="sy4">;</span>
 
 <span class="kw2">Serial</span>.<span class="kw3">println</span><span class="br0">(</span><span class="st0">"sent command to shut down the stepper"</span><span class="br0">)</span><span class="sy4">;</span>
 StepperMotorUnenable<span class="br0">(</span><span class="br0">)</span><span class="sy4">;</span>
 <span class="kw3">delay</span><span class="br0">(</span><span class="nu0">1000</span><span class="br0">)</span><span class="sy4">;</span>
 
  <span class="kw2">Serial</span>.<span class="kw3">println</span><span class="br0">(</span><span class="st0">"sent command to - direction, slow, and 10 steps then stop"</span><span class="br0">)</span><span class="sy4">;</span>
 SteperStepset<span class="br0">(</span><span class="nu0">10</span><span class="br0">)</span><span class="sy4">;</span>
 StepperMotorEnable<span class="br0">(</span><span class="nu0">0</span>,<span class="nu0">40</span><span class="br0">)</span><span class="sy4">;</span>
 <span class="kw3">delay</span><span class="br0">(</span><span class="nu0">5000</span><span class="br0">)</span><span class="sy4">;</span>
 <span class="kw2">Serial</span>.<span class="kw3">println</span><span class="br0">(</span><span class="st0">"sent command to shut down the stepper"</span><span class="br0">)</span><span class="sy4">;</span>
 StepperMotorUnenable<span class="br0">(</span><span class="br0">)</span><span class="sy4">;</span>
 <span class="kw3">delay</span><span class="br0">(</span><span class="nu0">5000</span><span class="br0">)</span><span class="sy4">;</span>
<span class="br0">}</span>
<span class="kw4">void</span> <span class="kw2">setup</span><span class="br0">(</span><span class="br0">)</span>  <span class="br0">{</span>
  <span class="kw2">Wire</span>.<span class="kw3">begin</span><span class="br0">(</span><span class="br0">)</span><span class="sy4">;</span> <span class="co1">// join i2c bus (address optional for master)</span>
  <span class="kw3">delayMicroseconds</span><span class="br0">(</span><span class="nu0">10000</span><span class="br0">)</span><span class="sy4">;</span>
  <span class="kw2">Serial</span>.<span class="kw3">begin</span><span class="br0">(</span><span class="nu0">9600</span><span class="br0">)</span><span class="sy4">;</span>
  <span class="kw2">Serial</span>.<span class="kw3">println</span><span class="br0">(</span><span class="st0">"setup begin"</span><span class="br0">)</span><span class="sy4">;</span>
  stepperrun<span class="br0">(</span><span class="br0">)</span><span class="sy4">;</span>
<span class="br0">}</span>
<span class="kw4">void</span> <span class="kw2">loop</span><span class="br0">(</span><span class="br0">)</span>  <span class="br0">{</span>
 
<span class="br0">}</span></pre></div></div>
<p>In this demo code, Arduino sends stepper-control command to I2C motor driver via I2C bus, with SteperStepset() to set the step number, and StepperMotorEnable() to set the direction and speed. Please refer to the <a href="/Grove-I2C_Motor_Driver_V1.3#Function_Reference">Function Refrence</a> for the details.
<br/>Note that if you have I2C motor driver V1.2 and want to use the off-line Stepper control methods, you will need to upgrade your firmware in your V1.2 motor driver with a <a href="http://www.seeedstudio.com/depot/atmel-avrisp-stk500-usb-isp-programmer-p-207.html?cPath=132_135">AVRISP and upload the .hex file to your I2C motor driver. Please download the .hex file and source code and related tips in the [http://www.seeedstudio.com/wiki/Grove_-_I2C_Motor_Driver_V1.3#Resources Resource </a>
</p>
<h2> Function Reference  </h2>
<p><b>1. void SteperStepset(unsigned char stepnu)</b><br/>
</p><p><i>Description: Set the steps you want.</i>
</p><p><i>stepnu: the Parameter can be 1~255. if 255, the stepper will rotate continuously;</i>
</p><p>Usage: 
</p>
<pre>
Serial.println("sent command to + direction,100 steps, fast");
SteperStepset(100);
</pre>
<p><b>2. void StepperMotorEnable(unsigned char Direction, unsigned char motorspeed)</b><br/>
</p><p><i>Description: Enable the IIC motor driver to drive a 4-wire stepper.</i>
</p><p><i>Direction: Stepper direction 1/0</i>
</p><p><i>motorspeed: defines the time interval the i2C motor driver, Change it output to drive the stepper. The actual interval time is : motorspeed * 4ms. That is , When motor speed is 10, the interval time would be 40 ms.</i><br/>
</p><p>Usage: 
</p>
<pre>StepperMotorEnable(1, 1);// enable the i2c motor driver a stepper.</pre>
<p><b>3. void StepperMotorUnenable()</b><br/>
</p><p><i>Description: Uneanble IIC motor drive to drive the stepper.</i><br/>Usage: 
</p>
<pre>StepperMotorUnenable();</pre>
<p><b>4. void MotorSpeedSetAB(unsigned char MotorSpeedA , unsigned char MotorSpeedB) </b><br/> <i>Description: defines the speed of motor 1 and motor 2</i>
</p>
<dl><dd><i>MotorSpeedA: the DC motor A speed, should be 0~100;</i>
</dd><dd><i>MotorSpeedB: the DC motor B speed, should be 0~100;</i>
</dd></dl>
<p>Usage: 
</p>
<pre> 
Serial.println("sent DC speed 100");
MotorSpeedSetAB(100,100);//defines the speed of motor 1 and motor 2;
delay(10); //this delay needed 
</pre>
<p><b>5. void MotorPWMFrequenceSet(unsigned char Frequence)</b><br/>
</p><p><i>Description:set the prescale frequency of PWM, 0x03 default<br/></i>
</p><p><i>Frequence: the prescale frequency of PWM </i>
</p><p><b>6. void MotorDirectionSet(unsigned char Direction)</b><br/>
</p><p><i>Description: Adjust the direction of the motors<br/>  Direction:can be Forward/Reverse rotating.</i> <br/>Usage: 
</p>
<pre>
MotorDirectionSet(0b1010);  //"0b1010" defines the output polarity, "10" means the M+ is "positive" while the M- is "negative"
                         // make sure M+ and M- is different polarity when driving DC motors.
delay(1000); 
MotorDirectionSet(0b0101);  //0b0101  Rotating in the opposite direction
delay(500);
</pre>
<p><b>7. void MotorDriectionAndSpeedSet(unsigned char Direction,unsigned char MotorSpeedA,unsigned char MotorSpeedB)</b><br/>
</p><p><i>Description: Adjust the direction and speed altogether.</i>
</p>
<h2>  Version Tracker  </h2>
<table width="494">
<tr>
<th> Revision
</th>
<th> Descriptions
</th>
<th> Release
</th></tr>
<tr>
<td> v1.0
</td>
<td> Initial public release
</td>
<td> May 17th, 2012
</td></tr>
<tr>
<td> v1.2
</td>
<td> modify the I2C address set by hardware
</td>
<td> July 2nd, 2012
</td></tr>
<tr>
<td> v1.3
</td>
<td>  modify the firmware to support off-line Stepper
</td>
<td> Feb 18th, 2013
</td></tr></table>
<h2>  Resources  </h2>
<ul><li><a href="res/Grove-I2C_Motor_Driver_v1.3_Eagle_File.zip">Grove - I2C Motor Driver V1.3 Eagle File</a>
</li><li><a href="res/I2CMotorDriverDemoCodeV13.zip">I2C Motor DriverV13 Demo Code</a>
</li><li><a href="res/L298datasheet.pdf">L298 Datasheet </a>
</li><li><a href="res/ST_78M05DataSheet.pdf">78M05 Datssheet </a>
</li><li><a href="res/On-Chipfirmware_for_Motor_driver.zip">On-Chip Firmware for I2C motor driver</a>
</li><li>
</li></ul>
<h2>  Support  </h2>
<p>If you have questions or other better design ideas, you can go to our <a href="http://www.seeedstudio.com/forum">forum</a> or <a href="http://wish.seeedstudio.com">wish</a> to discuss.
</p>
Copyright (c) 2008-2016 Seeed Development Limited (<a href="http://www.seeedstudio.com">www.seeedstudio.com</a> / <a href="http://www.seeed.cc">www.seeed.cc</a>)<h6>This static html page was created from http://www.seeedstudio.com/wiki</h6></div></body></html>