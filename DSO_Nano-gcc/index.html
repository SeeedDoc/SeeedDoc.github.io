<html><head><meta name="viewport" content="width=device-width, initial-scale=1"><link href=//fonts.googleapis.com/css?family=Raleway:400,300,600 rel=stylesheet type=text/css><link rel="stylesheet" type="text/css" href="../common/css/normalize.css"><link rel="stylesheet" type="text/css" href="../common/css/skeleton.css"><link rel="stylesheet" type="text/css" href="../common/css/wiki.css"><script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script><title>DSO Nano/gcc</title><meta charset="utf-8"/></head><body><div class"container"><a href="../index.html"><img src="../common/logo.png"/></a></div><div class="mw-content-ltr container" dir="ltr" id="mw-content-text" lang="en"><h1>DSO Nano/gcc</h1>
<h1>  How to build the DSO Nano firmware using gcc </h1>

<p>The <a href="/DSO_Nano" title="DSO Nano">DSO Nano</a> firmware can be build with a gcc toolchain. The gcc-specific files reside in the project/gcc folder of the firmware source code tree.
</p>
<h2>  Get a ARM cross-building gcc toolchain </h2>
<p>The ARM toolchain most of us use is the GCC from ARM at &lt;<a href="https://launchpad.net/gcc-arm-embedded">https://launchpad.net/gcc-arm-embedded</a>&gt;.
</p><p>For Linux, you can choose the tarball or the installer. The latter is a much larger download than the former, for some reason. In any case make sure you have the toolchain's "bin" directory in your path. For example, if you extracted the tarball to /opt, type this in your shell, or add it to your .bashrc or .pam_environment:
</p>
<pre>PATH=/opt/gcc-arm-none-eabi-4_6-2012q2/bin:$PATH
</pre>
<p>Once you have the toolchain set up correctly, simply typing:
</p>
<pre>arm-none-eabi-gcc -v
</pre>
<p>should list the compiler version and the options it was built with. If you instead get an error, please fix your toolchain installation before continuing.
</p><p>If you can not find a pre-built ARM toolchain for your platform, or otherwise want to build the toolchain yourself, you can download the source or check out <a href="https://open-bldc.org/wiki/Building_ARM_Toolchain">https://open-bldc.org/wiki/Building_ARM_Toolchain</a>
</p>
<h2>  Get and build the firmware source code </h2>
<p>For now, get the code from Tormod's gitorious tree:
</p>
<pre>git clone <a href="git://gitorious.org/dsonano/dso-firmware.git">git://gitorious.org/dsonano/dso-firmware.git</a>
cd dso-firmware
</pre>
<p>If you later want to update your tree to latest git:
</p>
<pre>git pull
</pre>
<h3>  Compile the application part </h3>
<pre>cd DS0201_APP/project/gcc
make
</pre>
<h3>  Compile the library part </h3>
<pre>cd ../../../DS0201_LIB/project/gcc
make clean
make
</pre>
<h2>  Testing </h2>
<p>Use <a href="/Dfu-util" title="Dfu-util">Dfu-util</a> to download the dso-lib.bin and dso-app.bin files to your Nano V1 or V2. For the Nano V3 model, copy the dso-lib.hex and dso-app.hex one at a time to the DFU virtual USB drive.
</p>
Copyright (c) 2008-2016 Seeed Development Limited (<a href="http://www.seeedstudio.com">www.seeedstudio.com</a> / <a href="http://www.seeed.cc">www.seeed.cc</a>)<h6>This static html page was created from http://www.seeedstudio.com/wiki</h6></div></body></html>