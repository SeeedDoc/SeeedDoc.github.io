<html><head><meta name="viewport" content="width=device-width, initial-scale=1"><link href=//fonts.googleapis.com/css?family=Raleway:400,300,600 rel=stylesheet type=text/css><link rel="stylesheet" type="text/css" href="../common/css/normalize.css"><link rel="stylesheet" type="text/css" href="../common/css/skeleton.css"><link rel="stylesheet" type="text/css" href="../common/css/wiki.css"><script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script><title>Grove - Multichannel Gas Sensor</title><meta charset="utf-8"/></head><body><div class"container"><a href="../index.html"><img src="../common/logo.png"/></a></div><div class="mw-content-ltr container" dir="ltr" id="mw-content-text" lang="en"><h1>Grove - Multichannel Gas Sensor</h1><center> <img src="img/Multi_sensor1.png" width="500"/> <img src="img/Multi_sensor2.png" width="500"/> </center>
<h2>  What is it? </h2>
<p>Grove – Multichannel Gas sensor is a environment detecting sensor with a built in MiCS-6814 which can detect many unhealthful gases, and three gases can be measured simultaneously due to its multi channels, so it can help you to monitor the concentration which more than one gas.
<br/><br/>
This sensor is belong to <a href="/Grove_System">Grove system</a>, and you can plug it onto the <a href="/Base_shield_v2">Base shield</a> and work with Arduino directly without any jumper wires. The interface of it is I2C, so plug it onto the I2C port of Base shield, then you can start to work it.
</p><p><span style="color: red">Note that The sensor value only reflects the approximated trend of gas concentration in a permissible error range, it DOES NOT represent the exact gas concentration. The detection of certain components in the air usually requires a more precise and costly instrument, which cannot be done with a single gas sensor. If your project is aimed at obtaining the gas concentration at a very precise level, then we do not recommend this gas sensor.</span>
</p>
<h2>  Before usage </h2>
<h3>  Related Reading </h3>
<p>We suggest you to read those knowledge before using the Gas sensor, it'll help you to learn more about Arduino and our products, and also it'll let you to use open souse hardware more easier.
</p>
<ul><li> <a href="/Getting_Started_with_Seeeduino">Getting Started with Arduino</a>
</li><li> <a href="/Grove_System">What is Grove system</a>
</li><li> <a href="/Base_shield_v2">Why i need a Base shield?</a>
</li></ul>
<p>After reading that you will know how to use Base shield with Grove products to work well with Arduino. Let's start it !
</p>
<h3>  To be prepared </h3>
<p>This tutorial will include some necessary products: 
</p>
<ul><li> <a href="http://www.seeedstudio.com/depot/Arduino-Uno-Rev3-p-694.html">Arduino UNO R3</a> or <a href="http://www.seeedstudio.com/depot/Seeeduino-V4-p-669.html">Seeeduino v4</a>
</li><li> <a href="http://www.seeedstudio.com/depot/Base-Shield-V2-p-1378.html">Base Shield</a>
</li><li> Grove - Multichannel Gas Sensor
</li></ul>
<p><br/>
</p>
<h3>  Hardware Overview </h3>
<center><img src="img/Multi_sensor1.png" width="700"/></center>
<p><br/>
</p>
<center> Four pins are pointed out and following is the figure <br/>
<table border="1">
<tr>
<th> Pin Label
</th>
<th> Description
</th></tr>
<tr>
<td width="150px"> GND
</td>
<td width="250px"> Connect to ground
</td></tr>
<tr>
<td> VCC
</td>
<td> Power supply: 3.3v - 5v
</td></tr>
<tr>
<td> SDA
</td>
<td> I2C data
</td></tr>
<tr>
<td> SCL
</td>
<td> I2C clock
</td></tr></table>
</center>
<p>The power supply is between 3.3v and 5v, so this sensor can be compatible with a micro-controller whose output voltage is 3.3v.
</p>
<h2> Feature</h2>
<ul><li> Three fully independent sensing elements on one package
</li><li> Built with ATmega168PA
</li><li> I2C interface with programmable address
</li><li> Heating power can be shut down for low power
</li><li> Detectable gases
<ul><li> Carbon monoxide    CO        1 – 1000ppm
</li><li> Nitrogen dioxide   NO2       0.05 – 10ppm
</li><li> Ethanol            C2H6OH    10 – 500ppm
</li><li> Hydrogen           H2        1 – 1000ppm
</li><li> Ammonia            NH3       1 – 500ppm
</li><li> Methane            CH4       &gt;1000ppm
</li><li> Propane            C3H8      &gt;1000ppm
</li><li> Iso-butane         C4H10     &gt;1000ppm
</li></ul>
</li></ul>
<h2>  Block Diagram </h2>
<p><img src="img/Grove-Multichannel_Gas_Sensor_block_diagram.jpg" width="600"/><br/><br/>
</p>
<h2>  Electrical Characteristics </h2>
<table>
<tr>
<th> Item </th>
<th> Condition </th>
<th> Min. </th>
<th> Typ. </th>
<th> Max. </th>
<th> Unit
</th></tr>
<tr>
<td> Voltage </td>
<td> - </td>
<td> 3.1 </td>
<td> 3.3 </td>
<td> 5.25 </td>
<td> V
</td></tr>
<tr>
<td> Ripple </td>
<td> @Max Power </td>
<td> - </td>
<td> 80 </td>
<td> 100 </td>
<td> mV
</td></tr>
<tr>
<td> Heating Power </td>
<td> - </td>
<td> - </td>
<td> - </td>
<td> 88 </td>
<td> mW
</td></tr>
<tr>
<td> Max Power </td>
<td> - </td>
<td> - </td>
<td> - </td>
<td> 150 </td>
<td> mW
</td></tr>
<tr>
<td> ADC Precision </td>
<td> - </td>
<td> - </td>
<td> 10 </td>
<td> - </td>
<td> Bits
</td></tr>
<tr>
<td> I2C Rate </td>
<td> - </td>
<td> - </td>
<td> 100 </td>
<td> 400 </td>
<td> kHz
</td></tr>
<tr>
<td> VIL </td>
<td> @I2C </td>
<td> -0.5 </td>
<td> - </td>
<td> 0.99 </td>
<td> V
</td></tr>
<tr>
<td> VIH </td>
<td> @I2C </td>
<td> 2.31 </td>
<td> - </td>
<td> 5.25 </td>
<td> V
</td></tr></table>
<h3>  Performance RED sensor </h3>
<table>
<tr>
<th> Characteristic RED sensor </th>
<th> Symbol </th>
<th> Typ </th>
<th> Min </th>
<th> Max </th>
<th> Unit
</th></tr>
<tr>
<td> Sensing resistance in air </td>
<td> R0 </td>
<td> - </td>
<td> 100 </td>
<td> 1500 </td>
<td> kΩ
</td></tr>
<tr>
<td> Typical CO detection range </td>
<td> FS </td>
<td> - </td>
<td> 1 </td>
<td> 1000 </td>
<td> ppm
</td></tr>
<tr>
<td> Sensitivity factor </td>
<td> SR </td>
<td> - </td>
<td> 1.2 </td>
<td> 50 </td>
<td> -
</td></tr></table>
<p><img src="img/Red_sensor.jpg" width="600"/><br/><br/>
</p>
<h3>  Performance OX sensor </h3>
<table>
<tr>
<th> Characteristic OX sensor </th>
<th> Symbol </th>
<th> Typ </th>
<th> Min </th>
<th> Max </th>
<th> Unit
</th></tr>
<tr>
<td> Sensing resistance in air </td>
<td> R0 </td>
<td> - </td>
<td> 0.8 </td>
<td> 20 </td>
<td> kΩ
</td></tr>
<tr>
<td> Typical NO2 detection range </td>
<td> FS </td>
<td> - </td>
<td> 0.05 </td>
<td> 10 </td>
<td> ppm
</td></tr>
<tr>
<td> Sensitivity factor </td>
<td> SR </td>
<td> - </td>
<td> 2 </td>
<td> - </td>
<td> -
</td></tr></table>
<p><img src="img/OX_sensor.jpg" width="600"/><br/><br/>
</p>
<h3>  Performance NH3 sensor </h3>
<table>
<tr>
<th> Characteristic NH3 sensor </th>
<th> Symbol </th>
<th> Typ </th>
<th> Min </th>
<th> Max </th>
<th> Unit
</th></tr>
<tr>
<td> Sensing resistance in air </td>
<td> R0 </td>
<td> - </td>
<td> 10 </td>
<td> 1500 </td>
<td> kΩ
</td></tr>
<tr>
<td> Typical NH3 detection range </td>
<td> FS </td>
<td> - </td>
<td> 1 </td>
<td> 300 </td>
<td> ppm
</td></tr>
<tr>
<td> Sensitivity factor </td>
<td> SR </td>
<td> - </td>
<td> 1.5 </td>
<td> 15</td>
<td> -
</td></tr></table>
<p><img src="img/NH3_sensor.jpg" width="600"/><br/><br/>
</p>
<h2>  Firmware and library </h2>
<h3>  Firmware </h3>
<p>This grove module has an ATMega168 MCU which is flashed with a factory firmware. The firmware does the following works:
</p>
<ol><li> controls the power on and off for heating circuit and indicator LED
</li><li> listens on the command that make the module do the calibration - the calibration will sample the resistance of the MEMS core of this sensor which will be used as the reference, so please perform calibration in a fresh air condition 
</li><li> listens on commands that get resistance value of one of the three sensor core which will be used to calculate the concentration of a specific gas
</li><li> listens on the command that changing the I2C address of this module - at most time, you don't need to do this except that the I2C address of this module (0x04) conflicts with another slave module.
</li></ol>
<p>Note: the calibration has been done before the modules leave the factory. If you want to recalibrate, please do make sure that the air condition is fresh. 
</p>
<h3>  Library </h3>
<p>The library reads resistance values from the module and calculate the concentration of gas. One thing must be noticed is, the readings of this sensor are not supposed to be used to distinguish the type of gases, but to measure the concentration of a specific gas which is known to be that kind of gas.
</p><p>The cores of this sensor are more sensitive to CO, NO2 and NH3, the precision of measurement for other gases would be worse.
</p><p>Note: doCalibrate() function will take 8 seconds before it returns, as said above, at most time you don't need to recalibrate the sensor.
</p>
<h2> Demonstration </h2>
<p><b>Hardware Installation:</b> <br/>
</p>
<ul><li> 1) Connect Grove - Multichannel Gas Sensor to Seeeduino.<br/>
</li></ul>
<p><img src="img/Grove-MultiChannelGasSensor.jpg" width="480"/><br/>
</p><p><b>Upload Code:</b>
</p>
<ul><li> 2) Download <a href="https://github.com/Seeed-Studio/Mutichannel_Gas_Sensor">Arduino Library &amp; Grove/Xadow firmware</a> and install it to Arduino Library.<br/>
</li><li> 3) Open the code directly by the path:File -&gt; Example -&gt;Mutichannel_Gas_Sensor-&gt;ReadSensorValue_Grove. 
</li></ul>
<p>The content of ReadSensorValue_Grove.ino please refer to below.<br/>
</p>
<pre>/*
    This is a demo to test MutichannelGasSensor library
    This code is running on Xadow-mainboard, and the I2C slave is Xadow-MutichannelGasSensor
    There is a ATmega168PA on Xadow-MutichannelGasSensor, it get sensors output and feed back to master.
    the data is raw ADC value, algorithm should be realized on master.
    
    please feel free to write email to me if there is any question 
    
    Jacky Zhang, Embedded Software Engineer
    qi.zhang@seeed.cc
    17,mar,2015
*/


#include &lt;Wire.h&gt;
#include "MutichannelGasSensor.h"

void setup()
{
    Serial.begin(9600);  // start serial for output
    Serial.println("power on!");

    mutichannelGasSensor.begin(0x04);//the default I2C address of the slave is 0x04
    //mutichannelGasSensor.changeI2cAddr(0x10);
    //mutichannelGasSensor.doCalibrate();
    //delay(8000);
    while(mutichannelGasSensor.readR0() &lt; 0)
    {
        Serial.println("sensors init error!!");
        delay(1000);
    }
    Serial.print("Res0[0]: ");
    Serial.println(mutichannelGasSensor.res0[0]);
    Serial.print("Res0[1]: ");
    Serial.println(mutichannelGasSensor.res0[1]);
    Serial.print("Res0[2]: ");
    Serial.println(mutichannelGasSensor.res0[2]);
    mutichannelGasSensor.powerOn();
}

void loop()
{
    mutichannelGasSensor.readR();
    Serial.print("Res[0]: ");
    Serial.println(mutichannelGasSensor.res[0]);
    Serial.print("Res[1]: ");
    Serial.println(mutichannelGasSensor.res[1]);
    Serial.print("Res[2]: ");
    Serial.println(mutichannelGasSensor.res[2]);
    
    mutichannelGasSensor.calcGas();
    Serial.print("NH3: ");
    Serial.print(mutichannelGasSensor.density_nh3);
    Serial.println("ppm");
    Serial.print("CO: ");
    Serial.print(mutichannelGasSensor.density_co);
    Serial.println("ppm");
    Serial.print("NO2: ");
    Serial.print(mutichannelGasSensor.density_no2);
    Serial.println("ppm");
    
    delay(1000);
    Serial.println("...");
}</pre>
<ul><li> 4) Upload the code. Remeber to select Seeeduino Uno from the Tools | Board menu of the 
</li></ul>
<p>Arduino environment, and select the correct serial port Arduino is using.<br/>
By opening the serial monitor, you can see the raw data read from sensor.<br/>
<img src="img/Mutichannel_Gas_Sensor_Grove_Print.jpg" width="465"/>
</p>
<h2> Resources</h2>
<ul><li> <a href="res/Grove-Multichannel_Gas_Sensor_v1.0_sch.pdf">Grove - Multichannel Gas Sensor v1.0 sch</a>
</li><li> <a href="res/Grove-Multichannel_Gas_Sensor_v1.0_eagle_files.zip">Grove - Multichannel Gas Sensor eagle files</a>
</li><li> <a href="https://github.com/Seeed-Studio/Mutichannel_Gas_Sensor">Arduino Library &amp; Grove/Xadow firmware</a>
</li><li> <a href="res/MiCS-6814_Datasheet.pdf">MiCS-6814 Datasheet</a>
</li></ul>
Copyright (c) 2008-2016 Seeed Development Limited (<a href="http://www.seeedstudio.com">www.seeedstudio.com</a> / <a href="http://www.seeed.cc">www.seeed.cc</a>)<h6>This static html page was created from http://www.seeedstudio.com/wiki</h6></div></body></html>