<html><head><meta name="viewport" content="width=device-width, initial-scale=1"><link href=//fonts.googleapis.com/css?family=Raleway:400,300,600 rel=stylesheet type=text/css><link rel="stylesheet" type="text/css" href="../common/css/normalize.css"><link rel="stylesheet" type="text/css" href="../common/css/skeleton.css"><link rel="stylesheet" type="text/css" href="../common/css/wiki.css"><script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script><title>Grove - Gas Sensor(MQ3)</title><meta charset="utf-8"/></head><body><div class"container"><a href="../"><img src="../common/logo.png"/></a></div><div class="mw-content-ltr container" dir="ltr" id="mw-content-text" lang="en"><h1>Grove - Gas Sensor(MQ3)</h1><div class="thumb tright"><div class="thumbinner" style="width:328px;"><img src="img/Grove_MQ3_Gas_Sensor.jpg" width="326"/> <div class="thumbcaption"></div></div></div>
<p>The Grove - Gas Sensor(MQ3) module is useful for gas leakage detection (in home and industry). It is suitable for detecting <font color="Blue">Alcohol, Benzine, CH4, Hexane, LPG, CO.</font> Due to its high sensitivity and fast response time, measurements can be taken as soon as possible. The sensitivity of the sensor can be adjusted by using the potentiometer.
</p><p><span style="color: red"><b>Note</b> that The sensor value only reflects the approximated trend of gas concentration in a permissible error range, it DOES NOT represent the exact gas concentration. The detection of certain components in the air usually requires a more precise and costly instrument, which cannot be done with a single gas sensor. If your project is aimed at obtaining the gas concentration at a very precise level, then we do not recommend this gas sensor.</span>
</p><p><br/>
<a href="http://www.seeedstudio.com/depot/Grove-Gas-SensorMQ3-p-1418.html"><img src="../common/Get_One_Now_Banner.png" width="300"/></a>
</p><p><br/>
</p>
<p><br/>
</p>
<h2> Features </h2>
<ul><li>High sensitivity to alcohol and small sensitivity to Benzine   
</li><li>Stable and long life 
</li><li>Fast response and High sensitivity
</li></ul>
<h2> Specification </h2>
<table>
<tr>
<th> Item </th>
<th> Parameter </th>
<th> Min </th>
<th> Typical </th>
<th> Max </th>
<th> Unit
</th></tr>
<tr>
<td width="200">  VCC </td>
<td width="200">  Working Voltage </td>
<td width="200">4.9 </td>
<td width="200">5 </td>
<td width="200">5.1 </td>
<td width="200">V
</td></tr>
<tr>
<td>PH </td>
<td> Heating consumption </td>
<td> 0.5 </td>
<td> - </td>
<td> 750 </td>
<td> mW
</td></tr>
<tr>
<td>RL </td>
<td> Load resistance </td>
<td> </td>
<td> adjustable </td>
<td> </td>
<td>
</td></tr>
<tr>
<td>RH</td>
<td> Heater resistance</td>
<td> - </td>
<td> 33 </td>
<td> - </td>
<td> Ω
</td></tr>
<tr>
<td>Rs</td>
<td> Sensing Resistance</td>
<td> 1 </td>
<td> - </td>
<td> 8 </td>
<td> MΩ
</td></tr>
<tr>
<td>Scope</td>
<td> Detecting Concentration </td>
<td> 0.05 </td>
<td> - </td>
<td> 10 </td>
<td> mg/L
</td></tr></table>
<h2> Application Ideas </h2>
<ul><li>Alcohol checker.
</li><li>Breathalyser.  
</li><li>Toys.
</li></ul>
<h2> Hardware Overview </h2>
<p>This is a Analog output sensor. This needs to be connected to any one Analog socket in <a href="/index.php-title=Base_shield_v2Anduselang=en">Base Shield</a>. The examples used in this tutorial makes uses of A0 analog pin. Connect this module to the A0 port of Base Shield.
</p><p>It is possible to connect the Grove module to Arduino directly by using jumper wires by using the connection as shown in the below table:
</p>
<table>
<tr>
<th> Arduino </th>
<th> Gas Sensor
</th></tr>
<tr>
<td> 5V </td>
<td> VCC
</td></tr>
<tr>
<td> GND </td>
<td> GND
</td></tr>
<tr>
<td> NC </td>
<td> NC
</td></tr>
<tr>
<td> Analog A0 </td>
<td> SIG
</td></tr></table>
<p><br/>
The output voltage from the Gas sensor increases when the concentration of gas increases. Sensitivity can be adjusted by varying the potentiometer.
<font color="Red">Please note that the best preheat time for the sensor is above 24 hours</font>. For detailed information about the MQ-3 sensor, please refer to the data-sheet provided in resource section.
</p>
<h2> Getting Started </h2>
<p><img src="img/Read_Gas_Sensor_data.jpg" width="600"/>
</p><p>Connect the Grove - Gas Sensor(MQ3) to A0 port as shown in the above picture. 
</p>
<h3> Gas Detection : Basic Example</h3>
<p>In this example, the sensor is connected to A0 pin. The voltage read from the sensor is displayed. This value can be used as a threshold to detect any increase/decrease in gas concentration.
</p>
<div class="mw-geshi mw-code mw-content-ltr container" dir="ltr"><div class="arduino source-arduino"><pre class="de1"><span class="kw4">void</span> <span class="kw2">setup</span><span class="br0">(</span><span class="br0">)</span> <span class="br0">{</span>
  <span class="kw2">Serial</span>.<span class="kw3">begin</span><span class="br0">(</span><span class="nu0">9600</span><span class="br0">)</span><span class="sy4">;</span>
<span class="br0">}</span>
 
<span class="kw4">void</span> <span class="kw2">loop</span><span class="br0">(</span><span class="br0">)</span> <span class="br0">{</span>
  <span class="kw4">float</span> sensor_volt<span class="sy4">;</span> 
  <span class="kw4">float</span> sensorValue<span class="sy4">;</span>
 
  sensorValue <span class="sy1">=</span> <span class="kw3">analogRead</span><span class="br0">(</span>A0<span class="br0">)</span><span class="sy4">;</span>
  sensor_volt <span class="sy1">=</span> sensorValue<span class="sy2">/</span><span class="nu0">1024</span><span class="sy2">*</span><span class="nu16">5.0</span><span class="sy4">;</span>
 
  <span class="kw2">Serial</span>.<span class="kw3">print</span><span class="br0">(</span><span class="st0">"sensor_volt = "</span><span class="br0">)</span><span class="sy4">;</span>
  <span class="kw2">Serial</span>.<span class="kw3">print</span><span class="br0">(</span>sensor_volt<span class="br0">)</span><span class="sy4">;</span>
  <span class="kw2">Serial</span>.<span class="kw3">println</span><span class="br0">(</span><span class="st0">"V"</span><span class="br0">)</span><span class="sy4">;</span>
  <span class="kw3">delay</span><span class="br0">(</span><span class="nu0">1000</span><span class="br0">)</span><span class="sy4">;</span>
<span class="br0">}</span></pre></div></div>
<h3>  Measurement : Approximation </h3>
<p>This examples demonstrates a way to know the approximate concentration of Gas. As per the data-sheet of the MQ3 sensors, these equations are tested for standard conditions and are not calibrated. It may vary based on change in temperature or humidity.
</p><p>1.Keep the Gas Sensor in clean air environment. Upload the below program.
</p>
<div class="mw-geshi mw-code mw-content-ltr container" dir="ltr"><div class="arduino source-arduino"><pre class="de1"><span class="kw4">void</span> <span class="kw2">setup</span><span class="br0">(</span><span class="br0">)</span> <span class="br0">{</span>
  <span class="kw2">Serial</span>.<span class="kw3">begin</span><span class="br0">(</span><span class="nu0">9600</span><span class="br0">)</span><span class="sy4">;</span>
<span class="br0">}</span>
 
<span class="kw4">void</span> <span class="kw2">loop</span><span class="br0">(</span><span class="br0">)</span> <span class="br0">{</span>
  <span class="kw4">float</span> sensor_volt<span class="sy4">;</span> 
  <span class="kw4">float</span> RS_air<span class="sy4">;</span> <span class="co1">//  Get the value of RS via in a clear air</span>
  <span class="kw4">float</span> R0<span class="sy4">;</span>  <span class="co1">// Get the value of R0 via in Alcohol</span>
  <span class="kw4">float</span> sensorValue<span class="sy4">;</span>
 
<span class="coMULTI">/*--- Get a average data by testing 100 times ---*/</span>   
    <span class="kw1">for</span><span class="br0">(</span><span class="kw4">int</span> x <span class="sy1">=</span> <span class="nu0">0</span> <span class="sy4">;</span> x <span class="sy1">&lt;</span> <span class="nu0">100</span> <span class="sy4">;</span> x<span class="sy2">++</span><span class="br0">)</span>
  <span class="br0">{</span>
    sensorValue <span class="sy1">=</span> sensorValue <span class="sy2">+</span> <span class="kw3">analogRead</span><span class="br0">(</span>A0<span class="br0">)</span><span class="sy4">;</span>
  <span class="br0">}</span>
  sensorValue <span class="sy1">=</span> sensorValue<span class="sy2">/</span><span class="nu16">100.0</span><span class="sy4">;</span>
<span class="coMULTI">/*-----------------------------------------------*/</span>
 
  sensor_volt <span class="sy1">=</span> sensorValue<span class="sy2">/</span><span class="nu0">1024</span><span class="sy2">*</span><span class="nu16">5.0</span><span class="sy4">;</span>
  RS_air <span class="sy1">=</span> <span class="br0">(</span><span class="nu16">5.0</span><span class="sy2">-</span>sensor_volt<span class="br0">)</span><span class="sy2">/</span>sensor_volt<span class="sy4">;</span> <span class="co1">// omit *RL</span>
  R0 <span class="sy1">=</span> RS_air<span class="sy2">/</span><span class="nu16">60.0</span><span class="sy4">;</span> <span class="co1">// The ratio of RS/R0 is 60 in a clear air from Graph (Found using WebPlotDigitizer)</span>
 
  <span class="kw2">Serial</span>.<span class="kw3">print</span><span class="br0">(</span><span class="st0">"sensor_volt = "</span><span class="br0">)</span><span class="sy4">;</span>
  <span class="kw2">Serial</span>.<span class="kw3">print</span><span class="br0">(</span>sensor_volt<span class="br0">)</span><span class="sy4">;</span>
  <span class="kw2">Serial</span>.<span class="kw3">println</span><span class="br0">(</span><span class="st0">"V"</span><span class="br0">)</span><span class="sy4">;</span>
 
  <span class="kw2">Serial</span>.<span class="kw3">print</span><span class="br0">(</span><span class="st0">"R0 = "</span><span class="br0">)</span><span class="sy4">;</span>
  <span class="kw2">Serial</span>.<span class="kw3">println</span><span class="br0">(</span>R0<span class="br0">)</span><span class="sy4">;</span>
  <span class="kw3">delay</span><span class="br0">(</span><span class="nu0">1000</span><span class="br0">)</span><span class="sy4">;</span>
 
<span class="br0">}</span></pre></div></div>
<p><br/>
</p><p>2. Then, open the serial monitor of Arduino IDE. Write down the value of R0 and this needs to be used in the next program. Please node down the R0 after the reading stabilizes.
</p><p><br/>
<font color="Red">Replace the R0 below with value of R0 tested above </font>. Expose the sensor to any one of the gas listed above.
</p>
<div class="mw-geshi mw-code mw-content-ltr container" dir="ltr"><div class="arduino source-arduino"><pre class="de1"><span class="kw4">void</span> <span class="kw2">setup</span><span class="br0">(</span><span class="br0">)</span> <span class="br0">{</span>
  <span class="kw2">Serial</span>.<span class="kw3">begin</span><span class="br0">(</span><span class="nu0">9600</span><span class="br0">)</span><span class="sy4">;</span>
<span class="br0">}</span>
 
<span class="kw4">void</span> <span class="kw2">loop</span><span class="br0">(</span><span class="br0">)</span> <span class="br0">{</span>
 
  <span class="kw4">float</span> sensor_volt<span class="sy4">;</span>
  <span class="kw4">float</span> RS_gas<span class="sy4">;</span> <span class="co1">// Get value of RS in a GAS</span>
  <span class="kw4">float</span> ratio<span class="sy4">;</span> <span class="co1">// Get ratio RS_GAS/RS_air</span>
  <span class="kw4">int</span> sensorValue <span class="sy1">=</span> <span class="kw3">analogRead</span><span class="br0">(</span>A0<span class="br0">)</span><span class="sy4">;</span>
  sensor_volt<span class="sy1">=</span><span class="br0">(</span><span class="kw4">float</span><span class="br0">)</span>sensorValue<span class="sy2">/</span><span class="nu0">1024</span><span class="sy2">*</span><span class="nu16">5.0</span><span class="sy4">;</span>
  RS_gas <span class="sy1">=</span> <span class="br0">(</span><span class="nu16">5.0</span><span class="sy2">-</span>sensor_volt<span class="br0">)</span><span class="sy2">/</span>sensor_volt<span class="sy4">;</span> <span class="co1">// omit *RL</span>
 
  <span class="coMULTI">/*-Replace the name "R0" with the value of R0 in the demo of First Test -*/</span>
  ratio <span class="sy1">=</span> RS_gas<span class="sy2">/</span>R0<span class="sy4">;</span>  <span class="co1">// ratio = RS/R0 </span>
  <span class="coMULTI">/*-----------------------------------------------------------------------*/</span>
 
  <span class="kw2">Serial</span>.<span class="kw3">print</span><span class="br0">(</span><span class="st0">"sensor_volt = "</span><span class="br0">)</span><span class="sy4">;</span>
  <span class="kw2">Serial</span>.<span class="kw3">println</span><span class="br0">(</span>sensor_volt<span class="br0">)</span><span class="sy4">;</span>
  <span class="kw2">Serial</span>.<span class="kw3">print</span><span class="br0">(</span><span class="st0">"RS_ratio = "</span><span class="br0">)</span><span class="sy4">;</span>
  <span class="kw2">Serial</span>.<span class="kw3">println</span><span class="br0">(</span>RS_gas<span class="br0">)</span><span class="sy4">;</span>
  <span class="kw2">Serial</span>.<span class="kw3">print</span><span class="br0">(</span><span class="st0">"Rs/R0 = "</span><span class="br0">)</span><span class="sy4">;</span>
  <span class="kw2">Serial</span>.<span class="kw3">println</span><span class="br0">(</span>ratio<span class="br0">)</span><span class="sy4">;</span>
 
  <span class="kw2">Serial</span>.<span class="kw3">print</span><span class="br0">(</span><span class="st0">"<span class="es1">\n</span><span class="es1">\n</span>"</span><span class="br0">)</span><span class="sy4">;</span>
 
  <span class="kw3">delay</span><span class="br0">(</span><span class="nu0">1000</span><span class="br0">)</span><span class="sy4">;</span>
 
<span class="br0">}</span></pre></div></div>
<p><br/>
</p><p>Now, we can get the concentration of gas from the below figure <br/>
</p><p><img src="img/GAS_Sensor_3.png" width="600"/>
</p><p>According to the figure, we can see that the minimum concentration we can test is 0.1mg/L and the maximum is 10mg/L. However, we can't provide a formula because the relation between ratio and concentration is nonlinear.But also, we can convert mg/L to ppm, it's may convenient for us to watch the value. 
<br/>
</p>
<h2> Suggest Reading / References </h2>
<dl><dd> <a href="/Download_Arduino_and_install_Arduino_driver">Download Arduino and install Arduino driver</a><br/>
</dd><dd> <a href="/Getting_Started_with_Seeeduino">Getting Started with Seeeduino</a><br/>
</dd><dd> <a href="/How_to_choose_A_Gas_Sensor">How to choose a Gas Sensor</a><br/>
</dd><dd> <a href="http://en.wikipedia.org/wiki/Flammability_limit">What's LEL</a><br/>
</dd></dl>
<h2> Resources </h2>
<ul><li><a href="res/Gas_Sensor_Eagle_files.zip">Grove Gas Sensor - EAGLE (Schematic and Board) files </a><br/>
</li><li><a href="res/Gas_Sensor_Schematic.pdf">Grove Gas Sensor - PDF Schematic</a><br/>
</li><li><a href="res/MQ-3.pdf">MQ-3 Datasheet</a>
</li><li>
</li></ul>
Copyright (c) 2008-2016 Seeed Development Limited (<a href="http://www.seeedstudio.com">www.seeedstudio.com</a> / <a href="http://www.seeed.cc">www.seeed.cc</a>)<h6>This static html page was created from http://www.seeedstudio.com/wiki</h6></div></body></html>