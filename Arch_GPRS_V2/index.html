<html><head><meta name="viewport" content="width=device-width, initial-scale=1"><link href=//fonts.googleapis.com/css?family=Raleway:400,300,600 rel=stylesheet type=text/css><link rel="stylesheet" type="text/css" href="../common/css/normalize.css"><link rel="stylesheet" type="text/css" href="../common/css/skeleton.css"><link rel="stylesheet" type="text/css" href="../common/css/wiki.css"><script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script><title>Arch GPRS V2</title><meta charset="utf-8"/></head><body><div class"container"><a href="../"><img src="../common/logo.png"/></a></div><div class="mw-content-ltr container" dir="ltr" id="mw-content-text" lang="en"><h1>Arch GPRS V2</h1>

<p>Arch GPRS V2 is the new and improved version of the <a href="/Arch_GPRS" title="Arch GPRS">Arch GPRS</a> development board from <a href="http://www.seeedstudio.com">Seeed Studio</a>. Like the original <a href="/Arch_GPRS" title="Arch GPRS">Arch GPRS</a>, it is also an <a href="http://mbed.org/handbook/mbed-SDK">mbed</a> enabled development board that houses a cellular networking module along with a microcontroller. Arch GPRS V2 uses the LPC11U37 Microcontroller instead of the LPC11U24 used on the <a href="/Arch_GPRS" title="Arch GPRS">Arch GPRS</a>. You can use the mbed C/C++ SDK, libraries and optimizing online development tools to rapidly build your Arch GPRS V2 based prototype.
The cellular networking module on the Arch GPRS is based on the SIM900 Quad-band GSM/GRPS engine from SIMCom. With this, data collection functions can be performed easily using the 2G GSM/GPRS based cellular network. <br/>
Arch GPRS V2 has a standard <a href="/w/index.php?title=Arduino&amp;action=edit&amp;redlink=1" title="Arduino (page does not exist)">Arduino</a> interface as well as <a href="/Grove" title="Grove">Grove</a> connectors on board. It’s convenient to connect existing Shields and <a href="/Grove" title="Grove">Grove</a> products to Arch GPRS V2. You can even connect a solar panel directly to the board to allow for the battery to charge from it. A low-power design guarantees easy charging and long hour operations when outdoors!
</p><p><b>Note:</b>
</p><p>Arch GPRS V2 doesn't come with <a href="https://mbed.org/handbook/mbed-HDK">an mbed interface</a>. To output debug messages, please try <a href="https://mbed.org/handbook/USBSerial">USBSerial</a>.
</p>
<h2> Features</h2>
<ul><li> mbed enabled
</li></ul>
<dl><dd><ul><li> Online development tools 
</li><li> Easy to use C/C++ SDK
</li><li> Lots of published libraries, projects
</li></ul>
</dd></dl>
<ul><li>NXP LPC11U37 Controller
</li></ul>
<dl><dd><ul><li> Low power ARM Cortex-M0 Core 
</li><li> On chip 128KB Flash, 12KB SRAM, 4KB EEPROM 
</li><li> USB Device, UART, I2C 
</li></ul>
</dd></dl>
<ul><li> SIM900 Module 
</li></ul>
<dl><dd><ul><li> Quad-band (850/900/1800/1900MHz) GSM/GPRS support
</li><li> Supports external SIM card： 1.8V/3V
</li><li> Control with standard AT Commands
</li></ul>
</dd></dl>
<ul><li>Select automatically USB5V or Solar panel to charge a battery
</li></ul>
<h2>  ArchGPRS V2 vs ArchGPRS </h2>
<table>
<caption> Key differences between ArchGPRS V2 and ArchGPRS
</caption>
<tr>
<td>
</td>
<td> <b>ArchGPRS V2</b>
</td>
<td> <b>ArchGPRS</b>
</td></tr>
<tr>
<td> MCU
</td>
<td> LPC11U27
</td>
<td> LPC11U24
</td></tr>
<tr>
<td> GSM/GPRS Module
</td>
<td> SIM900
</td>
<td> EG-10
</td></tr>
<tr>
<td> MicroSD Card
</td>
<td> Yes
</td>
<td> No
</td></tr></table>
<h2>  Pinout </h2>
<p><img src="img/Arch_GPRS_V2_Pinout.png" width="600"/>
</p>
<h2>  Getting Started </h2>
<div class="center"><div class="floatnone"><img src="img/Get_started_with_arch.png" width="900"/></div></div>
<ol><li> Login into the mbed environment from <a href="http://www.mbed.org">here</a>
</li><li> Import the <a href="https://mbed.org/compiler/#import:/teams/mbed/code/mbed_blinky/;platform:Seeed-Arch-GPRS">mbed_blinky</a> program
</li><li> Verify that the code imported in main.cpp in the mbed_blinky folder in the mbed online Compiler environment is as indicated in the figure above under Step 3. Ensure that the platform selected for compiling the code for is the Seeeduino-Arch. Now go ahead and compile the code. When asked to save the resultant binary file (.bin), save it to a designated folder on your PC. 
</li><li> Now connect your Arch board to your PC and long press the reset button. A removable USB drive named CRP DISABLD should automatically appear on your PC. Go to the CRP DISABLD drive, delete the existing firmware file that you see in the folder and copy the downloaded binary file to CRP DISABLD. Quick press the reset button to run the new binary. 
</li><li> Verify that your code is running successfully by looking at the ArchGPRS V2 board. If the right-most LED from the Pinout shown above is blinking and the other 3 LEDs next to it are all ON, this implies that your code is working.
</li></ol>
<dl><dd><dl><dd>You can change the code to the following and see what happens:
</dd></dl>
</dd></dl>
<pre>
#include "mbed.h"

DigitalOut myled1(LED2); //left most LED if board is held as shown in Pinout diagram above
DigitalOut myled2(LED3); //2nd from left
DigitalOut myled3(LED4); //3rd from left
DigitalOut myled4(LED1); //4th from left (right most)

int main() {
    while(1) {
                
        myled1 = 1; //left most LED turns ON, rest off
        myled2 = 0;
        myled3 = 0;
        myled4 = 0;
        
        wait(1); //1 sec wait time
        myled1 = 0;
        myled2 = 1; //2nd from left LED turns ON, rest off
        myled3 = 0;
        myled4 = 0;

        wait(1);
        myled1 = 0;
        myled2 = 0;
        myled3 = 1; //3rd from left LED turns ON, rest off
        myled4 = 0;
        
        wait(1);
        myled1 = 0;
        myled2 = 0;
        myled3 = 0;
        myled4 = 1; //4th from left (right most) LED turns ON, rest off
        
        wait(1);
    }
}
</pre>
<dl><dd><dl><dd>When you Compile and Run the above code on the ArchGPRS V2 board, you should see that the LEDs now blink in sequence.
</dd></dl>
</dd></dl>
<p><br/>
If you get through the above steps successfully, this means that:
</p>
<ol><li> Your ArchGPRS V2 is powering up correctly
</li><li> Your code is being downloaded and run by the ArchGPRS V2 module correctly
</li><li> You are ready to take on more complex projects now!
</li></ol>
<h2>  Programming Arch on Windows, Linux or Mac</h2>
<p>Arch doesn't have an mbed interface. It uses USB In-System-Programming (ISP) to upgrade the firmware.
</p><p>To enter the USB ISP mode, connect the Arch with your computer and long press its button, and then a disk named "CRP DISABLD" will appear.
</p>
<ul><li> on windows
</li></ul>
<ol><li> delete firmware.bin in the "CRP DISABLD" disk.
</li><li> copy a new firmware into the disk.
</li></ol>
<ul><li> on linux
</li></ul>
<ol><li> if the disk is not mounted, mount the disk at <b>{mnt_dir}</b>
</li><li> <b>dd if={new_firmware.bin} of={mnt_dir}/firmware.bin conv=notrunc</b>
</li></ol>
<ul><li> on mac you'll need to use Terminal to run the following script to copy you're .bin file to your Arch
</li></ul>
<ol><li> <b>dd if={new_firmare.bin} of=/Volumes/CRP\ DISABLD/firmware.bin conv=notrunc</b>
</li></ol>
<dl><dd>If you're so inclined, you can also create an <b>Automator</b> application to support drag-and-drop of the file to your board.  Just create a "<i>Run Shell Script</i>" with the following command:
<dl><dd>dd if=$* of=/Volumes/CRP\ DISABLD/firmware.bin conv=notrunc
</dd></dl>
</dd><dd>
</dd><dd> You will also need to change the <code>"Pass Input"</code> option from <code>"to stdin"</code> to <code>"as arguments"</code>--without this you will get an error <code>"The action 'Run Shell Script' encountered an error"</code> or <code>"dd: no value specified for if (1)"</code> in the log.
</dd><dd>
</dd><dd> Also, an improved form of the script is:
<dl><dd> <b><code>dd if="${1}" of=/Volumes/CRP\ DISABLD/firmware.bin conv=notrunc</code></b>
</dd></dl>
</dd><dd> Which should handle spaces in the file path and only uses the first file supplied. 
</dd></dl>
<p><i>Very</i> quick press the button to run the new firmware.
</p>
<h2>  Applications and Library </h2>
<ul><li> <a href="http://developer.mbed.org/teams/Seeed/code/GPRSInterface/">GPRS library</a>
</li><li> <a href="https://mbed.org/users/yihui/notebook/debug-seeeduino-arch-using-cmsis-dap/">Use Seeeduino Arch as a debug adapter to debug another Seeeduino Arch</a>
</li><li> <a href="https://mbed.org/users/yihui/notebook/sense-environment/">Sense environment</a>
</li><li> <a href="https://mbed.org/cookbook/seeed-grove-RTC">Play with Grove RTC</a>
</li><li> <a href="https://mbed.org/cookbook/Seeed-grove-ultrasonic-ranger">Play with Grove - Ultrasonic ranger</a>
</li></ul>
<h2>  Resources </h2>
<ul><li><a href="/GPRS_Shield_V2.0">SIM900 GPRS Module Information</a>
</li><li><a href="res/Arch_GPRS_v2.0_sch_pcb.zip">Eagle file for Arch_GPRS_v2.0</a>
</li><li><a href="res/Arch_GPRS_v2.0_SCH_PDF.pdf">Arch GPRS_v2.0.PDF</a>
</li></ul>
Copyright (c) 2008-2016 Seeed Development Limited (<a href="http://www.seeedstudio.com">www.seeedstudio.com</a> / <a href="http://www.seeed.cc">www.seeed.cc</a>)<h6>This static html page was created from http://www.seeedstudio.com/wiki</h6></div></body></html>