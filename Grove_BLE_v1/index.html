<html><head><meta name="viewport" content="width=device-width, initial-scale=1"><link href=//fonts.googleapis.com/css?family=Raleway:400,300,600 rel=stylesheet type=text/css><link rel="stylesheet" type="text/css" href="../common/css/normalize.css"><link rel="stylesheet" type="text/css" href="../common/css/skeleton.css"><link rel="stylesheet" type="text/css" href="../common/css/wiki.css"><script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script><title>Grove BLE v1</title><meta charset="utf-8"/><script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-84386732-1', 'auto');
  ga('send', 'pageview');
</script>
</head>
<body><div class"container"><a href="../"><img src="../common/logo.png"/></a></div><div class="mw-content-ltr container" dir="ltr" id="mw-content-text" lang="en"><h1>Grove BLE v1</h1>
<h2>  Overview </h2>
<p><br/>
Grove - BLE v1 (Grove - Bluetooth Low Energy v1) uses a Low Energy Bluetooth module -- <a href="/Bluetooth_V4.0_HM-11_BLE_Module">HM-11</a>, based on TI CC2540 chip, which has AT command support. As a Grove product it's convenient to use Grove - BLE with Arduino board via Base Shield.
</p>
<center><img src="img/Grove-BLE_front.png" width="700"/><img src="img/Grove-BLE_Back.png" width="500"/></center><br/>
<p><br/>
</p>
<h2>  Parameters </h2>
<p><br/>
</p>
<table >
<tr>
<th> Specifications
</th>
<th> Name
</th></tr>
<tr>
<td width="300px"> BT Version
</td>
<td width="500px"> Bluetooth Specification V4.0 BLE
</td></tr>
<tr>
<td> Working frequency
</td>
<td> 2.4GHz ISM band
</td></tr>
<tr>
<td> Modulation method
</td>
<td> GFSK(Gaussian Frequency Shift Keying)
</td></tr>
<tr>
<td> RF Power
</td>
<td> -23dbm, -6dbm, 0dbm, 6dbm, can modify through AT Command AT+POWE
</td></tr>
<tr>
<td> Speed
</td>
<td> Asynchronous: 6K Bytes, Synchronous: 6K Bytes
</td></tr>
<tr>
<td> Sensitivity
</td>
<td> ≤-84dBm at 0.1% BER
</td></tr>
<tr>
<td> Security
</td>
<td> Authentication and encryption
</td></tr>
<tr>
<td> Service
</td>
<td> Central &amp; Peripheral UUID FFE0,FFE1
</td></tr>
<tr>
<td> Supply Power
</td>
<td> 3.3v - 5v
</td></tr>
<tr>
<td> Working temperature
</td>
<td> –5 ~ +65 Centigrade
</td></tr>
<tr>
<td> Size
</td>
<td> 20cm x 10cm
</td></tr>
<tr>
<td> Working Current
</td>
<td> &lt; 10 mA
</td></tr>
<tr>
<td> Sourcing Current
</td>
<td> &lt; 20 mA
</td></tr>
<tr>
<td> Sleeping Current
</td>
<td> &lt; 1 mA
</td></tr></table>
<p><br/>
<br/>
<b>Attention: The supply power of HM-11 is 3.3v, but the Grove - BLE is 3.3v to 5v</b>
<br/>
<br/>
</p>

<p><br/>
</p>
<h3>  Pinout </h3>
<dl><dd> Grove connector has four wires: GND, VCC, RX, TX.
</dd></dl>
<h3>  Features of Design </h3>
<dl><dd> We have used TD6810 chip as the voltage regulator, so the range of the supply power can be 3.3v to 5v. Also , there's a level shift circuit which make sure the accuracy of data transmission.
</dd></dl>
<h3>  AT Commands </h3>
<dl><dd> <b>1）Query module address</b>
</dd></dl>
<p>Send： AT+ADDR?
<br/>
Receive：OK+LADD:address  
<br/>
<br/>
</p>
<dl><dd> <b>2）	Query baud rate</b>
</dd></dl>
<p>Send：AT+BAUD?
<br/>
Receive：OK+Get:[para1]
<br/>
<br/>
Range ：0~8 ; 0--9600，1--19200，2--38400，3--57600，4--115200，5--4800，6--2400，7--1200，8--230400。Default: 0--9600.
<br/>
<br/>
</p>
<dl><dd> <b>Set baud rate</b>
</dd></dl>
<p>Send：AT+BAUD[para1]
<br/>
Receive：OK+Set:[para1]
<br/>
<br/>
e.g. ：Send ：AT+BAUD1 ，Receive：OK+Set:1. The Baud rate has been set to 19200。
<br/>
Note: If setup to Value 7, After next power on, module will not support any AT Commands, until PIO0 is pressed, Module will change Baud to 9600.
<br/>
<br/>
</p>
<dl><dd> <b>3）	Try connect an address</b>
</dd></dl>
<p>Send：AT+CON[para1]
<br/>
Receive：OK+CONN[para2]
<br/>
<br/>
Range ：A,E,F
<br/>
<br/>
e.g. ：Try to connect an device which MAC address is 00:17:EA:09:09:09 
<br/>
Send: AT+CON0017EA090909
<br/>
May receive a reply: OK+CONNA --&gt; Accept request, connecting ; OK+CONNE --&gt; Connect error ; OK+CONN --&gt; Connected , if AT+NOTI1 is setup ; OK+CONNF --&gt; Connect Failed , After 10 seconds
<br/><br/>
Notice: Only central role is used. If remote device has already connected to other device or shut down, “OK+CONNF” will received after about 10 Seconds.
<br/>
<br/>
</p>
<dl><dd> <b>4）	Clear Last Connected device address</b>
</dd></dl>
<p>Send：AT+CLEAR
<br/>
Receive：OK+CLEAR
<br/>
<br/>
</p>
<dl><dd> <b>5）	Query Module Work Mode</b>
</dd></dl>
<p>Send：AT+MODE?
<br/>
Receive：OK+Get:[para]
<br/>
<br/>
Range：0~2.  0: Transmission Mode ; 1: PIO collection Mode + Mode 0 ; 2: Remote Control Mode + Mode 0 . Default 0.
</p>
<dl><dd> <b>Set Module Work Mode</b>
</dd></dl>
<p>Send：AT+MODE[]
<br/>
Receive：OK+Set:[para]
<br/>
<br/>
</p>
<dl><dd> <b>6）	Query Module name</b>
</dd></dl>
<p>Send：AT+NAME?
<br/>
Receive：OK+NAME[para1]
<br/>
<br/>
</p>
<dl><dd> <b>Set Module name</b>
</dd></dl>
<p>Send：AT+NAME[para1]
<br/>
Receive：OK+Set:[para1]
<br/>
<br/>
e.g. ：Send: AT+NAMESeeed ，Receive : OK+Set:Seeed 
<br/>
Notice: Name would change after next power on.
<br/>
<br/>
</p>
<dl><dd> <b>7）	Query Pin Code</b>
</dd></dl>
<p>Send：AT+PASS?
<br/>
Receive：OK+PASS:[para1]
<br/>
<br/>
Range : 000000~999999. Default : 000000.
</p>
<dl><dd> <b>Set Pin Code</b>
</dd></dl>
<p>Send: AT+PASS[para1]
<br/>
Receive：OK+Set:[para1]
<br/>
<br/>
</p>
<dl><dd> <b>8）	Restore all setup value to factory setup</b>
</dd></dl>
<p>Send：AT+RENEW
<br/>
Receive：OK+RENEW
<br/>
<br/>
</p>
<dl><dd> <b>9）	Restart module</b>
</dd></dl>
<p>Send：AT+RESET
<br/>
Receive：OK+RESET
<br/>
<br/>
</p>
<dl><dd> <b>10）Query Master and Slaver Role</b>
</dd></dl>
<p>Send：AT+ROLE[para1]
<br/>
Receive：OK+Set:[para1]
<br/>
<br/>
Range : 0~1。0--Peripheral : 1--Central : Default: 0.
<br/>
<br/>
More AT commands please refer to the Date sheet of BLE module.
<br/>
<br/>
</p>
<h2>  SoftwareSerial Communication </h2>
<p><br/>
</p>
<div class="center"><div class="floatnone"><img src="img/Grove-BLE_connection1.png" width="700"/></div></div>
<p><br/>
<br/>
Grove - BLE can be acted as a master or slave, you can use the one via different demos.<b>If you are going to use the following SoftwareSerial program, please refer to the way of connection in the previous pic. TX--&gt;D2, RX--&gt;D3.</b><br/>
Open Arduino IDE, copy the following program and upload it onto the Arduino/Seeeduino board. And then two BLE modules can communicate with each other.
<br/>
<br/>
<b>Demo : BLE Slave</b>
</p>
<pre>

#include &lt;SoftwareSerial.h&gt;   //Software Serial Port
#define RxD 2
#define TxD 3
 
#define DEBUG_ENABLED  1
 
SoftwareSerial BLE(RxD,TxD);
 
void setup() 
{ 
  Serial.begin(9600);
  pinMode(RxD, INPUT);
  pinMode(TxD, OUTPUT);
  setupBleConnection();
 
} 
 
void loop() 
{ 
  char recvChar;
  while(1){
    if(BLE.available()){//check if there's any data sent from the remote BLE 
      recvChar = BLE.read();
      Serial.print(recvChar);
    }
    if(Serial.available()){//check if there's any data sent from the local serial terminal, you can add the other applications here
      recvChar  = Serial.read();
      BLE.print(recvChar);
    }
  }
} 
 
void setupBleConnection()
{
  BLE.begin(9600); //Set BLE BaudRate to default baud rate 9600
  BLE.print("AT+CLEAR"); //clear all previous setting
  BLE.print("AT+ROLE0"); //set the bluetooth name as a slaver
  BLE.print("AT+SAVE1");  //don't save the connect information
}
</pre>
<p><br/>
<b>Demo : BLE Master</b>
<br/>
</p>
<pre>

#include &lt;SoftwareSerial.h&gt;   //Software Serial Port
#define RxD 2
#define TxD 3
 
#define DEBUG_ENABLED  1
 
SoftwareSerial BLE(RxD,TxD);
 
void setup() 
{ 
  Serial.begin(9600);
  pinMode(RxD, INPUT);
  pinMode(TxD, OUTPUT);
  setupBleConnection();
 
} 
 
void loop() 
{ 
  char recvChar;
  while(1){
    if(BLE.available()){//check if there's any data sent from the remote BLE
      recvChar = BLE.read();
      Serial.print(recvChar);
    }
    if(Serial.available()){//check if there's any data sent from the local serial terminal, you can add the other applications here
      recvChar  = Serial.read();
      BLE.print(recvChar);
    }
  }
} 
 
void setupBleConnection()
{
  BLE.begin(9600); //Set BLE BaudRate to default baud rate 9600
  BLE.print("AT+CLEAR"); //clear all previous setting
  BLE.print("AT+ROLE1"); //set the bluetooth name as a master
  BLE.print("AT+SAVE1");  //don't save the connect information
}
</pre>
<p><br/>
</p>
<h2>  Resources </h2>
<p><a href="res/HMBLEComAssistant.rar">BLE_apk_for_Android</a>
</p><p><a href="res/Bluetooth4_en.pdf">DataSheet of BLE module</a>
</p><p><a href="res/Grove-BLE_v1.0.zip">Schematic</a>
</p><p>
</p>
Copyright (c) 2008-2016 Seeed Development Limited (<a href="http://www.seeedstudio.com">www.seeedstudio.com</a> / <a href="http://www.seeed.cc">www.seeed.cc</a>)<h6>This static html page was created from http://www.seeedstudio.com/wiki</h6></div></body></html>