<html><head><meta name="viewport" content="width=device-width, initial-scale=1"><link href=//fonts.googleapis.com/css?family=Raleway:400,300,600 rel=stylesheet type=text/css><link rel="stylesheet" type="text/css" href="../common/css/normalize.css"><link rel="stylesheet" type="text/css" href="../common/css/skeleton.css"><link rel="stylesheet" type="text/css" href="../common/css/wiki.css"><script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script><title>Xadow Wearable Kit For Edison</title><meta charset="utf-8"/></head><body><div class"container"><a href="../"><img src="../common/logo.png"/></a></div><div class="mw-content-ltr container" dir="ltr" id="mw-content-text" lang="en"><h1>Xadow Wearable Kit For Edison</h1><div class="thumb tright"><div class="thumbinner" style="width:302px;"><img src="img/Xadow_Wearable_Kit_For_Edison02.png" width="300"/> <div class="thumbcaption"></div></div></div>
<h2>  About </h2>
<p>The Xadow Wearable Kit For Edison is a perfect kit making wearable devices 
with Intel Edison.It includes an Edison expansion board named Xadow-Edison and 
8 extremely small modules, these modules are sensors, actuators, UI conmmunication 
modules. Connecting with flexible FFC you can quickly make some interesting and cool 
wearable devices. Attention that, you have to get an Intel Edison and two USB cables 
by your own.
</p>
<h2>  Part list </h2>
<table>
<tr>
<th> Parts </th>
<th> Count </th>
<th> Parts  </th>
<th> Count
</th></tr>
<tr>
<td> Xadow - Edison </td>
<td> 1</td>
<td> Xadow - 3 Axis Accelerometer</td>
<td> 1
</td></tr>
<tr>
<td> Xadow - Edison Programmer</td>
<td> 1</td>
<td> Xadow - Barometer BMP 180</td>
<td> 1
</td></tr>
<tr>
<td> Xadow - Edison SD</td>
<td> 1</td>
<td> Battery</td>
<td> 1
</td></tr>
<tr>
<td> Xadow - Q Touch Sensor </td>
<td> 1</td>
<td> Digital RGB LED Flexi-Strip</td>
<td> 1
</td></tr>
<tr>
<td> Xadow - NFC </td>
<td> 1</td>
<td> Power cable White</td>
<td> 5
</td></tr>
<tr>
<td> Xadow - Breakout</td>
<td> 3 </td>
<td> Power cable Red</td>
<td> 5
</td></tr>
<tr>
<td> Xadow - Buzzer </td>
<td> 1</td>
<td> Power cable Yellow</td>
<td> 5
</td></tr>
<tr>
<td> Xadow - Vibration Motor </td>
<td> 1</td>
<td> FFC cable package</td>
<td> 1
</td></tr>
<tr>
<td> Xadow - OLED </td>
<td> 1</td>
<td> Color printed Tutorial</td>
<td> 1
</td></tr>
<tr>
<td>  NFC Tags</td>
<td> 3</td>
<td> </td>
<td>
</td></tr></table>
<h2>  Getting Started </h2>
<h3>  Connection </h3>
<p>Pay attention to the unfilled corner, all the modules’ unfilled corner point to the same direction. The Xadow modules's double sides can connect two modules by FFC  since that xadow can cascade its modules as long as posible like a watch or a necklace, so suitable for wearable prototying.
</p>
<ol><li> Inset Intel Edison onto Xadow-Edison through the rectangular connectors.
</li></ol>
<p><img src="img/Xadow_Wearable_Kit_For_Edison03.png" width="500"/><img src="img/Xadow_Wearable_Kit_For_Edison08.png" width="300"/>
</p>
<ol><li> Connect the Edison-Programmer board with a FFC and plug two USB cables,the litlle switch on Edison-Programmer board should be turned to the Device side.
</li></ol>
<p><img src="img/Xadow_Wearable_Kit_For_Edison04.png" width="500"/>
</p>
<ol><li> Connect Xadow modules with FFC.
</li></ol>
<p><img src="img/Xadow_Wearable_Kit_For_Edison07.png" width="500"/>
</p>
<ol><li> After uploading program into it, unplug the USB cables and the programmer, plug the Li-Po battery so that the kit can be moveable.
</li></ol>
<p><img src="img/Xadow_Wearable_Kit_For_Edison09.png" width="500"/>
</p>
<h3>  Development Environment </h3>
<p>1. Installing Edison Arduino IDE and require drivers. Click <a href="https://communities.intel.com/docs/DOC-23147">here</a> to see the tutorial on the official site.
</p><p>2. Download Demos
</p>
<dl><dd>1) Click <a href="https://github.com/Seeed-Studio/Xadow_Edison_Demos">here</a> to download source code from github.
</dd></dl>
<p><img src="img/Xadow_Wearable_Kit_For_Edison12.png" width="800"/>
</p>
<dl><dd>2) Extract the demos from the zip file.
</dd><dd> Open arduino IDE click “file” --&gt; “preferences”, see sketchbook location item that should be as “C:\Users\xxx\Documents\Arduino”, navigate to this folder and extract the project to the subfolder ”libraries”.
</dd><dd><img src="img/Xadow_Wearable_Kit_For_Edison16.png" width="800"/>
</dd></dl>
<p>3. IDE Setting
</p>
<dl><dd>1) Open Arduino IDE. Click “Tools” --&gt; “Board” and select Intel® Edison.
</dd><dd>2) Open computer "Device Manager" to find out "Intel Edison Virtual Port(COMx)", Click “Tools” --&gt; “Serial Port” choose COMx.
</dd><dd><img src="img/Xadow_Wearable_Kit_For_Edison17.png" width="800"/>
</dd></dl>
<p>4. Upload Sketch<br/>
</p>
<dl><dd>Click “File” --&gt; “Examples” choose demos download before<br/>
</dd><dd><img src="img/Xadow_Wearable_Kit_For_Edison18.png" width="600"/> <img src="img/Xadow_Wearable_Kit_For_Edison19.png" width="385"/>
</dd></dl>
<h3>  The Examples </h3>
<h4>  Make a LED strip </h4>
<p>The LED strip has 3 pins, to connect the strip and the breakout board you can do a simple welding. Connect the VCC pins GND pins, and the signal pin to breakout board’s MISO pin.<br/>
<img src="img/Xadow_Wearable_Kit_For_Edison20.png" width="725"/>
</p>
<h4>  Prepare NFC tags </h4>
<p>The NFC demo use three NFC tags as keys to open the led strip, but first you have got the NFC tags they were recorded nothing in. So you have to make them useful tags.
</p><p><b>Step 1</b>.Use the demo FormatTag to format the tags at the first time using them.
<img src="img/Xadow_Wearable_Kit_For_Edison21.png" width="751"/><br/>
</p><p><b>Note</b>:Upload the sketch and open the serial moitor when you see <b>Place an unformatted Mifare Classic tag on the reader.</b>, then put one tag on the antenna board. Wait for a while, you’ll see <b>Success, tag formatted as NDEF.</b> for successfully formating or <b>Format failed.</b> for maybe the tag has been formated yet.
</p><p><b>Step 2</b>.Open the demo Cool_Light_WriteTag and change the card record <b>WRITE_TAG_MESSAGE</b>.<br/>
<img src="img/Xadow_Wearable_Kit_For_Edison22.png" width="487"/><br/>
<img src="img/Xadow_Wearable_Kit_For_Edison23.png" width="213"/><br/>
</p><p><b>Step 3</b>.Compile and upload the shetch.<br/>
</p><p><b>Step 4</b>.Run a serial monitor, put a NFC tag close to the antenna, after the serial monitor shows <b>Success. Try reading this tag with your phone .</b> a usefull tag just been made. Repeat the steps Change <b>WRITE_TAG_MESSAGE</b> to write other tags.
</p><p><img src="img/Xadow_Wearable_Kit_For_Edison24.png" width="496"/>
</p>
<h4>  Example-01: Cool_Light </h4>
<p><b> WHAT WE’VE GOT HERE </b>
In this example, we use an NFC module and a QTouch module to control a RGB LED strip, QTouch module have 3 buttons, by touch different button you'll see different light performance. <br/>
<img src="img/Xadow_Wearable_Kit_For_Edison27.jpg" width="600"/> <br/>
<b> Upload Sketch </b>
<b>Click File&gt;Examples&gt;Cool_Light.</b>
<img src="img/Xadow_Wearable_Kit_For_Edison22.png" width="487"/>
<br/>
<img src="img/Xadow_Wearable_Kit_For_Edison26.png" width="214"/>
<br/>
<b> Code Detail </b>
</p>
<pre>
#include &lt;Wire.h&gt;
#include &lt;PN532_I2C.h&gt;
#include &lt;PN532.h&gt;
#include &lt;NfcAdapter.h&gt;
#include &lt;TimerOne.h&gt;
#include "Seeed_QTouch.h"
#include "Seeed_ws2812.h"

#define SIG_PIN 12   //LED strip signal pin
#define LED_NUM 5  //LED strip led number

//leave out some code...

void setup() {
  strip.begin();
  nfc.begin();
  Serial.begin(115200); 
  color_domain_init(LED_NUM);
  Timer1.initialize(150000);         // initialize timer1
  Timer1.attachInterrupt(callback);  // attaches callback() as a timer overflow interrupt
}
void callback()                      //timer ISR to read QTouch number and change the LED performance
{
  int tn = QTouch.touchNum();        // QTouch callback function
  if( tn == 0 | tn == 1 | tn == 2 ) {    
    colorChangeFromNumber(tn);       
  }
}
void loop() {                 
    colorChangeFromString(getStringFromNFC());  // Read string form NFC and change the LED color
    delay(500);
}
</pre>
<p><b>RESULT</b>
</p><p>1. Put one of the the NFC tags onto the antenna to show cool light, in this example you’ll see leds shine in three modes they are single color loop, flowcolor and rainbowCycle. The three tags have different messages in them, put on defferent tag to show each mode.
<br/>
<img src="img/Xadow_Wearable_Kit_For_Edison28.jpg" width="600"/>
<br/>
2. As to QTouch, by touching one of the buttons the led strip shows a single color red green or blue.
<br/>
<img src="img/Xadow_Wearable_Kit_For_Edison30.jpg" width="600"/>
<br/>
3. Now you can disconnect the Edison-Programmer and use the Li-Po battery to suport power.
<br/>
<img src="img/Xadow_Wearable_Kit_For_Edison33.png" width="600"/>
<br/>
</p>
<h4>  Example-02: GlowingThermometer </h4>
<p><b> WHAT WE’VE GOT HERE </b>
In this example we use a barometer module to monitor the atmosphere about temperature air pressure and altitude, these messages show on the OLED module. We setup a secure temperature beteen 20 ℃ ~ 30 ℃, when the temperature is out of the secure range the vibrator will shock and showing warning picture on OLED when temperature over 30 ℃ or less than 20 ℃.
Now open the demo GlowingThermometer compile and upload the sketch.
<br/>
<img src="img/Xadow_Wearable_Kit_For_Edison31.jpg" width="600"/>
<br/>
<b>Upload Sketch</b>
Click File&gt;Examples&gt;GrowingThermometer
<br/>
<b>CODE DETAIL</b>
</p>
<pre>
#include &lt;Wire.h&gt;
#include &lt;SeeedOLED.h&gt;
#include "Barometer.h"
#include &lt;Seeed_ws2812.h&gt;

#define LEDN 5
#define SIG_PIN 12

uint8_t color[LEDN];
uint8_t t[5] = {25, 26, 27, 28, 29};//you can setup 5 temperature steps to track color
//Barometer
float temperature;
float pressure;
float altitude;
float atm;

void setup()
{
  Serial.begin(115200);
  Wire.begin();
  SeeedOled.init();              //initialze SEEED OLED display
  initOledTitle();               //init OLED Title
  myBarometer.init();           //Barometer init      
  vibratorInit();                //init vibrator pins
  strip.begin();                // Init and begin strip drivers
  color_domain_init(20, 30, LEDN);   //this method is to get the relation of temperature raise and color chang.
}

//leave out some code...

void loop()
{    
  temperature = myBarometer.bmp085GetTemperature(myBarometer.bmp085ReadUT()); //Get the temperature, bmp085ReadUT MUST be called first  
  pressure = myBarometer.bmp085GetPressure(myBarometer.bmp085ReadUP());// Get the pressure
  altitude = myBarometer.calcAltitude(pressure);
  atm = pressure / 101325;
  
  colorFollow();  //led strip changing with temperature
  
  TempAlarm();    //monitor temperature and warning
  
  messagetoSerial();
  
  messagetoOled();
  
  delay(500);
}

//More detail watch the download soure code ...
</pre>
<p><b>RESULT</b>
1.Defualt OLED display
<br/>
<img src="img/Xadow_Wearable_Kit_For_Edison34.png" width="300"/>
<br/>
2. High temperatrue warning display.
<br/>
<img src="img/Xadow_Wearable_Kit_For_Edison32.jpg" width="600"/>
<br/>
</p><p><b>TIPS</b>
1.You’ll need to warm the Xadow-Barometer module to see what happen when the temperature is out of the secure range.    <br/>
2. As the temperature raising the leds light up one by one and the color change from blue to red.       <br/>
</p>
<h4>  Example-03: Edison-Pedometer </h4>
<p><b>WHAT WE’VE GOT HERE</b>
This example shows how to make a pedometer that counts a person’s steps. It uses a Xadow – Edison Board, Xadow – OLED 0.96”, Xadow – 3-Axis Accelerometer and Xadow – Buzzer. The OLED screen will display the step-counts and the buzzer will beep if you do not move for a long time. In addition, when Intel Edison Board connects to a Wi-Fi network, you can check the step-counts using a web browser.
<br/>
<b>Upload Sketch</b>
1.Click File&gt;Examples&gt;Edison_Pedometer_with_OLED and select the demo
<br/>
<img src="img/Xadow_Wearable_Kit_For_Edison18.png" width="600"/>
<br/>
2.Change the char ssid[] = STEST with your network name and the char pass[] = 876543210 with your network password.
<br/>
<img src="img/Xadow_Wearable_Kit_For_Edison36.png" width="400"/>
<br/>
3.Click upload icon.
<br/>
<img src="img/Xadow_Wearable_Kit_For_Edison37.png" width="400"/>
<br/>
</p><p><br/>
<b>Code Detail </b>
</p>
<pre>
#include &lt;Wire.h&gt;
#include &lt;SeeedOLED.h&gt;
#include &lt;Wire.h&gt;
#include &lt;ADXL345.h&gt;
#include "pedometer.h"
#include &lt;SPI.h&gt;
#include &lt;WiFi.h&gt;
#include &lt;TimerOne.h&gt;

#define MINUTES_TO_ALARM  (60) //If you don't walk enough in MINUTES_TO_ALARM minutes, the buzzer beeps 0.5s.
unsigned long curtime = 0;
unsigned long cursteps = 0;

int isWalking = 0;        // if walking,isWalking=1.
int ipprinted = 0;        // if printing local ip, ipprinted = 1.

Pedometer pedometer;
int stepIndex = 0;

char ssid[] = "STEST";           // your network SSID (name) 
char pass[] = "876543210";       // your network password
int keyIndex = 0;                // your network key Index number (needed only for WEP)

int status = WL_IDLE_STATUS;
WiFiServer server(88);
int serverconnected = 0;

void setup() {
  Serial.begin(9600);           // set baudrate = 9600bps
  // put your setup code here, to run once:
  buzzer_init();
  pedometer.init();
  Wire.begin(); 
  SeeedOled.init();                  //initialze SEEED OLED display
  SeeedOled.clearDisplay();          //clear the screen and set start position to top left corner
  SeeedOled.setNormalDisplay();      //Set display to normal mode (i.e non-inverse mode)
  SeeedOled.setPageMode();           //Set addressing mode to Page Mode  
  WiFi_Init();

  SeeedOled.drawBitmap(pmlogo,384);
  printxybmp(3,1,5,24,WalkMan[stepIndex]);
  printnum(4,6,"0");
  
  curtime = millis();              // get the current time
  cursteps = pedometer.stepCount;  // get the current steps
  
  Timer1.initialize(200000); // set a timer of length 100000 microseconds (or 0.1 sec - or 10Hz =&gt; the led will blink 5 times, 5 cycles of on-and-off, per second)
  Timer1.attachInterrupt( TimerISR ); // attach the service routine here
}

void loop() {
  // update pedometer steps
  StepsUpdate();
  
  // if wifi connected and not walking, print local ip.
  PrintLocalIP();
  
  // if wifi disconnected,reconnect. 
  if(WiFi.RSSI()==0){
     status = WL_IDLE_STATUS;
  }
  
  //If you don't walk enough in MINUTES_TO_ALARM minutes, the buzzer beeps 0.5s.
  if((millis()-curtime &gt; MINUTES_TO_ALARM * 60000) &amp;&amp; (pedometer.stepCount - cursteps &lt; MINUTES_TO_ALARM*60/2)){
     buzzer_on(500);
     curtime = millis();
     cursteps = pedometer.stepCount;
  }
}
</pre>
<p><b>Result</b>
1. Shake Xadow-3-Axis Accelerometer ,you will see the pedometer counts.<br/>
<img src="img/Xadow_Wearable_Kit_For_Edison38.png" width="400"/><br/>
2. When the pedometer connects WiFi network, the local IP will display on the OLED screen:<br/>
<img src="img/Xadow_Wearable_Kit_For_Edison39.png" width="400"/><br/>
3. On a device connected on the same network, open a web browser, and go to the IP address displayed on the OLED or Serial Monitor, you can see the step counts.<br/>
<img src="img/Xadow_Wearable_Kit_For_Edison40.png" width="600"/><br/>
4. You can also apply a LiPo Battery to Xadow-Edison(as follows).<br/>
<img src="img/Xadow_Wearable_Kit_For_Edison09.png" width="400"/><br/>
5. Now a beautiful watch case is available. You can download the <a href="res/Edison_Pedometer_3D_models.zip">3D model files</a> and print them using a 3D Printer.<br/>
Here is what it looks like with the watch case:<br/>
<img src="img/Xadow_Wearable_Kit_For_Edison42.jpg" width="400"/><br/>
</p><p><b>TIPS</b>
1. If wifi is connected, the local ip will display on the OLED screen.
<br/>
2. When visiting the web server, a port no. (for example 88) should be added, like this: 192.168.168.157:88
<br/>
</p>
<h2>  Resource </h2>
<ul><li><a href="http://www.seeedstudio.com/depot/">Seeed depot</a>
</li><li><a href="/Main_Page">Seeed product wiki</a>
</li><li><a href="https://github.com/Seeed-Studio/Xadow_Edison_Demos">source code on github</a>
</li><li><a href="res/Edison_Pedometer_3D_models.zip">Edison Pedometer 3D models</a>
</li><li><a href="http://www.intel.com/content/www/us/en/do-it-yourself/edison.html">Intel® Edison official site</a>
</li><li><a href="https://communities.intel.com/docs/DOC-23147">Edison Getting Started Guide</a>
</li><li><a href="http://www.seeed.cc/wear/">Xadow wear</a>
</li><li>
</li></ul>
<h2>  Support  </h2>
<p>If you have questions or other better design ideas, you can go to our <a href="http://www.seeedstudio.com/forum">forum</a> or <a href="http://seeedstudio.com/wish">wish</a> to discuss.
<br/>
</p>
Copyright (c) 2008-2016 Seeed Development Limited (<a href="http://www.seeedstudio.com">www.seeedstudio.com</a> / <a href="http://www.seeed.cc">www.seeed.cc</a>)<h6>This static html page was created from http://www.seeedstudio.com/wiki</h6></div></body></html>