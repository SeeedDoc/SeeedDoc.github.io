<html><head><meta name="viewport" content="width=device-width, initial-scale=1"><link href=//fonts.googleapis.com/css?family=Raleway:400,300,600 rel=stylesheet type=text/css><link rel="stylesheet" type="text/css" href="../common/css/normalize.css"><link rel="stylesheet" type="text/css" href="../common/css/skeleton.css"><link rel="stylesheet" type="text/css" href="../common/css/wiki.css"><script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script><title>Dfu-util</title><meta charset="utf-8"/></head><body><div class"container"><a href="../"><img src="../common/logo.png"/></a></div><div class="mw-content-ltr container" dir="ltr" id="mw-content-text" lang="en"><h1>Dfu-util</h1>
<h2>  Updating firmware with dfu-util </h2>
<p>You will need dfu-util 0.5 or newer to download dfu files to the <a href="/DSO_Nano" title="DSO Nano">DSO Nano</a>.
Older dfu-util versions will not work. The DSO Nano, and many other devices based on ST Micro's microcontrollers, uses ST Micro's own DFU extensions (DfuSe) which are not compatible with the DFU standard.
</p><p>You can find a dfu-util 0.8 package for Ubuntu 10.04 in <a href="https://launchpad.net/~tormodvolden/+archive/ppa/+packages?field.series_filter=lucid">Tormod's PPA</a>. Just download and install the right .deb package. The same package should install fine in any later Ubuntu version or Debian unstable as well. For other operating systems you may have to build dfu-util yourself as described at the dfu-util home page.
</p><p>To download a .dfu firmware file from your computer to your Nano, run this command
</p>
<pre>dfu-util -a 0 -D your-firmware-file.dfu
</pre>
<p>You might have to rerun it a couple of times until it succeeds. If you get "permission denied" errors, prefix the command line with "sudo ".
Do not forget to repeat the command with all needed firmware files (APP and LIB).
</p>
<h2>  Downloading a non-dfuse file to a dfuse device (advanced) </h2>
<p>A standard DFU device will accept a raw binary file from the computer and load it into the right place in flash memory.
On the other hand, with DfuSe, the addresses are given by the .dfu file and the computer has to tell the device where to load it.
</p><p>So to download a raw binary file to a DfuSe device you have to know the target address.
</p><p>Example, to download a raw binary file (in case you are developing):
</p>
<pre>dfu-util -a 0 --dfuse-address 0x08004000 -D your-lib.bin
dfu-util -a 0 --dfuse-address 0x0800C000 -D your-app.bin
</pre>
<h2>  How to build dfu-util from source </h2>
<p>See the <a href="http://dfu-util.gnumonks.org/build.html">build instructions</a> at the dfu-util home page.
</p>
<h2>  Links </h2>
<p>Original forum posts and discussion:
</p>
<ul><li> <a href="http://forum.seeedstudio.com/viewtopic.php?f=12&amp;t=1353&amp;start=10">Linux procedure</a>
</li><li> <a href="http://forum.seeedstudio.com/viewtopic.php?f=12&amp;t=1364">Mac OS X specific instructions</a>
</li></ul>
<p>Official home page
</p>
<ul><li> <a href="http://dfu-util.gnumonks.org/">dfu-util homepage</a>
</li></ul>
Copyright (c) 2008-2016 Seeed Development Limited (<a href="http://www.seeedstudio.com">www.seeedstudio.com</a> / <a href="http://www.seeed.cc">www.seeed.cc</a>)<h6>This static html page was created from http://www.seeedstudio.com/wiki</h6></div></body></html>