<html><head><meta name="viewport" content="width=device-width, initial-scale=1"><link href=//fonts.googleapis.com/css?family=Raleway:400,300,600 rel=stylesheet type=text/css><link rel="stylesheet" type="text/css" href="../common/css/normalize.css"><link rel="stylesheet" type="text/css" href="../common/css/skeleton.css"><link rel="stylesheet" type="text/css" href="../common/css/wiki.css"><script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script><title>Bluetooth Bee-Standalone</title><meta charset="utf-8"/></head><body><div class"container"><a href="../index.html"><img src="../common/logo.png"/></a></div><div class="mw-content-ltr container" dir="ltr" id="mw-content-text" lang="en"><h1>Bluetooth Bee-Standalone</h1>

<p>Save that extra Arduino you have lying around for another project, this two-for-one device has the Arduino built-in. Bluetooth Bee with Arduino is an enhanced version of the Bluetooth Bee. We added an onboard ATMEGA168 to it to make it a full-featured Arduino while maintaining the same footprint and instruction set as the Bluetooth Bee. Plus, it still allows you to stack it on XBee Carrier, XBee® Shield, and UartSBee for expansion or reprogramming. 
</p>
<h2>  Features  </h2>
<ul><li>Small footprint 
</li><li>Identical settings and pairing methods as the Bluetooth Bee 
</li><li>Software serial port adopted between the Bluetooth module and ATMEGA168 
</li><li>Remains compatibile with XBee Carrier, XBee® Shield, and UartsBee for expansion
</li></ul>
<h3>  Hardware Features  </h3>
<ul><li>Typical -80dBm sensitivity. 
</li><li>Up to +4dBm RF transmit power. 
</li><li>Fully Qualified Bluetooth V2.0+EDR 3Mbps Modulation. 
</li><li>3.3v Power 
</li><li>Integrated PCB antenna. 
</li><li>Disconnect and monitor the Bluetooth via Software. 
</li><li>xBee compatible headers.
</li></ul>
<h3>  Software Features  </h3>
<ul><li>Use the SoftSerial program to communication. 
</li><li>Default Baud rate: <b>38400</b>, Data bits:8, Stop bit:1,Parity:No parity, Data control: has. 
</li><li>Supported baud rate: 9600,19200,38400,57600,115200,230400,460800. 
</li><li>Use CTS and RTS to control the data stream. 
</li><li>Disconnecte the Bluetooth via a rising edge on PC2 
</li><li>Status instruction port PB2: low-disconnected, high-connected; 
</li><li>PIO10 is connected to <span style="color:red">red</span> led, PIO11 is connected to <span style="color:blue">blue</span> led. When master and slave are paired, <span style="color:red">red</span> and <span style="color:blue">blue</span> led blinks 1time / 2s in interval, while disconnected only <span style="color:blue">blue</span> led blinks 2 times/ s. 
</li><li>Auto-connect the last device on power as default. 
</li><li>Permit matched device connect by default. 
</li><li>Default PINCODE:”0000”. 
</li><li>Auto-reconnect in 30 min when disconnected as a result of beyond the range of connection.
</li></ul>
<h2>  Application Ideas  </h2>
<ul><li>Arduino compatilbe module with Bluetooth communication. 
</li><li>Bluetooth Serial Port for PC when connected with <a href="/UartSBee_V4">UartSBee</a> and uploading SoftSerial program to <b>ATMEGA168</b>.
</li></ul>
<h2>  Cautions  </h2>
<p><font color="red">
</font></p>
<ul><li>3.3 V power needed. 
</li><li>While using with UartSBee, set the operation voltage to 3.3V 
</li><li>Command to change baud rate is persistent even after reset. Hence remember the baud rate for next use.
</li></ul>
<p>
</p>
<h2>  Schematic  </h2>
<p>To use BlueTooth bee-Standalone more convenient and make it more usefull,you'd better download<a href="res/Bluetooth_Bee-Standalone_schematic.zip">BlueTooth bee-Standalone Eagle files</a>. 
</p>
<h2>  Pin definition and Rating  </h2>
<p>Bottom-view:<br/> <img src="img/Bluetooth-standalone_pin.jpg" width="300"/>
</p><p><br/>PD4 - PD7 = Arduino IDE digital pins 4 - 7  (5,6 PWM)
<br/>PB0 , PB1 = Arduino IDE digital pins 8 , 9  (9   PWM)
<br/>PC0 - PC3 = Arduino IDE analog  pins 0 - 3  (Note PC2 Disconnects the Bluetooth via a rising edge)
<br/>
</p>
<h2>  Mechanic Dimensions  </h2>
<p>Bluetooth Bee-Standalone board is of <b>24mm x 36mm</b> size. 
</p>
<h2>  Usage  </h2>
<p>Example : Use Bluetooth Bee-Standalone to control a <a href="/Grove-LED">Grove-LED</a> with XBee carrier. 
</p>
<h3>  Step 1  </h3>
<p>Connect Grove-Led and Bluetooth Bee-Standalone module to XBee carrier like this. 
</p><p><img src="img/Bluetooth_Bee-Standalone3.jpg" width="450"/>
</p>
<h3>  Step 2  </h3>
<p>Write a program by Arduino-IDE to read informations from the Bluetooth Softserial port and identify to shut or turn on the LED. 
</p>
<div class="mw-geshi" dir="ltr" style="text-align: left;"><div class="arduino source-arduino"><pre class="de1">/*
BluetoothBee Demo Code - Flowcontrol Based Implementation
2010,2011 Copyright (c) Seeed Technology Inc.  All right reserved.
 
Author: Visweswara R      Modify:Joinj
 
This demo code is free software; you can redistribute it and/or
modify it under the terms of the GNU Lesser General Public
License as published by the Free Software Foundation; either
version 2.1 of the License, or (at your option) any later version.
 
This library is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
Lesser General Public License for more details.
 
You should have received a copy of the GNU Lesser General Public
License along with this library; if not, write to the Free Software
Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
 
For more details about the product please check http://www.seeedstudio.com/depot/
 
*/
 
 
/* Upload this sketch to Seeeduino and press reset*/
 
#include &lt;NewSoftSerial.h&gt;   //Software Serial Port
#define RxD 2
#define TxD 3
 
#define DEBUG_ENABLED  1
 
NewSoftSerial blueToothSerial(RxD,TxD);
 
void setup() 
{ 
    pinMode(RxD, INPUT);
    pinMode(TxD, OUTPUT);
    pinMode(5,OUTPUT);
    setupBlueToothConnection();
} 
 
void loop() 
{ 
  unsigned char control;
  unsigned char temp;
  while(temp!='4')  {
      temp=blueToothSerial.read(); 
  }
  Serial.println("You are connected");
  blueToothSerial.print("You are connected");      //You can write you BT communication logic here
  while(1)  {
    temp=blueToothSerial.read();
    switch(temp)  {
      case 'O':{while(temp!='N')  {temp=blueToothSerial.read();}  digitalWrite(5,HIGH);break;}
      case 'S':{while(temp!='H')  {temp=blueToothSerial.read();}  digitalWrite(5,LOW);break;}
      default:break;
    }
  }
} 
 
 
void setupBlueToothConnection()
{
    blueToothSerial.begin(38400); //Set BluetoothBee BaudRate to default baud rate 38400
    delay(1000);
    sendBlueToothCommand("\r\n+STWMOD=0\r\n");
    sendBlueToothCommand("\r\n+STNA=SeeedBluetooth-st\r\n");
    sendBlueToothCommand("\r\n+STAUTO=0\r\n");
    sendBlueToothCommand("\r\n+STOAUT=1\r\n");
    sendBlueToothCommand("\r\n +STPIN=0000\r\n");
    delay(2000); // This delay is required.
    sendBlueToothCommand("\r\n+INQ=1\r\n");
    delay(2000); // This delay is required.
}
 
//Checks if the response "OK" is received
void CheckOK()
{
  char a,b;
  while(1)
  {
    if(blueToothSerial.available())
    {
    a = blueToothSerial.read();
 
    if('O' == a)
    {
      // Wait for next character K. available() is required in some cases, as K is not immediately available.
      while(blueToothSerial.available()) 
      {
         b = blueToothSerial.read();
         break;
      }
      if('K' == b)
      {
        break;
      }
    }
   }
  }
 
  while( (a = blueToothSerial.read()) != -1)
  {
    //Wait until all other response chars are received
  }
}
 
void sendBlueToothCommand(char command[])
{
    blueToothSerial.print(command);
    CheckOK();   
}
</pre></div></div>
<h3>  Step 3  </h3>
<p>Connect the XBee carrier to computer with USB-cable and uploading the program to <b>ATMEGA168</b> on the Bluetooth Bee-Standalone. 
</p>
<h3>  Step 4  </h3>
<p>Remove the USB-cable form XBee carrier and connect the 3.7-Voltage battery to XBee carrier like this. 
</p><p><img src="img/Bluetooth_Bee-Standalone2.jpg" width="450"/>
</p>
<h3>  Step 5  </h3>
<p>Use another Bluetooth Bee connect to the Bluetooth Bee-Standalone.How to connect? You can refer to <a href="/Bluetooth_Bee">Bluetooth Bee</a>.When you are connected,you can control the LED by another Bluetooth Bee.The LED will work when you send "ON" to Bluetooth Bee-Standalone and it will be off when you send "SH"(short for SHUT). 
</p><p><img src="img/Bluetooth_Bee-Standalone1.jpg" width="450"/>
</p>
<h2>  Additional ideas  </h2>
<ul><li><a href="http://dejwoot.blogspot.hk/2012/07/howto-test-your-bluetooth-bee-standalone.html">How to test your Bluetooth Bee - Standalone</a> 
</li></ul>
<h2>  Bill of Materials (BOM) /parts list  </h2>
<ul><li><a href="/Serial_port_bluetooth_module-Master-Slave" title="Serial port bluetooth module (Master/Slave)">Serial port bluetooth module (Master/Slave)</a>
</li></ul>
<h2>  FAQ  </h2>
<p>Please list your questions here: 
</p>
<h2>  Support  </h2>
<p>If you have questions or other better design ideas, you can go to our <a href="http://www.seeedstudio.com/forum">forum</a> or <a href="http://wish.seeedstudio.com">wish</a> to discuss. 
</p>
<h2>  Version Tracker  </h2>
<table>
<tr>
<th> Revision
</th>
<th> Descriptions
</th>
<th> Release
</th></tr>
<tr>
<td width="200px"> v1.0
</td>
<td width="500px"> Initial public release
</td>
<td width="300px"> May 6, 2012
</td></tr></table>
<h2>  Bug Tracker  </h2>
<p>Bug Tracker is the place you can publish any bugs you think you might have found during use. Please write down what you have to say, your answers will help us improve our products. 
</p>
<h2>  Additional Idea  </h2>
<ul><li>Implement a wireless PS/2 Keyboard / Mouse. 
</li><li>Wireless control a toy robot from PC.
</li></ul>
<h2>  Resources  </h2>
<ul><li><a href="res/Bluetooth_Bee-Standalone_schematic.zip">BlueTooth bee-Standalone Eagle files</a>.
</li></ul>
<ul><li><a href="http://arduiniana.org/NewSoftSerial/NewSoftSerial10c.zip">NewSoftLibrary</a>
</li></ul>
<ul><li><a href="http://www.seeedstudio.com/forum/viewtopic.php?f=4&amp;t=687">Information</a> on how to setup connections between Bluetooth Bees is available in Seeedstudio Forum.
</li></ul>
<ul><li><a href="http://www.seeedstudio.com/forum/viewtopic.php?f=18&amp;t=1436&amp;p=5637#p5637">Information</a> on PC connecting Bluetooth Bee in Seeedstudio Forum
</li></ul>
<ul><li><a href="res/Bluetooth_Bee_Standalone_v1.0.pdf" title="File:Bluetooth Bee Standalone v1.0.pdf">File:Bluetooth Bee Standalone v1.0.pdf</a>
</li></ul>
Copyright (c) 2008-2016 Seeed Development Limited (<a href="http://www.seeedstudio.com">www.seeedstudio.com</a> / <a href="http://www.seeed.cc">www.seeed.cc</a>)<h6>This static html page was created from http://www.seeedstudio.com/wiki</h6></div></body></html>