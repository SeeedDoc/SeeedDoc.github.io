<html><head><meta name="viewport" content="width=device-width, initial-scale=1"><link href=//fonts.googleapis.com/css?family=Raleway:400,300,600 rel=stylesheet type=text/css><link rel="stylesheet" type="text/css" href="../common/css/normalize.css"><link rel="stylesheet" type="text/css" href="../common/css/skeleton.css"><link rel="stylesheet" type="text/css" href="../common/css/wiki.css"><script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script><title>SD Card shield V4.0</title><meta charset="utf-8"/><script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-84386732-1', 'auto');
  ga('send', 'pageview');
</script>
</head>
<body><div class"container"><a href="../"><img src="../common/logo.png"/></a></div><div class="mw-content-ltr container" dir="ltr" id="mw-content-text" lang="en"><h1>SD Card shield V4.0</h1>

<p>This is the new-released SD card V4.0 shield. It provides a storage space for your Arduino. Users can read/write SD card via Arduino’s built-in SD library. It supports SD, SDHC and Micro SD cards. It will only occupy the SPI port of your Arduino. Comparing to previous versions, it combines the standart SD slot and the Micro SD slot into a standard one, the included adaptor enables using of Micro SD cards . You can stack on other shields that work with the unused pins. Additionally, the preformed I2C and UART port facilitates your connection with Grove modules.  
</p><p><br/><img src="img/Sd_card_sld.jpg" width="500"/><br/>
</p>
<h2>  Features  </h2>
<ul><li>Stand SD card、SDHC card and TF card compatible
</li><li>UART Grove &amp; I2C connection compatible
</li><li>Fully supported SD Library 
</li><li>Minimal number of SPI port
</li><li>Truly stackable
</li></ul>
<p><br/>
</p>
<h2>  Specification  </h2>
<table  cellspacing="0" width="1121">
<tr>
<th scope="col"> Item
</th>
<th scope="col"> Min
</th>
<th scope="col"> Typical
</th>
<th scope="col"> Max
</th>
<th scope="col"> Unit
</th></tr>
<tr>
<th scope="row"> Voltage
</th>
<td> 3.5
</td>
<td> 5.0
</td>
<td> 5.5
</td>
<td> V
</td></tr>
<tr>
<th scope="row"> Current
</th>
<td> 0.159
</td>
<td> 100
</td>
<td> 200
</td>
<td> mA
</td></tr>
<tr>
<th scope="row"> Supported Card Type
</th>
<td colspan="3"> SD card(&lt;=32G); Micro SD card(&lt;=32G); SDHC card(&lt;=32G)
</td>
<td> /
</td></tr>
<tr>
<th scope="row"> Dimension
</th>
<td colspan="3"> 68.7x53.5x19.00
</td>
<td> mm
</td></tr>
<tr>
<th scope="row"> Net Weight
</th>
<td colspan="3"> 14.8
</td>
<td> g
</td></tr></table>
<h2>  Interface Function  </h2>
<p><br/><img src="img/Interface_FunctionV2.0.png" width="408"/><br/><b>Pins usage on Arduino （with SD card）</b><br/>
</p><p>D4:  SD_CS;<br/>
D11: SD_DI;<br/>
D12: SD_DO;<br/>
D13: SD_CLK.<br/><b>Note:</b> The SD card format can be FAT16 or FAT32.The size of SD card and the SDHC card more than 16GB is not supported.<br/>
</p>
<h2>  Usage  </h2>
<p>The following is instruction of the SD card shield. 
</p>
<h3>  Hardware Installation  </h3>
<p>1. Insert your SD card into the socket, Plug the SD Card Shield onto the Arduino .<br/>2. Connect the Arduino to PC using USB cable.<br/><b>Note:</b> When you use a Micro SD card, please insert Micro SD card into the adopter, and then insert the Micro SD card Adopter into the socket as shown below. <br/><img src="img/SD_card_adopter.JPG" width="300"/><br/>When you complete the hardware installation, it should look like this 
</p><p><br/><img src="img/Hardware_connection.JPG" width="300"/><br/>
</p>
<h3>  Upload the program  </h3>
<p>1. Restart the Arduino IDE. Open "CardInfo"example via the path: File --&gt; Examples --&gt; SD --&gt; CardInfo. 
</p><p>This example shows how use the utility libraries on which the SD library is based in order to get info about your SD card.Very useful for testing a card when 
</p><p>you're not sure whether its working or not. There are also many other examples in this library, like “ReadWrite”. You can always try them out. 
</p><p><br/><img src="img/Open_SD_Card_code.jpg" width="494"/><br/>
</p><p>There has a brief description to above code: 
</p><p> First checks if the card is working. if not, there will output some  reasons that may lead to this result. 
</p><p> In the case of the SD card normal work, it will print the SD card type.Then  print the type and size of the FAT-type volume. 
</p><p> Finally, get the files information such as name, date and size in bytes that found on the card. 
</p><p>2. Upload the code. If you do not know how to upload code, please click <a href="/Upload_Code">here</a>. 
</p><p>3. View Results.You can see the follow image after Click the serial monitor.  
</p><p><br/><img src="img/SD_Card_Infor.jpg" width="367"/><br/>
</p><p>4. If an error occurs, please recheck all the previous steps, and make sure the SD card is working. If none of that fixes the problem, try replacing the SD card. 
</p><p><br/>
</p>
<h3> Note</h3>
<p>Arduino default code return SD size incorrectly if your SD card more than 4G. 
The following code can solve this issue.
<br/>
</p>
<pre>
/*
  SD card test

 This example shows how use the utility libraries on which the'
 SD library is based in order to get info about your SD card.
 Very useful for testing a card when you're not sure whether its working or not.

 The circuit:
  * SD card attached to SPI bus as follows:
 ** MOSI - pin 11 on Arduino Uno/Duemilanove/Diecimila
 ** MISO - pin 12 on Arduino Uno/Duemilanove/Diecimila
 ** CLK - pin 13 on Arduino Uno/Duemilanove/Diecimila
 ** CS - depends on your SD card shield or module.
 ** Pin 4 used here for consistency with other Arduino examples


 created  28 Mar 2011
 by Limor Fried
 modified 9 Apr 2012
 by Tom Igoe
 */
// include the SD library:
#include &lt;SPI.h&gt;
#include &lt;SD.h&gt;

// set up variables using the SD utility library functions:
Sd2Card card;
SdVolume volume;
SdFile root;

// change this to match your SD shield or module;
// Arduino Ethernet shield: pin 4
// Adafruit SD shields and modules: pin 10
// Sparkfun SD shield: pin 8
const int chipSelect = 4;

void setup()
{
  // Open serial communications and wait for port to open:
  Serial.begin(9600);
  while (!Serial) {
    ; // wait for serial port to connect. Needed for Leonardo only
  }


  Serial.print("\nInitializing SD card...");
  // On the Ethernet Shield, CS is pin 4. It's set as an output by default.
  // Note that even if it's not used as the CS pin, the hardware SS pin
  // (10 on most Arduino boards, 53 on the Mega) must be left as an output
  // or the SD library functions will not work.
  pinMode(10, OUTPUT);     // change this to 53 on a mega


  // we'll use the initialization code from the utility libraries
  // since we're just testing if the card is working!
  if (!card.init(SPI_HALF_SPEED, chipSelect)) {
    Serial.println("initialization failed. Things to check:");
    Serial.println("* is a card is inserted?");
    Serial.println("* Is your wiring correct?");
    Serial.println("* did you change the chipSelect pin to match your shield or module?");
    return;
  } else {
    Serial.println("Wiring is correct and a card is present.");
  }

  // print the type of card
  Serial.print("\nCard type: ");
  switch (card.type()) {
    case SD_CARD_TYPE_SD1:
      Serial.println("SD1");
      break;
    case SD_CARD_TYPE_SD2:
      Serial.println("SD2");
      break;
    case SD_CARD_TYPE_SDHC:
      Serial.println("SDHC");
      break;
    default:
      Serial.println("Unknown");
  }

  // Now we will try to open the 'volume'/'partition' - it should be FAT16 or FAT32
  if (!volume.init(card)) {
    Serial.println("Could not find FAT16/FAT32 partition.\nMake sure you've formatted the card");
    return;
  }


  // print the type and size of the first FAT-type volume
  
  uint64_t volumesize64;
  uint32_t volumesize32;
  Serial.print("\nVolume type is FAT");
  Serial.println(volume.fatType(), DEC);
  Serial.println();
  
  volumesize64 = volume.blocksPerCluster();    // clusters are collections of blocks
  volumesize64 *= volume.clusterCount();       // we'll have a lot of clusters
  volumesize64 *= 512;                            // SD card blocks are always 512 bytes
  
  Serial.print("Volume size (bytes): ");
  printLLNumber(volumesize64, DEC);
  Serial.println();
  
  Serial.print("Volume size (Kbytes): ");
  volumesize32 = volumesize64/1024;
  Serial.println(volumesize32);
  
  Serial.print("Volume size (Mbytes): ");
  volumesize32 /= 1024;
  Serial.println(volumesize32);
  /*uint64_t volumesize;
  Serial.print("\nVolume type is FAT");
  Serial.println(volume.fatType(), DEC);
  Serial.println();

  volumesize = volume.blocksPerCluster();    // clusters are collections of blocks
  volumesize *= volume.clusterCount();       // we'll have a lot of clusters
  volumesize *= 512;                            // SD card blocks are always 512 bytes
  Serial.print("Volume size (bytes): ");
  Serial.println(volumesize,DEC);
  Serial.print("Volume size (Kbytes): ");
  volumesize /= 1024;
  Serial.println(volumesize,DEC);
  Serial.print("Volume size (Mbytes): ");
  volumesize /= 1024;
  Serial.println(volumesize,DEC);
*/

  Serial.println("\nFiles found on the card (name, date and size in bytes): ");
  root.openRoot(volume);

  // list all files in the card with date and size
  root.ls(LS_R | LS_DATE | LS_SIZE);
}


void loop(void) {

}
void printLLNumber(uint64_t n, uint8_t base)
{
  unsigned char buf[16 * sizeof(long)]; 
  unsigned int i = 0;

  if (n == 0) 
  {
    Serial.print((char)'0');
    return;
  }

  while (n &gt; 0) 
  {
    buf[i++] = n % base;
    n /= base;
  }

  for (; i &gt; 0; i--)
    Serial.print((char) (buf[i - 1] &lt; 10 ?
      '0' + buf[i - 1] :
      'A' + buf[i - 1] - 10));
}


</pre>
<p><br/>
</p>
<h2>  Resources  </h2>
<p><a href="res/SD_Card_Shiled_v4.0.pdf">SD Card Shiled v4.0 Schematic</a>
</p><p><a href="res/SD_Card_Shield_v4.0a.zip">SD Card Shield v4.0 Eagle File.zip</a>
</p><p><a href="res/SD_Card_Shield_v4.3_eagle_file.zip">SD Card Shield v4.3 Eagle file.zip</a>
</p>
<h2>  Related Projects </h2>
<p>It's a pity that we don't have any demo about SD Card Shield in the <a href="http://www.seeedstudio.com/recipe/">Recipe</a> yet. 
</p><p>Post your awesome project about SD Card Shield to <font color="#FF0000">win $100 Coupon!</font>. Please feel free to contact us: <a href="mailto:recipe@seeed.cc">recipe@seeed.cc</a>
</p><p><br/>
Here we introduce some projects about <a href="http://www.seeedstudio.com/depot/LinkIt-ONE-p-2017.html">LinkIt ONE</a> using SD Card.
</p>
<h3> What is LinkIt ONE</h3>
<p><img src="img/Linkit-one-page.jpg" width="600"/>
</p><p>The LinkIt ONE development board is an open source, high performance board for prototyping Wearables and IoT devices. 
</p><p>It's based on the world's leading SoC for Wearables, MediaTek Aster (MT2502) combined with high performance Wi-Fi (MT5931) 
</p><p>and GPS (MT3332) chipsets to provide you with access to all the features of MediaTek LinkIt. 
</p><p>It also provides similar pin-out features to Arduino boards, making it easy for you to connect to various sensors, peripherals, and Arduino shields.
</p><p><br/>
</p>
<h3>  Music Player with LinkIt One </h3>
<p><img src="img/555a29dc85f7f.png" width="600"/>
<br/>
<br/>
This project uses Grove - Water Sensor to create a simple but effective solution to watering plants.
</p><p>How it works:
</p>
<ul><li> Format the SD card and load sounds or music onto it, copy Arduino Sketch to the LinkIt One
</li></ul>
<ul><li> Switch the LinkIt One into SD mode, and turn on the iM60 speaker to the LinkIt One's audio jack
</li></ul>
<p><br/>
<br/>
<a href="http://www.seeedstudio.com/recipe/246-music-player-with-linkit-one.html"><b>I want to make it.</b></a>
<br/>
<br/>
<a href="http://www.seeedstudio.com/recipe/index.php?query=SD+Card"><b>More Awesome Projects by SD Card</b></a>
</p><p><br/>
</p>
<h3>  Share Your Awesome Projects with Us </h3>
<p>Born with the spirit of making and sharing, that is what we believe makes a maker. 
</p><p>And only because of this, the open source community can be as prosperous as it is today.
</p><p>It does not matter what you are and what you have made, hacker, maker, artist or engineers.
</p><p>As long as you start sharing your works with others, you are being part of the open source community and you are making your contributions.
</p><p>Now share your awesome projects with us on <a href="http://www.seeedstudio.com/recipe/">Recipe</a>, and win a chance to become the Core User of Seeed.
</p>
<ul><li> Core Users, are those who show high interests in Seeed products and make significant contributions on Recipe. 
</li><li> We cooperate with our Core Users in the development of our new product, this, in another word, the Core Users will have the chance to experience any new products of Seeed before its official launch, and in return we expect valuable feedback from them to help us improve the product performance and user experience. And in most cases when our Core Users have some good ideas of making things, we'll offer hardware pieces, PCBA services as well as technical support. Besides, further commercial cooperation with the Core Users is highly possible.
</li></ul>
<p><br/>
<font color="#FF0000">Get more information about Core User, please email to:</font> <a href="mailto:recipe@seeed.cc">recipe@seeed.cc</a>
</p><p><br/>
</p>
Copyright (c) 2008-2016 Seeed Development Limited (<a href="http://www.seeedstudio.com">www.seeedstudio.com</a> / <a href="http://www.seeed.cc">www.seeed.cc</a>)<h6>This static html page was created from http://www.seeedstudio.com/wiki</h6></div></body></html>