<html><head><meta name="viewport" content="width=device-width, initial-scale=1"><link href=//fonts.googleapis.com/css?family=Raleway:400,300,600 rel=stylesheet type=text/css><link rel="stylesheet" type="text/css" href="../common/css/normalize.css"><link rel="stylesheet" type="text/css" href="../common/css/skeleton.css"><link rel="stylesheet" type="text/css" href="../common/css/wiki.css"><script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script><title>Sound finder</title><meta charset="utf-8"/></head><body><div class"container"><a href="../"><img src="../common/logo.png"/></a></div><div class="mw-content-ltr container" dir="ltr" id="mw-content-text" lang="en"><h1>Sound finder</h1><p><b>Function</b>
</p><p>Noise Finder can show you the sound intensity around you. Then you can judge if the noise is too large or not
</p><p><br/>
<b>Connection</b>
</p>
<ul><li>Grove - Sound Sensor connect to A0
</li><li>Wi-Fi antenna 
</li><li>Li Battery
</li></ul>
<p><br/>
<b>Code</b>
</p><p><br/>
Download the code <a href="res/Noise_finder.zip">here</a>.
</p>
<pre>   /*
    * Noise Finder
    * 
    * Note: 
    * 1.change the WIFI_AP to your ssid of Wi-Fi
    * 2.change WIFI_PASSWORD to key of your Wi-Fi
    * 3.as well as the WIFI_AUTH
    * 
    * When the code is finish uploading, open the serial monitor 
    * as soon as possible, then you can find that: "Please open your browser, and input the following address:"
    * and there will be an address below, such 192.168.1.100, copy it to your browser, press Enter, 
    * then you can see the temperature.
    */
   #include &lt;LTask.h&gt;
   #include &lt;LWiFi.h&gt;
   #include &lt;LWiFiServer.h&gt;
   #include &lt;LWiFiClient.h&gt;
   
   #define WIFI_AP "LinkIt_ONE"
   #define WIFI_PASSWORD "depot0510"
   #define WIFI_AUTH LWIFI_WPA                 // choose from LWIFI_OPEN, LWIFI_WPA, or LWIFI_WEP according to your WiFi AP configuration
   
   
   LWiFiServer server(80);
   
   const pinSound = A0;
   
   
   int getLight()
   {
       return analogRead(pinSound);
   }
   
   void setup()
   {
       LTask.begin();
       LWiFi.begin();
       Serial.begin(9600);
   
       // keep retrying until connected to AP
       Serial.println("Connecting to AP");
       while (0 == LWiFi.connect(WIFI_AP, LWiFiLoginInfo(WIFI_AUTH, WIFI_PASSWORD)))
       {
           delay(1000);
       }
   
       printWifiStatus();
   
       Serial.println("Start Server");
       server.begin();
       Serial.println("Server Started");
   }   
   
   int loopCount = 0;
   
   void loop()
   {
       // put your main code here, to run repeatedly:
       delay(500);
       loopCount++;
       LWiFiClient client = server.available();
       
       if (client)
       {
           Serial.println("new client");
           // an http request ends with a blank line
           boolean currentLineIsBlank = true;
           
           unsigned long timer_out = millis();
           
           while (client.connected())
           {
           
               if(millis()-timer_out &gt; 5000)break;
               
               if (client.available())
               {
                   // we basically ignores client request, but wait for HTTP request end
                   int c = client.read();
                   Serial.print((char)c);
   
                   if (c == '\n' &amp;&amp; currentLineIsBlank)
                   {
                       Serial.println("send response");
                       // send a standard http response header
                       client.println("HTTP/1.1 200 OK");
                       client.println("Content-Type: text/html");
                       client.println("Connection: close");  // the connection will be closed after completion of the response
                       client.println("Refresh: 5");  // refresh the page automatically every 5 sec
                       client.println();
                       client.println("&lt;!DOCTYPE HTML&gt;");
                       client.println("&lt;html&gt;");
                       // output the value of each analog input pin
                       client.print("Sound = ");
                       client.print(getLight());
                       client.println("<br/>");
                       client.println("&lt;/html&gt;");
                       client.println();
                       break;
                   }
                   if (c == '\n')
                   {
                       // you're starting a new line
                       currentLineIsBlank = true;
                   }
                   else if (cÂ != '\r')
                   {
                       // you've gotten a character on the current line
                       currentLineIsBlank = false;
                   }
               }
           }
           // give the web browser time to receive the data
           delay(500);
   
           // close the connection:
           Serial.println("close connection");
           client.stop();
           Serial.println("client disconnected");
       }
   }
   
   void printWifiStatus()
   {
       // print the SSID of the network you're attached to:
       Serial.print("SSID: ");
       Serial.println(LWiFi.SSID());
   
       // print your WiFi shield's IP address:
       IPAddress ip = LWiFi.localIP();
       Serial.println("Please open your browser, and input the following address:");
       Serial.println(ip);
   
       Serial.print("\r\nsubnet mask: ");
       Serial.println(LWiFi.subnetMask());
   
       Serial.print("gateway IP: ");
       Serial.println(LWiFi.gatewayIP());
   
       // print the received signal strength:
       long rssi = LWiFi.RSSI();
       Serial.print("signal strength (RSSI):");
       Serial.print(rssi);
       Serial.println(" dBm");
   }
</pre>
Copyright (c) 2008-2016 Seeed Development Limited (<a href="http://www.seeedstudio.com">www.seeedstudio.com</a> / <a href="http://www.seeed.cc">www.seeed.cc</a>)<h6>This static html page was created from http://www.seeedstudio.com/wiki</h6></div></body></html>