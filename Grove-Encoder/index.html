<html><head><meta name="viewport" content="width=device-width, initial-scale=1"><link href=//fonts.googleapis.com/css?family=Raleway:400,300,600 rel=stylesheet type=text/css><link rel="stylesheet" type="text/css" href="../common/css/normalize.css"><link rel="stylesheet" type="text/css" href="../common/css/skeleton.css"><link rel="stylesheet" type="text/css" href="../common/css/wiki.css"><script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script><title>Grove - Encoder</title><meta charset="utf-8"/><script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-84386732-1', 'auto');
  ga('send', 'pageview');
</script>
</head>
<body><div class"container"><a href="../"><img src="../common/logo.png"/></a></div><div class="mw-content-ltr container" dir="ltr" id="mw-content-text" lang="en"><h1>Grove - Encoder</h1><p><img src="img/Encoder2.jpg" width="350"/><img src="img/Encoder_back.jpg" width="350"/>
</p><p>This module is an incremental rotary encoder. It encodes the rotation signal from the axis and output the signal by electronic pulse. The Grove – Encoder is one of the Grove series and has a standard Grove interface. <br/>When you need to add a rotary knob to your project, for example a volume knob for a speaker, a selection panel or a digital input, this will be your first choice.<br/>
</p><p><br/>
<a href="http://www.seeedstudio.com/depot/Grove-Encoder-p-1352.html"><img src="../common/Get_One_Now_Banner.png" width="300"/></a>
</p><p><br/>
</p>
<p><br/>
</p>
<h2> Features </h2>
<ul><li>Incremental encoder.
</li><li>Grove Interface.
</li><li>360 degree rotary.
</li></ul>
<h2> Specification </h2>
<table>
<tr>
<th> Item </th>
<th> Min </th>
<th> Typical </th>
<th> Max </th>
<th> Unit
</th></tr>
<tr>
<td width="150">  Voltage </td>
<td width="100"> 4.5 </td>
<td width="100"> 5 </td>
<td width="100"> 5.5 </td>
<td width="100"> V
</td></tr>
<tr>
<td>  Current  </td>
<td> 10 </td>
<td> 20 </td>
<td> 30 </td>
<td> mA
</td></tr>
<tr>
<td> Dimension </td>
<td colspan="3"> 20x 20 </td>
<td> mm
</td></tr>
<tr>
<td> Net Weight </td>
<td colspan="3"> 12 </td>
<td> g
</td></tr></table>
<p><br/>
</p>
<h2> Getting Started </h2>
<p>This Grove-Encoder is very easy to use with the <a href="res/Encoder.zip">Encoder Lib</a> designed by seeedstudio. Simply connect this module to the D2 connector of Base Shield and you can start using. The following is a introduction of how to make a <a href="http://www.seeedstudio.com/wish/circular-led-bar-p1572">Circular LED bar</a> (the idea came from <a href="http://www.seeedstudio.com/wish/">seeedstudio wish</a>）. 
</p>
<ul><li>This Circular LED bar consists of an Encoder and a <a href="/Grove-Circular_LED">Grove-CircularLED</a> module. Connect the two modules to Base shield as the following picture:&lt;b
</li></ul>
<p><img src="img/Cirhard.jpg" width="557"/>
</p>
<ul><li>In the project, the <a href="res/TimerOne.zip">TimeOne Lib</a> and <a href="res/Encoder.zip">Encoder Lib</a> and <a href="res/CircularLED.zip">CircularLED Library</a> are needed. Download all the librarys and install them to your Arduino IDE.
</li></ul>
<p><br/>
</p>
<ul><li>Restart the Arduino IDE and open the example by the path :File-&gt;Examples-&gt;Encoder-&gt;EncodeCircuiBar. 
</li></ul>
<div class="mw-geshi mw-code mw-content-ltr container" dir="ltr"><div class="arduino source-arduino"><pre class="de1"><span class="co2">#include &lt;CircularLED.h&gt;</span>
<span class="co2">#include &lt;Encoder.h&gt;</span>
<span class="co2">#include &lt;TimerOne.h&gt;</span>
CircularLED circularLED<span class="sy4">;</span>
<span class="kw4">unsigned</span> <span class="kw4">int</span> LED<span class="br0">[</span><span class="nu0">24</span><span class="br0">]</span><span class="sy4">;</span>
<span class="kw4">int</span> index_LED<span class="sy4">;</span>
<span class="kw4">void</span> <span class="kw2">setup</span><span class="br0">(</span><span class="br0">)</span>
<span class="br0">{</span>
  encoder.<span class="me1">Timer_init</span><span class="br0">(</span><span class="br0">)</span><span class="sy4">;</span>
<span class="br0">}</span>
<span class="kw4">void</span> <span class="kw2">loop</span><span class="br0">(</span><span class="br0">)</span>
<span class="br0">{</span>
    <span class="kw1">if</span> <span class="br0">(</span>encoder.<span class="me1">rotate_flag</span> <span class="sy1">==</span><span class="nu0">1</span><span class="br0">)</span>
  <span class="br0">{</span>
    <span class="kw1">if</span> <span class="br0">(</span>encoder.<span class="me1">direct</span><span class="sy1">==</span><span class="nu0">1</span><span class="br0">)</span>
    <span class="br0">{</span>
      index_LED<span class="sy2">++</span><span class="sy4">;</span>
      <span class="kw1">if</span> <span class="br0">(</span>index_LED<span class="sy1">&gt;</span><span class="nu0">23</span><span class="br0">)</span>
      index_LED<span class="sy1">=</span><span class="nu0">24</span><span class="sy4">;</span>
      SenttocircularBar<span class="br0">(</span>index_LED<span class="br0">)</span><span class="sy4">;</span>
    <span class="br0">}</span>
     <span class="kw1">else</span>
     <span class="br0">{</span>
      index_LED<span class="sy2">--</span><span class="sy4">;</span>
      <span class="kw1">if</span><span class="br0">(</span>index_LED<span class="sy1">&lt;</span><span class="nu0">0</span><span class="br0">)</span>
      index_LED<span class="sy1">=</span><span class="nu0">0</span><span class="sy4">;</span>
      SenttocircularBar<span class="br0">(</span>index_LED<span class="br0">)</span><span class="sy4">;</span>
     <span class="br0">}</span>
    encoder.<span class="me1">rotate_flag</span> <span class="sy1">=</span><span class="nu0">0</span><span class="sy4">;</span>
  <span class="br0">}</span>
<span class="br0">}</span>
<span class="kw4">void</span> SenttocircularBar<span class="br0">(</span><span class="kw4">int</span> index<span class="br0">)</span>
<span class="br0">{</span>
  <span class="kw1">for</span> <span class="br0">(</span><span class="kw4">int</span> i<span class="sy1">=</span><span class="nu0">0</span><span class="sy4">;</span>i<span class="sy1">&lt;</span><span class="nu0">24</span><span class="sy4">;</span>i<span class="sy2">++</span><span class="br0">)</span>
  <span class="br0">{</span>
    <span class="kw1">if</span> <span class="br0">(</span>i<span class="sy1">&lt;</span>index<span class="br0">)</span>
    <span class="br0">{</span>
      LED<span class="br0">[</span>i<span class="br0">]</span><span class="sy1">=</span><span class="nu12">0xff</span><span class="sy4">;</span>
    <span class="br0">}</span>
    <span class="kw1">else</span>
    LED<span class="br0">[</span>i<span class="br0">]</span><span class="sy1">=</span><span class="nu0">0</span><span class="sy4">;</span>
  <span class="br0">}</span>
  circularLED.<span class="me1">CircularLEDWrite</span><span class="br0">(</span>LED<span class="br0">)</span><span class="sy4">;</span>
<span class="br0">}</span></pre></div></div>
<p><br/>
</p>
<ul><li>Upload it to your Arduino/Seeeduino, please refer to <a href="/Upload_Code">here</a> to learn how to upload sketches. You can see: <br/>
</li></ul>
<p><br/>
<img src="img/EncoderAndCircular_LED.gif" width="600"/>
</p><p><b>Note:</b> It is able to generate another signal when it’s being pressed down. However due to the limitation of the number of Grove signal cable, the module is made without output of this signal.<br/>
</p>
<h2> Resources </h2>
<ul><li><a href="res/Encoder_Spe.zip">Encoder Spec</a><br/>
</li><li><a href="http://www.arduino.cc/playground/Main/RotaryEncoders">Demo in Arduino forum</a><br/>
</li><li><a href="res/TimerOne.zip">TimeOne Lib</a><br/>
</li><li><a href="res/Encoder.zip">Encoder Lib</a><br/>
</li><li><a href="res/Grove-Encoder_eagle_files.zip">Grove-Encoder Eagle files</a>
</li><li>
</li></ul>
Copyright (c) 2008-2016 Seeed Development Limited (<a href="http://www.seeedstudio.com">www.seeedstudio.com</a> / <a href="http://www.seeed.cc">www.seeed.cc</a>)<h6>This static html page was created from http://www.seeedstudio.com/wiki</h6></div></body></html>