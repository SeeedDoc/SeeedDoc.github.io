<html><head><meta name="viewport" content="width=device-width, initial-scale=1"><link href=//fonts.googleapis.com/css?family=Raleway:400,300,600 rel=stylesheet type=text/css><link rel="stylesheet" type="text/css" href="../common/css/normalize.css"><link rel="stylesheet" type="text/css" href="../common/css/skeleton.css"><link rel="stylesheet" type="text/css" href="../common/css/wiki.css"><script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script><title>Grove - Temperature&amp;Humidity Sensor</title><meta charset="utf-8"/><script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-84386732-1', 'auto');
  ga('send', 'pageview');
</script>
</head>
<body><div class"container"><a href="../"><img src="../common/logo.png"/></a></div><div class="mw-content-ltr container" dir="ltr" id="mw-content-text" lang="en"><h1>Grove - Temperature&amp;Humidity Sensor</h1>

<p>This temperature &amp; humidity sensor provides a pre-calibrated digital output. A unique capacitive sensor element measures relative humidity and the temperature is measured by a negative temperature coefficient (NTC) thermistor. It has excellent reliability and long term stability. Please note that this sensor will not work for temperatures below 0 degree.
</p><p>Model:<a href="http://www.seeedstudio.com/depot/grove-temphumi-sensor-p-745.html?cPath=144_147">SEN11301P</a>
</p><p><img src="img/Twig-TempAndHumi.jpg" width="400"/>
</p>
<h2>  Features  </h2>
<ul><li>Relative Humidity and temperature measurement 
</li><li>Full range temperature compensation Calibrated 
</li><li>Digital signal 
</li><li>Long term stability 
</li><li>Long transmission distance(&gt;20m)
</li><li>Low power consumption
</li></ul>
<h2>  Applications Ideas </h2>
<ul><li>Consumption product  
</li><li>Weather station
</li><li>Humidity regulator
</li><li>Air conditioner
</li></ul>
<h2>  Schematic  </h2>
<p><img src="img/Temp_Humi_sch.jpg" width="400"/>
</p>
<h2> Specifications  </h2>
<h2>  Key Specification  </h2>
<table >
<tr>
<td width="400"> <b>Items</b>
</td>
<td width="400"> <b>Min</b>
</td></tr>
<tr style="font-size: 90%">
<td> PCB Size
</td>
<td> 2.0cm*4.0cm
</td></tr>
<tr style="font-size: 90%">
<td> Interface
</td>
<td> 2.0mm pitch pin header
</td></tr>
<tr style="font-size: 90%">
<td> IO Structure
</td>
<td> SIG,VCC,GND,NC
</td></tr>
<tr style="font-size: 90%">
<td> ROHS
</td>
<td> YES
</td></tr></table>
<p><br/>
</p>
<h3>  Electronic Characterstics  </h3>
<table >
<tr>
<td width="300"> <b>Items</b>
</td>
<td width="300"> <b>Conditions</b>
</td>
<td width="100"> <b>Min</b>
</td>
<td width="100"> <b>Norm</b>
</td>
<td width="100"> <b>Max</b>
</td>
<td width="100"> <b>Unit</b>
</td></tr>
<tr>
<td> VCC
</td>
<td> -
</td>
<td> 3.3
</td>
<td> -
</td>
<td> 5
</td>
<td> Volts
</td></tr>
<tr>
<td> Measuring Current Supply
</td>
<td> -
</td>
<td> 1.3 
</td>
<td> - 
</td>
<td> 2.1
</td>
<td> mA
</td></tr>
<tr>
<td> Average Current Supply
</td>
<td> -
</td>
<td> 0.5
</td>
<td> -
</td>
<td> 1.1
</td>
<td> mA
</td></tr>
<tr>
<td rowspan="2"> Measuring Range<br/>
</td>
<td> Humidity
</td>
<td> 20%
</td>
<td> -
</td>
<td> 90%
</td>
<td> RH
</td></tr>
<tr>
<td> Temperature
</td>
<td> 0
</td>
<td> -
</td>
<td> 50
</td>
<td> °C
</td></tr>
<tr>
<td rowspan="2"> Accuracy
</td>
<td> Humidity
</td>
<td> -
</td>
<td> -
</td>
<td> ±5%
</td>
<td> RH
</td></tr>
<tr>
<td> Temperature
</td>
<td>
</td>
<td>
</td>
<td> ±2
</td>
<td> °C
</td></tr>
<tr>
<td rowspan="2">  Sensitivity
</td>
<td> Humidity
</td>
<td>
</td>
<td> -
</td>
<td> 1%
</td>
<td> RH
</td></tr>
<tr>
<td> Temperature
</td>
<td>
</td>
<td>
</td>
<td> 1
</td>
<td> °C
</td></tr>
<tr>
<td rowspan="2"> Repeatability
</td>
<td> Humidity
</td>
<td>
</td>
<td>
</td>
<td> ±1%
</td>
<td> RH
</td></tr>
<tr>
<td> Temperature
</td>
<td>
</td>
<td>
</td>
<td> ±1
</td>
<td> °C
</td></tr>
<tr>
<td> Long-term Stability
</td>
<td>
</td>
<td>
</td>
<td>
</td>
<td> ±1%
</td>
<td> RH/year
</td></tr>
<tr>
<td> Signal Collecting Period
</td>
<td>
</td>
<td>
</td>
<td> 2
</td>
<td>
</td>
<td> S
</td></tr></table>
<p><br/>
</p>
<h2>  Usage  </h2>
<p>When MCU sends a trigger signal, sensor will change from low power consumption mode to active mode. After the trigger signal sensor will send a response signal back to MCU, then 40 bit collected data is sent out and a new signal collecting is trigged.(Note that the 40 bit collected data which is sent from sensor to MCU is already collected before the trigger signal comes.) One trigger signal receives one time 40 bit response data from sensor. Single-bus data is used for communication between MCU and sensor.<br/>The communication process is shown as below:<br/><br/><img src="img/Twig-Temperature_Humidity.jpg" width="900"/>
</p><p>It costs 5mS for single time communication.The high-order bit of data sends out first. Signal Data is 40 bit, comprised of 16 bit humidity data, 16 bit temperature data and 8 bit checksum.The data format is:
</p>
<pre>8bits integer part of humidity+8bits decimal part of humidity
+8bits integer part of temperature+8bits decimal part of temperature
+8bits checksum.
</pre>
<h2>  Programming  </h2>
<p>Connect the Temperature and Humidity sensor to analog port A0.Then you can use the following programme to gain the temperature and humidity of the environment.(The code is for seeeduino only,if you use seeeduino mega you should change the code a little. See below, if you use seeeduino mega, you should change PINC to PINF, change DDRC to DDRF and change PORTC to PORTF)
</p><p><img src="img/Temperature_Sensor.jpg" width="500"/>
</p>
<div class="mw-geshi mw-code mw-content-ltr container" dir="ltr"><div class="arduino source-arduino"><pre class="de1"><span class="co2">#define DHT11_PIN 0      // ADC0</span>
 
byte read_dht11_dat<span class="br0">(</span><span class="br0">)</span>
<span class="br0">{</span>
  byte i <span class="sy1">=</span> <span class="nu0">0</span><span class="sy4">;</span>
  byte result<span class="sy1">=</span><span class="nu0">0</span><span class="sy4">;</span>
  <span class="kw1">for</span><span class="br0">(</span>i<span class="sy1">=</span><span class="nu0">0</span><span class="sy4">;</span> i<span class="sy1">&lt;</span> <span class="nu0">8</span><span class="sy4">;</span> i<span class="sy2">++</span><span class="br0">)</span><span class="br0">{</span>
 
 
    <span class="kw1">while</span><span class="br0">(</span><span class="sy3">!</span><span class="br0">(</span>PINC <span class="sy3">&amp;</span> _BV<span class="br0">(</span>DHT11_PIN<span class="br0">)</span><span class="br0">)</span><span class="br0">)</span><span class="sy4">;</span>  <span class="co1">// wait for 50us</span>
    <span class="kw3">delayMicroseconds</span><span class="br0">(</span><span class="nu0">30</span><span class="br0">)</span><span class="sy4">;</span>
 
    <span class="kw1">if</span><span class="br0">(</span>PINC <span class="sy3">&amp;</span> _BV<span class="br0">(</span>DHT11_PIN<span class="br0">)</span><span class="br0">)</span> 
      result <span class="sy3">|</span><span class="sy1">=</span><span class="br0">(</span><span class="nu0">1</span><span class="sy1">&lt;&lt;</span><span class="br0">(</span><span class="nu0">7</span><span class="sy2">-</span>i<span class="br0">)</span><span class="br0">)</span><span class="sy4">;</span>
    <span class="kw1">while</span><span class="br0">(</span><span class="br0">(</span>PINC <span class="sy3">&amp;</span> _BV<span class="br0">(</span>DHT11_PIN<span class="br0">)</span><span class="br0">)</span><span class="br0">)</span><span class="sy4">;</span>  <span class="co1">// wait '1' finish</span>
 
 
  <span class="br0">}</span>
  <span class="kw1">return</span> result<span class="sy4">;</span>
<span class="br0">}</span>
 
 
<span class="kw4">void</span> <span class="kw2">setup</span><span class="br0">(</span><span class="br0">)</span>
<span class="br0">{</span>
  DDRC <span class="sy3">|</span><span class="sy1">=</span> _BV<span class="br0">(</span>DHT11_PIN<span class="br0">)</span><span class="sy4">;</span>
  PORTC <span class="sy3">|</span><span class="sy1">=</span> _BV<span class="br0">(</span>DHT11_PIN<span class="br0">)</span><span class="sy4">;</span>
 
  <span class="kw2">Serial</span>.<span class="kw3">begin</span><span class="br0">(</span><span class="nu0">9600</span><span class="br0">)</span><span class="sy4">;</span>
 
  <span class="kw2">Serial</span>.<span class="kw3">println</span><span class="br0">(</span><span class="st0">"Ready"</span><span class="br0">)</span><span class="sy4">;</span>
<span class="br0">}</span>
 
<span class="kw4">void</span> <span class="kw2">loop</span><span class="br0">(</span><span class="br0">)</span>
<span class="br0">{</span>
  byte dht11_dat<span class="br0">[</span><span class="nu0">5</span><span class="br0">]</span><span class="sy4">;</span>
  byte dht11_in<span class="sy4">;</span>
  byte i<span class="sy4">;</span>
  <span class="co1">// start condition</span>
  <span class="co1">// 1. pull-down i/o pin from 18ms</span>
  PORTC <span class="sy3">&amp;</span><span class="sy1">=</span> ~_BV<span class="br0">(</span>DHT11_PIN<span class="br0">)</span><span class="sy4">;</span>
  <span class="kw3">delay</span><span class="br0">(</span><span class="nu0">18</span><span class="br0">)</span><span class="sy4">;</span>
  PORTC <span class="sy3">|</span><span class="sy1">=</span> _BV<span class="br0">(</span>DHT11_PIN<span class="br0">)</span><span class="sy4">;</span>
  <span class="kw3">delayMicroseconds</span><span class="br0">(</span><span class="nu0">40</span><span class="br0">)</span><span class="sy4">;</span>
 
  DDRC <span class="sy3">&amp;</span><span class="sy1">=</span> ~_BV<span class="br0">(</span>DHT11_PIN<span class="br0">)</span><span class="sy4">;</span>
  <span class="kw3">delayMicroseconds</span><span class="br0">(</span><span class="nu0">40</span><span class="br0">)</span><span class="sy4">;</span>
 
  dht11_in <span class="sy1">=</span> PINC <span class="sy3">&amp;</span> _BV<span class="br0">(</span>DHT11_PIN<span class="br0">)</span><span class="sy4">;</span>
 
  <span class="kw1">if</span><span class="br0">(</span>dht11_in<span class="br0">)</span><span class="br0">{</span>
    <span class="kw2">Serial</span>.<span class="kw3">println</span><span class="br0">(</span><span class="st0">"dht11 start condition 1 not met"</span><span class="br0">)</span><span class="sy4">;</span>
    <span class="kw1">return</span><span class="sy4">;</span>
  <span class="br0">}</span>
  <span class="kw3">delayMicroseconds</span><span class="br0">(</span><span class="nu0">80</span><span class="br0">)</span><span class="sy4">;</span>
 
  dht11_in <span class="sy1">=</span> PINC <span class="sy3">&amp;</span> _BV<span class="br0">(</span>DHT11_PIN<span class="br0">)</span><span class="sy4">;</span>
 
  <span class="kw1">if</span><span class="br0">(</span><span class="sy3">!</span>dht11_in<span class="br0">)</span><span class="br0">{</span>
    <span class="kw2">Serial</span>.<span class="kw3">println</span><span class="br0">(</span><span class="st0">"dht11 start condition 2 not met"</span><span class="br0">)</span><span class="sy4">;</span>
    <span class="kw1">return</span><span class="sy4">;</span>
  <span class="br0">}</span>
  <span class="kw3">delayMicroseconds</span><span class="br0">(</span><span class="nu0">80</span><span class="br0">)</span><span class="sy4">;</span>
  <span class="co1">// now ready for data reception</span>
  <span class="kw1">for</span> <span class="br0">(</span>i<span class="sy1">=</span><span class="nu0">0</span><span class="sy4">;</span> i<span class="sy1">&lt;</span><span class="nu0">5</span><span class="sy4">;</span> i<span class="sy2">++</span><span class="br0">)</span>
    dht11_dat<span class="br0">[</span>i<span class="br0">]</span> <span class="sy1">=</span> read_dht11_dat<span class="br0">(</span><span class="br0">)</span><span class="sy4">;</span>
 
  DDRC <span class="sy3">|</span><span class="sy1">=</span> _BV<span class="br0">(</span>DHT11_PIN<span class="br0">)</span><span class="sy4">;</span>
  PORTC <span class="sy3">|</span><span class="sy1">=</span> _BV<span class="br0">(</span>DHT11_PIN<span class="br0">)</span><span class="sy4">;</span>
 
  byte dht11_check_sum <span class="sy1">=</span> dht11_dat<span class="br0">[</span><span class="nu0">0</span><span class="br0">]</span><span class="sy2">+</span>dht11_dat<span class="br0">[</span><span class="nu0">1</span><span class="br0">]</span><span class="sy2">+</span>dht11_dat<span class="br0">[</span><span class="nu0">2</span><span class="br0">]</span><span class="sy2">+</span>dht11_dat<span class="br0">[</span><span class="nu0">3</span><span class="br0">]</span><span class="sy4">;</span>
  <span class="co1">// check check_sum</span>
  <span class="kw1">if</span><span class="br0">(</span>dht11_dat<span class="br0">[</span><span class="nu0">4</span><span class="br0">]</span><span class="sy3">!</span><span class="sy1">=</span> dht11_check_sum<span class="br0">)</span>
  <span class="br0">{</span>
    <span class="kw2">Serial</span>.<span class="kw3">println</span><span class="br0">(</span><span class="st0">"DHT11 checksum error"</span><span class="br0">)</span><span class="sy4">;</span>
  <span class="br0">}</span>
 
  <span class="kw2">Serial</span>.<span class="kw3">print</span><span class="br0">(</span><span class="st0">"Current humdity = "</span><span class="br0">)</span><span class="sy4">;</span>
  <span class="kw2">Serial</span>.<span class="kw3">print</span><span class="br0">(</span>dht11_dat<span class="br0">[</span><span class="nu0">0</span><span class="br0">]</span>, <span class="kw2">DEC</span><span class="br0">)</span><span class="sy4">;</span>
  <span class="kw2">Serial</span>.<span class="kw3">print</span><span class="br0">(</span><span class="st0">"."</span><span class="br0">)</span><span class="sy4">;</span>
  <span class="kw2">Serial</span>.<span class="kw3">print</span><span class="br0">(</span>dht11_dat<span class="br0">[</span><span class="nu0">1</span><span class="br0">]</span>, <span class="kw2">DEC</span><span class="br0">)</span><span class="sy4">;</span>
  <span class="kw2">Serial</span>.<span class="kw3">print</span><span class="br0">(</span><span class="st0">"%  "</span><span class="br0">)</span><span class="sy4">;</span>
  <span class="kw2">Serial</span>.<span class="kw3">print</span><span class="br0">(</span><span class="st0">"temperature = "</span><span class="br0">)</span><span class="sy4">;</span>
  <span class="kw2">Serial</span>.<span class="kw3">print</span><span class="br0">(</span>dht11_dat<span class="br0">[</span><span class="nu0">2</span><span class="br0">]</span>, <span class="kw2">DEC</span><span class="br0">)</span><span class="sy4">;</span>
  <span class="kw2">Serial</span>.<span class="kw3">print</span><span class="br0">(</span><span class="st0">"."</span><span class="br0">)</span><span class="sy4">;</span>
  <span class="kw2">Serial</span>.<span class="kw3">print</span><span class="br0">(</span>dht11_dat<span class="br0">[</span><span class="nu0">3</span><span class="br0">]</span>, <span class="kw2">DEC</span><span class="br0">)</span><span class="sy4">;</span>
  <span class="kw2">Serial</span>.<span class="kw3">println</span><span class="br0">(</span><span class="st0">"C  "</span><span class="br0">)</span><span class="sy4">;</span>
 
  <span class="kw3">delay</span><span class="br0">(</span><span class="nu0">2000</span><span class="br0">)</span><span class="sy4">;</span>
<span class="br0">}</span></pre></div></div>
<h2>  Version Tracker</h2>
<table>
<tr>
<th> Revision
</th>
<th> Descriptions
</th>
<th> Release
</th></tr>
<tr>
<td width="300px"> Grove - Temp&amp;Humi Sensor v1.0
</td>
<td width="500px"> Initial public release for Grove module
</td>
<td width="200px"> Jan 14, 2011
</td></tr></table>
<h2>  Resources  </h2>
<ul><li><a href="http://garden.seeedstudio.com/images/7/79/Temperature_Humidity.zip">Temperature Humidity.zip</a>
</li></ul>
<h2>  How to buy  </h2>
<p>Click here to buy: <a href="http://www.seeedstudio.com/depot/grove-temphumi-sensor-p-745.html?cPath=144_147">http://www.seeedstudio.com/depot/grove-temphumi-sensor-p-745.html?cPath=144_147</a>.
</p>
<h2>  See Also  </h2>
<ul><li><a href="/GROVE_System" title="GROVE System">GROVE - Starter Bundle</a>
</li><li><a href="/2-axis_compass_Module" title="2-axis compass Module">2-axis compass Module</a>
</li><li> <a href="/Grove-I2C_3-axis_Accelerometer" title="Grove - I2C 3-axis Accelerometer">Grove - I2C 3-axis Accelerometer</a>
</li><li> <a href="/Grove-3-axis_Gyro" title="Grove - 3-axis Gyro">Grove - 3-axis Gyro</a>
</li><li> <a href="/Grove-Water_Sensor" title="Grove - Water Sensor">Grove - Water Sensor</a>
</li><li> <a href="/Grove-Light_Sensor" title="Grove - Light Sensor">Grove - Light Sensor</a>
</li><li> <a href="/Grove-Touch_Sensor" title="Grove - Touch Sensor">Grove - Touch Sensor</a>
</li><li> <a href="/w/index.php?title=Grove_-_3-axis_Compass&amp;action=edit&amp;redlink=1" title="Grove - 3-axis Compass (page does not exist)">Grove - 3-axis Compass</a>
</li><li> <a href="/Grove-Magnetic_Switch" title="Grove - Magnetic Switch">Grove - Magnetic Switch</a>
</li><li> <a href="/Grove-Alcohol_Sensor" title="Grove - Alcohol Sensor">Grove - Alcohol Sensor</a>
</li><li> <a href="/w/index.php?title=Grove_-_OLED_128*64_reversion&amp;action=edit&amp;redlink=1" title="Grove - OLED 128*64 reversion (page does not exist)">Grove - OLED 128*64 reversion</a>
</li><li> <a href="/Grove-Serial_LCD" title="Grove - Serial LCD">Grove - Serial LCD</a>
</li><li> <a href="/Grove-RTC" title="Grove - RTC">Grove - RTC</a>
</li><li> <a href="/Grove-Electricity_Sensor" title="Grove - Electricity Sensor">Grove - Electricity Sensor</a>
</li><li> <a href="/Grove-Sound_Sensor" title="Grove - Sound Sensor">Grove - Sound Sensor </a>
</li><li> <a href="/Grove-Base_Shield" title="Grove - Base Shield">Grove - Base Shield</a>
</li></ul>
<h2>  Licensing  </h2>
<p>This documentation is licensed under the Creative Commons <a href="http://creativecommons.org/licenses/by-sa/3.0/">Attribution-ShareAlike License 3.0</a> Source code and libraries are licensed under <a href="http://www.gnu.org/licenses/gpl.html">GPL/LGPL</a>, see source code files for details.
</p>
<h2>  External Links  </h2>
<p>Links to external webpages which provide more application ideas, documents/datasheet or software libraries
</p>
Copyright (c) 2008-2016 Seeed Development Limited (<a href="http://www.seeedstudio.com">www.seeedstudio.com</a> / <a href="http://www.seeed.cc">www.seeed.cc</a>)<h6>This static html page was created from http://www.seeedstudio.com/wiki</h6></div></body></html>
